2025-05-13 17:44:02,134 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:04,816 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:13,858 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:45:08,898 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:47:09,658 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:25,110 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:27,289 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:32,158 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:12,353 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:14,623 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:18,531 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:38,268 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:40,507 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:44,663 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:52,037 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,081 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:55,096 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments, Mode: qa
2025-05-13 17:50:55,096 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,111 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:50:55,639 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:50:55,869 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:50:55,941 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:50:56,046 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,133 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,134 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:50:56,134 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "company_id": 1,
  "bot_id": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "event_id": 154,
  "page_number": 1
}
2025-05-13 17:50:56,258 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,278 — INFO — bot — [MEMORY] Created new history for session a721808a-fe06-45d9-a2f6-2dd0e99318ad
2025-05-13 17:50:57,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:57,064 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop and strengthen emotional bonds?  ', 'What techniques can I use to foster attachment in relationships?']
2025-05-13 17:50:58,050 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,189 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:58,827 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,914 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:59,484 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:59,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:51:00,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:00,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:07,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:51:07,348 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:53:54,250 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:53:57,240 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:25,930 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:48,058 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,540 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:48,554 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:54:48,555 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,571 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:54:48,878 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:54:49,074 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:54:49,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:54:49,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,391 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:54:49,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:54:49,503 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "ocr_used": false,
  "company_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "author": "python-docx",
  "page_number": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "section_title": "Section 0"
}
2025-05-13 17:54:49,504 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,523 — INFO — bot — [MEMORY] Created new history for session 144ea97e-38d3-4b01-9f76-2f6f55a3d3b8
2025-05-13 17:54:51,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:51,031 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments in relationships?  ', 'How can I develop deeper emotional connections with others?  ', 'What strategies can I use to strengthen my bonds with people?']
2025-05-13 17:54:51,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,083 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,891 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:53,630 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:53,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:55:00,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:55:00,838 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:56:18,508 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:56:28,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,707 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:28,720 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:56:28,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,734 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:56:29,005 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:56:29,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:56:29,301 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:56:29,415 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,570 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:56:29,571 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,690 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:56:29,694 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "page_number": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "ocr_used": false,
  "section_title": "Section 0",
  "event_id": 154,
  "author": "python-docx",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_index": 0,
  "file_name": "How to Bond Attachments.pdf",
  "company_id": 1
}
2025-05-13 17:56:29,695 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,714 — INFO — bot — [MEMORY] Created new history for session 52a9194b-a7ad-41eb-89b2-c55f3d209860
2025-05-13 17:56:30,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:30,405 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:56:31,255 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:31,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,157 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,367 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,459 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:33,300 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:34,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:39,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:39,829 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:57:28,053 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:30,959 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:37,642 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:46,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:47,250 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:57:47,250 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,264 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:57:47,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:57:47,777 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:57:48,052 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:57:48,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:57:48,237 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "company_id": 1,
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_index": 0,
  "event_id": 154,
  "source_type": "manual_upload",
  "bot_id": 1,
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n"
}
2025-05-13 17:57:48,355 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,371 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 17:57:49,094 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:49,099 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:57:49,817 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:49,980 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:50,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:50,284 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:51,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:51,512 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:52,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:52,872 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:57,683 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:57,685 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:59:58,803 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:00:08,876 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,404 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:09,417 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 18:00:09,417 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,433 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:00:09,788 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:00:09,966 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:00:10,058 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:00:10,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,248 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,249 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:00:10,249 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,375 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_count": 2,
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "event_id": 154,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "company_id": 1,
  "creation_date": "D:20250505171151+00'00'"
}
2025-05-13 18:00:10,384 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,403 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:00:11,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:11,133 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-13 18:00:11,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:11,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,425 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,541 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,942 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:13,476 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:13,898 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:18,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:18,983 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:20:06,914 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:20:27,877 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,670 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:28,684 — INFO — bot — [CLASSIFIER] Question: what kind of composite do i use when bonding attachements?, Mode: qa
2025-05-13 18:20:28,684 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,701 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:20:29,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:20:29,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:20:29,462 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:20:29,655 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,790 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,791 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:20:29,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,912 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:20:29,918 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "ocr_used": false,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_index": 0,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:20:29,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,938 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:20:30,842 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:30,844 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of composite material is best for bonding attachments?  ', 'Which composite should I choose for attaching different components?  ', 'What are the recommended composites for securely bonding attachments?']
2025-05-13 18:20:31,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:32,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:33,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:33,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:34,299 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:34,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:36,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:36,556 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:22:51,849 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:23:05,977 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,415 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:06,426 — INFO — bot — [CLASSIFIER] Question: what all information do you have about bonding attachments?, Mode: qa
2025-05-13 18:23:06,426 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,440 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:23:06,680 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:23:06,870 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:23:06,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:23:07,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,190 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,191 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:23:07,191 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:23:07,312 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "bot_id": 1,
  "mime": "application/pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "company_id": 1,
  "page_count": 2,
  "author": "python-docx",
  "chunk_index": 0
}
2025-05-13 18:23:07,312 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,329 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:23:08,200 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:08,201 — INFO — langchain.retrievers.multi_query — Generated queries: ['What details can you provide regarding bonding attachments?  ', 'Can you share insights or data related to bonding attachments?  ', 'What information is available on the topic of bonding attachments?']
2025-05-13 18:23:08,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,045 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,434 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,811 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:10,224 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:10,677 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:23,059 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:23,062 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:24:27,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:28,381 — INFO — bot — [CLASSIFIER] Question: what do i do if they are missing 10 teeth while bonding attachements?, Mode: qa
2025-05-13 18:24:28,381 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,397 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:24:28,588 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:24:28,831 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:24:28,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:24:29,068 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,184 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,185 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:24:29,185 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:29,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:24:29,297 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 1,
  "page_number": 1,
  "chunk_index": 0,
  "source_type": "manual_upload",
  "page_count": 2,
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:24:29,301 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:30,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,617 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,619 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I take when bonding attachments for a patient with 10 missing teeth?  ', 'How can I effectively bond attachments in cases where a patient has lost 10 teeth?  ', 'What considerations should I keep in mind for bonding attachments in a patient with significant tooth loss (10 missing teeth)?']
2025-05-13 18:24:32,071 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:32,204 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:32,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:33,323 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:33,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:34,004 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:35,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:35,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:36,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:36,133 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:25:16,167 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,545 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:16,547 — INFO — bot — [CLASSIFIER] Question: what percentage phosphorice acid get do i use when bonding attahcments/, Mode: qa
2025-05-13 18:25:16,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,562 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:25:16,734 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:25:16,933 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:25:16,997 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:25:17,086 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,208 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:25:17,208 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,316 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "company_id": 1,
  "file_name": "How to Bond Attachments.pdf",
  "mime": "application/pdf",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "section_title": "Section 0",
  "bot_id": 1,
  "page_number": 1,
  "author": "python-docx",
  "ocr_used": false,
  "event_id": 154,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "page_count": 2
}
2025-05-13 18:25:17,352 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,936 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,184 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended concentration of phosphoric acid gel for bonding attachments?', 'How much phosphoric acid gel is typically used for effective bonding of attachments?', 'What is the ideal percentage of phosphoric acid gel to use when applying attachments?']
2025-05-13 18:25:19,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:19,711 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:20,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:20,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,097 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:24,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:25,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:26,488 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:26,491 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:34:09,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:35:47,135 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:36:05,382 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,084 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:06,099 — INFO — bot — [CLASSIFIER] Question: what sort of bonding agent has to be used?, Mode: qa
2025-05-13 18:36:06,099 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,113 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:06,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:06,793 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:06,880 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:07,012 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:07,092 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,192 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "page_count": 2,
  "company_id": 1,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154,
  "source_type": "manual_upload",
  "chunk_index": 0,
  "section_title": "Section 0",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "bot_id": 1
}
2025-05-13 18:36:07,197 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,219 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:36:08,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:08,291 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of adhesive should be utilized for this application?  ', 'Which bonding material is recommended for this specific purpose?  ', 'What kind of bonding agent is appropriate for this situation?']
2025-05-13 18:36:09,406 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:09,699 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:11,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:12,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:12,480 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:26,960 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,538 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:27,540 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand?, Mode: qa
2025-05-13 18:36:27,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:27,748 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:27,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:28,038 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:28,163 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:28,251 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:28,347 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "page_number": 1,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "page_count": 2,
  "event_id": 154,
  "ocr_used": false,
  "chunk_index": 0,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_name": "How to Bond Attachments.pdf"
}
2025-05-13 18:36:28,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:29,076 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,818 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for this application?  ', '2. Are there specific brands of bonding agents that are required for optimal results?  ', '3. Do I have to use a certain brand of bonding agent, or are there alternatives?']
2025-05-13 18:36:31,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:31,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:32,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:32,879 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:33,692 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:33,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:34,284 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:35,006 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:36,646 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:36,649 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:44,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,011 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:45,013 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand of bonding agent?, Mode: qa
2025-05-13 18:36:45,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,025 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:45,187 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:45,366 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:45,461 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:45,524 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,629 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,631 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:45,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:45,723 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "company_id": 1,
  "bot_id": 1,
  "ocr_used": false,
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "page_count": 2,
  "chunk_index": 0,
  "page_number": 1,
  "event_id": 154,
  "author": "python-docx"
}
2025-05-13 18:36:45,746 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:46,287 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,398 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for my project?  ', '2. Are there specific brands of bonding agents that are recommended or required?  ', '3. Can I use any brand of bonding agent, or do I need to stick to a specific one?']
2025-05-13 18:36:50,700 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:50,813 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:51,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:51,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,209 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:52,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,815 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:53,822 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:54,464 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:54,467 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:16,798 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,127 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:17,130 — INFO — bot — [CLASSIFIER] Question: how do we know if the template is seated correctly?, Mode: qa
2025-05-13 18:37:17,131 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,145 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:37:17,355 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:37:17,510 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:37:17,569 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:37:17,649 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,745 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:37:17,745 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:37:17,871 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "company_id": 1,
  "ocr_used": false,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "page_count": 2,
  "source_type": "manual_upload"
}
2025-05-13 18:37:17,898 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:18,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,240 — INFO — langchain.retrievers.multi_query — Generated queries: ['What methods can we use to verify that the template is properly positioned?  ', 'What steps should we follow to check if the template is aligned correctly?  ', 'How can we assess whether the template has been installed in the correct orientation?']
2025-05-13 18:37:20,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:20,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,750 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,890 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:22,439 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:22,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:24,434 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:24,438 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:58,739 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:00,064 — INFO — bot — [CLASSIFIER] Question: how long do i etch for when bonding attachments?, Mode: qa
2025-05-13 18:38:00,065 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,077 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:38:00,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:38:00,383 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:38:00,469 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:38:00,547 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,619 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:38:00,619 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:38:00,724 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "author": "python-docx",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "event_id": 154,
  "page_count": 2,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "company_id": 1,
  "source_type": "manual_upload"
}
2025-05-13 18:38:00,743 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:01,433 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,699 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,702 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended etching time for bonding dental attachments?  ', 'How long should the etching process be when preparing to bond attachments?  ', 'What is the ideal duration for etching before attaching dental components?']
2025-05-13 18:38:03,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:03,282 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:04,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:04,393 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:05,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:05,290 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:06,143 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:06,551 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:07,533 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:07,534 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:39:59,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:39:59,852 — INFO — bot — [CLASSIFIER] Question: what are the best brands of composite?, Mode: qa
2025-05-13 18:39:59,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,866 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:40:07,011 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:40:07,230 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:40:07,326 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:40:07,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,551 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:40:07,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:07,637 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "file_name": "How to Bond Attachments.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "mime": "application/pdf",
  "source_type": "manual_upload",
  "company_id": 1,
  "chunk_index": 0,
  "page_count": 2,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154
}
2025-05-13 18:40:07,641 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:08,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,160 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,165 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the top-rated composite brands available in the market?  ', 'Which brands are considered the leading manufacturers of composite materials?  ', 'Can you list some of the most reputable composite brands?']
2025-05-13 18:40:09,637 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:09,788 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:10,015 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:10,117 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:11,688 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:11,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:12,918 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:13,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:14,761 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:14,763 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:02:26,708 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:03:29,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:30,209 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-14 07:03:30,210 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,225 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 07:03:30,655 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 07:03:30,857 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 07:03:30,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 07:03:31,039 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,125 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,127 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 07:03:31,127 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,266 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 07:03:31,271 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "mime": "application/pdf",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "bot_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "section_title": "Section 0",
  "company_id": 1,
  "ocr_used": false,
  "page_count": 2,
  "author": "python-docx"
}
2025-05-14 07:03:31,272 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,290 — INFO — bot — [MEMORY] Created new history for session web-028ed72b-33a6-4073-9afe-e19b1290d21a
2025-05-14 07:03:33,020 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:33,022 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-14 07:03:37,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:37,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,281 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,651 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:39,140 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:39,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:46,503 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:46,506 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:09:41,513 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:11:23,361 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:29:52,495 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:36:42,258 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:54,784 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:57,496 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 08:54:52,922 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:11:45,596 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:21:20,804 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:25:50,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:28:15,577 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:43:13,304 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:48:05,379 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:51:38,109 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:01:01,202 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:03:07,212 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:35:11,182 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:12:01,875 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:13:19,653 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:24:50,720 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:51,796 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:24:51,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,821 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:24:52,475 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:24:52,654 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:24:52,740 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:24:52,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,933 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,935 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:24:52,935 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,043 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "event_id": 190,
  "author": "Marty Bremer",
  "company_id": 3,
  "file_name": "Lucas Offices.pdf",
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:24:53,047 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,074 — INFO — bot — [MEMORY] Created new history for session web-0ff5cc6c-5f81-4589-9a01-54953af23929
2025-05-14 19:24:54,034 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:54,036 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:24:56,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,008 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,515 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,708 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:58,147 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:59,036 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:59,038 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:25:33,901 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:34,559 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:25:34,559 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,582 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:25:34,739 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:25:34,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:25:34,996 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:25:35,104 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,237 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,238 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:25:35,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,362 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 3,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "event_id": 190,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "source_type": "manual_upload",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "ocr_used": false,
  "file_name": "Lucas Offices.pdf",
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer"
}
2025-05-14 19:25:35,363 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,385 — INFO — bot — [MEMORY] Created new history for session web-7648e299-ba77-4b56-8fc7-8450afa3f31e
2025-05-14 19:25:36,320 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:36,322 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:25:37,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:37,521 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,171 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,276 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,643 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:39,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:39,228 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:27:21,853 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:27:29,690 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,265 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:31,275 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:31,275 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,298 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:31,555 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:31,738 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:31,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:31,931 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:32,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "mime": "application/pdf",
  "page_number": 1,
  "event_id": 190,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer",
  "bot_id": 1,
  "creation_date": "D:20250514213157+00'00'",
  "chunk_index": 0,
  "ocr_used": false,
  "company_id": 3,
  "page_count": 3
}
2025-05-14 19:27:32,118 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,145 — INFO — bot — [MEMORY] Created new history for session web-821a284f-27db-4c16-9a28-bde3d38d17c6
2025-05-14 19:27:33,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:33,128 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'Can you tell me when the Brentwood office starts operating?  ', 'At what time does the Brentwood office begin its services?']
2025-05-14 19:27:33,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:34,022 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:34,049 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
2025-05-14 19:27:45,989 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:46,315 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:46,315 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,337 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:46,628 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:46,856 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:46,939 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:47,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,136 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,137 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:47,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:47,234 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "creation_date": "D:20250514213157+00'00'",
  "company_id": 3,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "bot_id": 1,
  "page_number": 1,
  "mime": "application/pdf",
  "event_id": 190,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "author": "Marty Bremer",
  "ocr_used": false,
  "section_title": "Section 0",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:27:47,235 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,259 — INFO — bot — [MEMORY] Created new history for session web-3fe6ac9a-30bb-496d-b63c-0fd645f8d085
2025-05-14 19:27:48,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:48,561 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:27:49,268 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:49,448 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:49,463 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
2025-06-09 09:45:09,072 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:45:09,085 — INFO — __main__ — Testing retrieval for: 'who is Jennifer Franklin'
2025-06-09 09:45:09,085 — INFO — __main__ — Company ID: 3, Bot ID: 1
2025-06-09 09:45:09,085 — INFO — __main__ — ✅ CHROMA_URL: https://knowledge-bot-chroma.onrender.com
2025-06-09 09:45:09,085 — INFO — __main__ — ✅ OPENAI_API_KEY: *************************************************************************************************************************************************************2CrsY9kLQA
2025-06-09 09:45:09,085 — INFO — __main__ — 🔄 Initializing RetrieverService...
2025-06-09 09:45:09,085 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:09,223 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:45:09,223 — INFO — __main__ — 🔄 Building retriever...
2025-06-09 09:45:09,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:10,106 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:10,192 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:10,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:10,570 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:10,570 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:45:10,571 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:10,729 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "modified_time": 1749478239.9438937,
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "event_id": 432
}
2025-06-09 09:45:10,732 — INFO — __main__ — 🔄 Testing retrieval...
2025-06-09 09:45:12,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:45:12,470 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is she known for in her field?']
2025-06-09 09:45:13,302 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:13,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:14,006 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:14,140 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:14,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:14,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:15,053 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:15,282 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:15,331 — INFO — __main__ — 📊 Retrieved 0 documents
2025-06-09 09:45:15,331 — WARNING — __main__ — ⚠️  No documents retrieved! This explains why the bot can't answer.
2025-06-09 09:45:15,331 — INFO — __main__ — 🔄 Testing vectorstore directly...
2025-06-09 09:45:15,500 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:15,712 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:15,799 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:15,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:15,942 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:16,102 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:45:16,103 — INFO — __main__ — 📊 Total documents in collection for company_id=3, bot_id=1: 2
2025-06-09 09:45:16,103 — INFO — __main__ — 📄 Sample document metadata:
2025-06-09 09:45:16,103 — INFO — __main__ —   Document 1: {'created_time': 1749478239.9448938, 'source_page': 1, 'mime_type': 'application/pdf', 'structure_type': 'paragraph', 'timestamp': '2025-06-09T14:10:53.351471', 'file_size': 372750, 'source': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'event_id': 432, 'content_type': 'unstructured_text', 'source_type': 'pdf', 'chunk_index': 0, 'file_name': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf', 'company_id': 3, 'document_id': 'i2ud14ezv2szsrfcc62kr73s', 'chunk_type': 'semantic', 'bot_id': 1, 'storage_key': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'modified_time': 1749478239.9438937, 'file_type': '.pdf', 'mime': 'application/pdf'}
2025-06-09 09:45:16,103 — INFO — __main__ —   Document 2: {'storage_key': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'source': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'content_type': 'unstructured_text', 'event_id': 432, 'modified_time': 1749478239.9438937, 'chunk_type': 'semantic', 'company_id': 3, 'file_type': '.pdf', 'created_time': 1749478239.9448938, 'source_type': 'pdf', 'bot_id': 1, 'mime': 'application/pdf', 'timestamp': '2025-06-09T14:10:53.351491', 'document_id': 'i2ud14ezv2szsrfcc62kr73s', 'mime_type': 'application/pdf', 'structure_type': 'paragraph', 'file_size': 372750, 'chunk_index': 1, 'source_page': 1, 'file_name': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf'}
2025-06-09 09:45:16,104 — INFO — __main__ — 🔄 Testing similarity search without retriever...
2025-06-09 09:45:16,504 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:16,759 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:16,760 — INFO — __main__ — 📊 Direct similarity search returned 2 documents
2025-06-09 09:45:16,760 — INFO — __main__ —   Doc 1: Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf - # Cornelia Municipal Complex Overview

## Project Details
- **Project Name:** Cornelia Municipal Com...
2025-06-09 09:45:16,761 — INFO — __main__ —   Doc 2: Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf - ### Drive-Through Bays Information

- **Total Number of Bays**: 4
- **Drive-Through Bays**: 2
- **De...
2025-06-09 09:45:16,761 — INFO — __main__ — 🔄 Testing embedding generation for the question...
2025-06-09 09:45:16,952 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:16,996 — INFO — __main__ — 📊 Generated embedding with 3072 dimensions
2025-06-09 09:45:54,399 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:45:54,408 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:54,515 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:45:54,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:55,192 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:55,266 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:55,364 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:56,692 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:56,795 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:41,833 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:46:41,838 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:41,929 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:46:42,408 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:42,611 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:42,740 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:42,844 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:42,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:43,854 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:44,182 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:44,319 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:44,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:44,726 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:45,030 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:45,129 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:45,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:45,363 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:45,363 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:45,364 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:45,460 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:45,580 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:45,580 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:46:45,604 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:46:45,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "event_id": 432,
  "source_page": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s"
}
2025-06-09 09:46:46,939 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:46,956 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:46:47,328 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:47,541 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:47,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:47,982 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:48,249 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:48,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:49,263 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:50,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:50,801 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:50,964 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:51,134 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:51,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:51,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:51,327 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:51,327 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:51,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "bot_id": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "event_id": 432,
  "chunk_type": "semantic",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:46:53,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:53,460 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:46:54,526 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:54,799 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,048 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:55,213 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,430 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:55,538 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:56,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:56,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:56,490 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:56,572 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:56,659 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:56,765 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:56,766 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:56,766 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:56,984 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "source_page": 1,
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "company_id": 3,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_size": 372750,
  "source_type": "pdf"
}
2025-06-09 09:46:57,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:57,854 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is her significance?']
2025-06-09 09:46:59,253 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:59,520 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:59,743 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:59,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:00,092 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:00,438 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,959 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:01,152 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:01,268 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:01,339 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:01,425 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:01,426 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:01,426 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:01,542 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.3
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.3
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "bot_id": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:47:02,808 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:02,809 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is her significance?']
2025-06-09 09:47:03,031 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:03,238 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:03,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:03,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:03,934 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:04,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:04,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:04,954 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:05,156 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:05,480 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:05,542 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:05,610 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:05,677 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:05,678 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:05,678 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:05,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:05,815 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.4
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.4
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "file_size": 372750,
  "source_type": "pdf",
  "company_id": 3,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_type": ".pdf",
  "modified_time": 1749478239.9438937
}
2025-06-09 09:47:07,575 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:07,577 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:47:07,911 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:08,453 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,583 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:08,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:09,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:10,950 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:11,242 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:11,581 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:11,653 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:11,767 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:11,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:11,859 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:11,860 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:11,978 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.5
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.5
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749478239.9448938,
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "event_id": 432,
  "file_size": 372750,
  "source_page": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "company_id": 3,
  "timestamp": "2025-06-09T14:10:53.351471",
  "bot_id": 1,
  "source_type": "pdf"
}
2025-06-09 09:47:13,341 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:13,343 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is her significance in her field?']
2025-06-09 09:47:13,571 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:13,865 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:14,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:14,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:14,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:14,725 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:15,000 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,841 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:01,330 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:50:01,344 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:01,501 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:50:01,827 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:02,030 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:02,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:02,240 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:02,304 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:02,305 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:02,306 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:02,456 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:02,459 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_type": "semantic",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_index": 0,
  "structure_type": "paragraph",
  "modified_time": 1749478239.9438937,
  "timestamp": "2025-06-09T14:10:53.351471",
  "bot_id": 1,
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "mime": "application/pdf",
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:03,524 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:03,540 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:50:04,155 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:04,417 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:04,775 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:04,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:05,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:05,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:05,855 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:06,157 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:06,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:06,546 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:06,679 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:06,871 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:06,982 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:06,983 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:06,983 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:07,210 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:07,211 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:07,211 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:07,212 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:07,212 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749478239.9438937,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_size": 372750,
  "source_page": 1,
  "source_type": "pdf",
  "chunk_index": 0,
  "created_time": 1749478239.9448938,
  "chunk_type": "semantic",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "event_id": 432,
  "company_id": 3,
  "file_type": ".pdf"
}
2025-06-09 09:50:09,152 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:09,154 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much funding is required for the project?  ', 'Can you provide details on the financial expenses associated with the project?']
2025-06-09 09:50:09,549 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:09,872 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:10,109 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:10,354 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:10,744 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:10,907 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:11,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:11,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:11,591 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:11,790 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:11,927 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:12,017 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:12,111 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:12,112 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:12,112 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:12,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "company_id": 3,
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "file_size": 372750,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 432,
  "chunk_index": 0,
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "chunk_type": "semantic",
  "structure_type": "paragraph"
}
2025-06-09 09:50:13,602 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:13,685 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:13,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:14,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:14,546 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:14,736 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:15,071 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:15,261 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:15,500 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:15,787 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:16,120 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:16,379 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:16,472 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:16,645 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:16,715 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:16,721 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:16,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:16,927 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "mime_type": "application/pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "event_id": 432,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "created_time": 1749478239.9448938
}
2025-06-09 09:50:18,082 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:18,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the typical timeline for a construction project?  ', 'Can you provide an overview of the stages involved in a construction timeline?  ', 'How long does it usually take to complete different phases of construction?']
2025-06-09 09:50:18,456 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:18,739 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:18,928 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:19,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:19,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:19,563 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:19,786 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:20,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:20,402 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:20,662 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:20,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:21,050 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:21,117 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:21,118 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:21,118 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:21,362 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:21,363 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "created_time": 1749478239.9448938,
  "mime": "application/pdf",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "structure_type": "paragraph"
}
2025-06-09 09:50:25,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:25,120 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:50:25,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:25,714 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:25,912 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,077 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:26,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,471 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:26,665 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,886 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:27,131 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:27,401 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:27,517 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:27,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:27,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:27,716 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:27,716 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:27,851 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "modified_time": 1749478239.9438937,
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "source_page": 1,
  "chunk_type": "semantic",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "bot_id": 1
}
2025-06-09 09:50:29,455 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:29,620 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person known as Jennifer Franklin and what are her notable achievements?']
2025-06-09 09:50:29,863 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:30,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,421 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:30,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,903 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:31,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:31,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:31,725 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:32,013 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:32,104 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:32,206 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:32,374 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:32,375 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:32,375 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:32,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:32,592 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "chunk_index": 0,
  "company_id": 3,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "mime_type": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "content_type": "unstructured_text",
  "source_page": 1,
  "bot_id": 1,
  "source_type": "pdf",
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf"
}
2025-06-09 09:50:33,585 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:33,588 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 09:50:33,811 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,066 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:34,341 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:34,715 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,858 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:35,080 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:35,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:35,512 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:35,687 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:35,780 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:35,907 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:36,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:36,042 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:36,043 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:36,172 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:36,173 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:36,173 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:36,174 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:36,174 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "modified_time": 1749478239.9438937,
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_type": "semantic",
  "file_size": 372750,
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_page": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:37,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:37,369 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:37,693 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:37,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:38,078 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:38,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:38,396 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:38,520 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:39,055 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:39,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:39,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:39,737 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:39,825 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:39,922 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:40,028 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:40,029 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:40,029 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:40,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:40,250 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 372750,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "created_time": 1749478239.9448938,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "bot_id": 1
}
2025-06-09 09:50:41,545 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:41,576 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the typical timeline for a construction project?  ', 'Can you provide an overview of the stages involved in a construction timeline?  ', 'How long does it usually take to complete different phases of construction?']
2025-06-09 09:50:41,813 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,066 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:42,423 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:42,859 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,949 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:43,471 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:43,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:44,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:44,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:44,430 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:44,519 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:44,620 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:44,621 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:44,621 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:44,731 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 432,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "mime_type": "application/pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_page": 1,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "created_time": 1749478239.9448938,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:46,005 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:46,007 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential elements found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:50:46,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:46,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:46,935 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:47,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:47,622 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:47,796 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:48,111 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:48,350 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:48,716 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:48,936 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:48,998 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:49,150 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:49,340 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:49,342 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:49,343 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:49,540 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:49,543 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s"
}
2025-06-09 09:50:50,589 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:50,593 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:50:50,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:51,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:51,774 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:52,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:52,688 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:53,010 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:53,172 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:53,239 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:53,345 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:53,420 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:53,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:53,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:53,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:53,603 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:53,603 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:53,604 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:53,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 372750,
  "mime_type": "application/pdf",
  "created_time": 1749478239.9448938,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "company_id": 3,
  "content_type": "unstructured_text",
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf"
}
2025-06-09 09:50:54,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:54,586 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', "Can you provide an overview of the project's financial requirements?"]
2025-06-09 09:50:54,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:55,108 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:55,440 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:55,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:55,960 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:56,072 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:56,518 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:56,741 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:57,202 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:57,398 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:57,533 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:57,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:57,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:57,724 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:57,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:57,927 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:57,930 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_type": ".pdf",
  "file_size": 372750,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "bot_id": 1,
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938
}
2025-06-09 09:50:59,146 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:59,150 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:59,462 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:59,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:00,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:00,173 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:10,913 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,311 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:11,564 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,745 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,965 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:12,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:12,291 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:12,370 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:12,445 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:12,449 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:12,449 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:12,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:12,745 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:12,746 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:51:12,746 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:51:12,747 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "created_time": 1749478239.9448938,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "structure_type": "paragraph"
}
2025-06-09 09:51:14,064 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:14,170 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the key phases involved in a construction project timeline?  ', '2. Can you provide an overview of the typical schedule for a construction project?  ', '3. What are the major milestones and their durations in a construction timeline?']
2025-06-09 09:51:14,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:14,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:14,842 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:15,030 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:15,252 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:15,551 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:15,892 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:16,107 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:16,286 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:16,530 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:16,603 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:16,681 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:16,804 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:16,805 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:16,805 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:17,035 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:17,036 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:17,036 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:51:17,037 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:51:17,037 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_type": ".pdf",
  "bot_id": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "source_page": 1,
  "created_time": 1749478239.9448938,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471"
}
2025-06-09 09:51:18,125 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:18,126 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential elements found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:51:18,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:19,167 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:19,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:19,695 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:19,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:20,088 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:20,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:21,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:21,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:21,484 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:21,576 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:21,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:21,822 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:21,822 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:21,822 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:21,950 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "event_id": 432,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "source_page": 1,
  "bot_id": 1
}
2025-06-09 09:51:22,984 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:22,986 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:51:23,162 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:23,435 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:23,623 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:23,769 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:23,977 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,141 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:24,370 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,612 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,881 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:25,082 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:25,190 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:25,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:25,431 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:25,432 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:25,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:25,546 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:25,550 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "modified_time": 1749478239.9438937,
  "chunk_index": 0,
  "file_type": ".pdf",
  "company_id": 3,
  "source_page": 1,
  "content_type": "unstructured_text"
}
2025-06-09 09:51:26,693 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:26,752 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 09:51:26,965 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:27,186 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:27,433 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:27,607 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:28,144 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:28,335 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:28,734 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:29,073 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:29,520 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:29,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:29,743 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:29,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:29,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:29,896 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:29,896 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:30,044 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:30,046 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 432,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_page": 1,
  "modified_time": 1749478239.9438937,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "company_id": 3,
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_index": 0,
  "structure_type": "paragraph"
}
2025-06-09 09:51:31,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:31,090 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:51:31,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:31,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:31,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:31,869 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:32,147 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:32,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:32,663 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:32,821 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:33,053 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:33,293 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:33,380 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:33,469 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:33,578 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:33,579 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:33,579 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:33,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:33,809 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "file_size": 372750,
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "structure_type": "paragraph",
  "modified_time": 1749478239.9438937,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:51:35,676 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:35,677 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What is the typical timeline for a construction project from start to finish?  ', '2. How long does it usually take to complete different phases of construction?  ', '3. What are the key milestones and their durations in a construction schedule?']
2025-06-09 09:51:35,857 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,045 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:36,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:36,856 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,976 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:37,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:37,679 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:38,033 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:38,219 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:38,278 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:38,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:38,503 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:38,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:38,505 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:38,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:38,672 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "structure_type": "paragraph",
  "file_size": 372750,
  "source_type": "pdf",
  "chunk_type": "semantic",
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "modified_time": 1749478239.9438937,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "chunk_index": 0,
  "file_type": ".pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf"
}
2025-06-09 09:51:39,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:39,872 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:51:40,106 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:40,298 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:40,661 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:40,928 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:41,149 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:41,267 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:41,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:41,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:42,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:42,361 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:42,458 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:42,627 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:42,699 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:42,700 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:42,701 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:42,810 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:42,812 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "bot_id": 1,
  "created_time": 1749478239.9448938,
  "source_page": 1,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_type": "pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_type": ".pdf"
}
2025-06-09 09:51:43,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:43,826 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the person named Jennifer Franklin?  ', 'Who is the individual known as Jennifer Franklin?']
2025-06-09 09:51:44,095 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:44,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:45,117 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:45,348 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:45,546 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:45,670 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:46,294 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:46,470 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:46,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:46,956 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:47,089 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:47,218 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:47,344 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:47,345 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:47,345 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:47,466 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_type": ".pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "file_size": 372750,
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "chunk_type": "semantic",
  "event_id": 432
}
2025-06-09 09:51:48,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:48,400 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much funding is required for the project?  ', 'Can you provide details on the financial expenses associated with the project?']
2025-06-09 09:51:48,615 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:48,799 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:48,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,154 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:49,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:49,797 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:50,220 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:50,486 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:50,572 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:50,661 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:50,723 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:50,724 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:50,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:50,861 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "created_time": 1749478239.9448938,
  "file_size": 372750,
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "event_id": 432,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937
}
2025-06-09 09:51:51,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:51,846 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:51:52,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:52,275 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:52,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:52,728 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:52,894 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:53,307 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,827 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:53,991 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:54,167 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:54,247 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:54,307 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:54,309 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:54,309 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:54,449 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:54,450 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "modified_time": 1749478239.9438937,
  "file_size": 372750,
  "chunk_index": 0,
  "event_id": 432,
  "company_id": 3,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471"
}
2025-06-09 09:51:55,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:56,011 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the key phases involved in a construction project timeline?  ', '2. Can you provide an overview of the typical schedule for a construction project?  ', '3. What is the usual timeline for completing various stages of construction?']
2025-06-09 09:51:56,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:56,528 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:56,862 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:57,040 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:57,210 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:57,423 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:57,707 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:58,355 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:58,557 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:58,879 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:58,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:59,042 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:59,109 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:59,109 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:59,110 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:59,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:59,256 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "bot_id": 1,
  "file_type": ".pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_size": 372750
}
2025-06-09 09:52:00,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:52:00,254 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:52:00,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:00,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:00,983 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:01,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:01,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:01,638 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:01,892 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:02,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:56,577 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:52:56,583 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:52:56,676 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:52:56,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:52:57,210 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:52:57,295 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:52:57,369 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:52:57,462 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:52:57,463 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:52:57,463 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:52:57,593 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:52:57,596 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "file_size": 372750,
  "source_type": "pdf",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "bot_id": 1,
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749478239.9438937,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "event_id": 432,
  "chunk_type": "semantic"
}
2025-06-09 09:52:58,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:52:58,810 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is her significance in her field?']
2025-06-09 09:52:59,351 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:59,580 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:59,865 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:00,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:53:00,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:00,499 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:53:00,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:01,166 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:41,603 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:03:41,616 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:03:41,725 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:03:42,222 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:03:42,567 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:03:42,642 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:03:42,736 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:42,840 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,002 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:03:43,201 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:03:43,397 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:03:43,530 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:03:43,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,783 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,783 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:03:43,784 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:03:44,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:03:44,062 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-09T14:58:45.745565",
  "source_type": "pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_id": "updated_3_1_i2ud14ezv2szsrfcc62kr73s_0_1749481125",
  "update_timestamp": "2025-06-09T14:58:45.745574",
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_update",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "company_id": 3,
  "event_id": 433,
  "mime": "application/pdf",
  "validation_status": "passed",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "update_59963119-1b72-4a1c-8a4b-4353df8fa290_e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "bot_id": 1,
  "source_page": 1,
  "storage_key": "e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "processing_document_id": "d1f11bc8-4a3b-4b13-b6db-878960956c16",
  "timestamp": "2025-06-09T14:58:25.931000"
}
2025-06-09 10:03:45,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:03:45,787 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:03:46,543 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:46,842 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,201 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:47,360 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,604 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:47,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:48,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:38,082 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:04:38,086 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:04:38,158 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:04:38,432 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:04:38,695 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:04:38,810 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:04:38,974 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:39,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:39,220 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:04:39,396 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:04:39,635 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:04:39,713 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:04:39,817 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:40,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:40,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:04:40,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:04:40,153 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:04:40,156 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "update_timestamp": "2025-06-09T14:58:45.745574",
  "storage_key": "e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "event_id": 433,
  "timestamp": "2025-06-09T14:58:25.931000",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_update",
  "chunk_index": 0,
  "chunk_id": "updated_3_1_i2ud14ezv2szsrfcc62kr73s_0_1749481125",
  "mime": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "content_type": "unstructured_text",
  "source": "update_59963119-1b72-4a1c-8a4b-4353df8fa290_e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "company_id": 3,
  "bot_id": 1,
  "structure_type": "paragraph",
  "validation_status": "passed",
  "ingestion_timestamp": "2025-06-09T14:58:45.745565",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "processing_document_id": "d1f11bc8-4a3b-4b13-b6db-878960956c16",
  "source_page": 1,
  "file_type": ".pdf"
}
2025-06-09 10:04:41,766 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:04:41,780 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:04:42,467 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:42,671 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:43,318 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:43,431 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:43,620 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:43,825 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:44,351 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:44,644 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:00,801 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:37:00,817 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:00,904 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:37:01,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:02,121 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:02,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:02,388 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:02,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:02,610 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:02,676 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:02,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:03,165 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:03,398 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:03,681 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:03,774 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:03,853 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:03,957 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:03,958 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:37:03,958 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:04,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:04,171 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:37:04,171 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:37:04,172 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:37:04,172 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_index": 0,
  "modified_time": 1749483059.7660072,
  "company_id": 3,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749483059.7660072,
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_size": 43838,
  "event_id": 435
}
2025-06-09 10:37:05,149 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:37:05,221 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the opening times for the Brentwood office?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:37:06,052 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:06,360 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:06,598 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:06,860 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:07,235 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:07,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:07,760 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:07,927 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:53,863 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:37:53,868 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:53,939 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:37:54,290 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:54,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:54,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:54,705 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:54,795 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:54,795 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:37:54,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:55,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "modified_time": 1749483059.7660072,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "event_id": 435,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "company_id": 3,
  "file_name": "Lucas Offices.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "source_type": "pdf",
  "mime": "application/pdf",
  "created_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_page": 1
}
2025-06-09 10:37:56,210 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:37:56,223 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:37:56,830 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,044 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:57,446 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,597 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:57,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,990 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:58,306 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:58,931 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:38:56,498 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:38:56,510 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:38:56,596 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:38:56,924 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:38:57,110 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:38:57,197 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:38:57,289 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:38:57,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:38:57,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:38:57,366 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:38:57,501 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:38:57,505 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:38:57,505 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:38:57,506 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:38:57,506 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "created_time": 1749483059.7660072,
  "source_type": "pdf",
  "file_type": ".pdf",
  "file_size": 43838,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "modified_time": 1749483059.7660072,
  "event_id": 435
}
2025-06-09 10:38:58,769 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:38:58,821 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:38:59,689 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:38:59,863 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,046 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:00,202 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:00,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,824 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:01,179 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:16,678 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:40:16,688 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:16,783 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:40:17,308 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:17,516 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:17,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:17,800 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:17,893 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:17,894 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:17,894 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:18,091 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:18,093 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:18,093 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:18,094 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:18,094 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_size": 43838,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_type": "pdf",
  "bot_id": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "created_time": 1749483059.7660072,
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "event_id": 435,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "modified_time": 1749483059.7660072
}
2025-06-09 10:40:20,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:20,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:40:21,034 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:21,235 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:21,459 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:21,611 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:21,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:22,005 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:23,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:23,657 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:23,988 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:24,165 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:24,277 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:24,383 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:24,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:24,516 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:24,517 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:24,619 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:24,620 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "event_id": 435,
  "file_type": ".pdf",
  "file_size": 43838,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source_type": "pdf",
  "modified_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "mime": "application/pdf",
  "created_time": 1749483059.7660072,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "company_id": 3
}
2025-06-09 10:40:25,432 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:25,433 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'Can you provide details on the financial requirements for the project?  ', 'What are the anticipated expenses associated with the project?']
2025-06-09 10:40:25,654 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:25,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,094 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:26,208 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:26,619 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,867 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:27,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:27,388 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:27,664 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:27,772 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:27,862 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:27,960 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:27,961 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:27,961 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:28,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 435,
  "company_id": 3,
  "modified_time": 1749483059.7660072,
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "created_time": 1749483059.7660072,
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "bot_id": 1,
  "file_size": 43838,
  "mime_type": "application/pdf"
}
2025-06-09 10:40:29,231 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:29,233 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:40:29,398 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:29,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:29,816 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:29,959 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:30,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:30,445 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:30,811 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:31,332 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:31,548 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:31,723 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:31,853 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:31,964 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:32,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:32,073 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:32,073 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:32,199 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "created_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_name": "Lucas Offices.pdf",
  "modified_time": 1749483059.7660072,
  "source_type": "pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 435,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "bot_id": 1
}
2025-06-09 10:40:33,142 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:33,148 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:40:33,425 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:33,573 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:33,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:34,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:34,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:34,588 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:35,052 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:35,356 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:35,561 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:35,713 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:35,835 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:35,902 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:35,969 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:35,970 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:35,970 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:36,074 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:36,075 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:36,075 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:36,076 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:36,076 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "created_time": 1749483059.7660072,
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "timestamp": "2025-06-09T15:31:27.217362",
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "event_id": 435
}
2025-06-09 10:40:37,566 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:37,567 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:40:37,833 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:38,031 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:38,492 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:38,635 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:38,889 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:39,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,937 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:40,114 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:40,175 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:40,320 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:40,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:40,452 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:40,452 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:40,639 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:40,640 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "file_size": 43838,
  "bot_id": 1,
  "company_id": 3,
  "created_time": 1749483059.7660072,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "mime": "application/pdf",
  "modified_time": 1749483059.7660072,
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "event_id": 435,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "content_type": "unstructured_text"
}
2025-06-09 10:40:41,531 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:41,533 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:40:41,691 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:41,864 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:42,075 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:42,302 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:42,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:42,735 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:43,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:43,371 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:43,684 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:43,944 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:44,124 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:44,193 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:44,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:44,309 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:44,309 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:44,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:44,410 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T15:31:27.217362",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "event_id": 435,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "structure_type": "paragraph",
  "modified_time": 1749483059.7660072,
  "file_size": 43838,
  "bot_id": 1,
  "source_page": 1,
  "chunk_index": 0,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "content_type": "unstructured_text",
  "created_time": 1749483059.7660072,
  "source_type": "pdf"
}
2025-06-09 10:40:45,419 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:45,421 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', "Can you provide an overview of the project's financial requirements?"]
2025-06-09 10:40:45,909 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:46,097 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:46,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:46,609 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:46,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:47,054 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:47,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:47,820 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:48,065 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:48,203 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:48,337 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:48,407 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:48,508 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:48,510 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:48,510 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:48,614 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-09T15:31:27.217362",
  "file_name": "Lucas Offices.pdf",
  "event_id": 435,
  "chunk_type": "semantic",
  "modified_time": 1749483059.7660072,
  "file_size": 43838,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "created_time": 1749483059.7660072,
  "source_page": 1,
  "structure_type": "paragraph",
  "company_id": 3
}
2025-06-09 10:40:50,084 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:50,085 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:40:50,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:50,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:50,830 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:51,029 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:51,293 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:51,462 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:51,985 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:52,177 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:52,345 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:52,508 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:52,597 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:52,702 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:52,800 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:52,801 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:52,801 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:53,034 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:53,035 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:53,035 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:53,036 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:53,036 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 435,
  "company_id": 3,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "modified_time": 1749483059.7660072,
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_size": 43838,
  "structure_type": "paragraph",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf"
}
2025-06-09 10:40:53,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:53,982 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:40:54,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:54,414 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:54,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:54,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:55,167 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:55,320 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:55,653 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:55,943 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:56,369 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:56,573 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:56,708 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:56,794 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:56,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:56,894 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:56,895 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:57,100 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_size": 43838,
  "created_time": 1749483059.7660072,
  "event_id": 435,
  "mime": "application/pdf",
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_type": "semantic",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "company_id": 3,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf"
}
2025-06-09 10:40:58,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:58,471 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:40:58,649 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:58,991 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:59,331 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:59,428 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:59,690 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:59,851 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:00,139 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:00,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:00,796 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:01,056 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:01,137 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:01,200 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:01,421 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:01,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:01,422 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:01,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:01,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:01,534 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:01,535 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:01,535 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749483059.7660072,
  "bot_id": 1,
  "event_id": 435,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "modified_time": 1749483059.7660072,
  "company_id": 3,
  "chunk_type": "semantic",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 43838,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf"
}
2025-06-09 10:41:02,477 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:02,478 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:41:02,807 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,029 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:03,253 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,387 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:03,717 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,832 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:04,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:04,568 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:04,714 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:04,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:04,907 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:04,985 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:05,097 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:05,098 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:05,098 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:05,242 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "event_id": 435,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "company_id": 3,
  "file_type": ".pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "modified_time": 1749483059.7660072,
  "source_page": 1,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "created_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "bot_id": 1
}
2025-06-09 10:41:06,869 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:06,871 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 10:41:07,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:07,304 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:07,475 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:07,798 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:07,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:08,139 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:08,474 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:08,821 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:09,014 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:09,158 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:09,285 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:09,352 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:09,418 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:09,419 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:09,419 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:09,530 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "event_id": 435,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "source_type": "pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "source_page": 1,
  "file_size": 43838,
  "mime": "application/pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "bot_id": 1,
  "modified_time": 1749483059.7660072,
  "structure_type": "paragraph",
  "mime_type": "application/pdf"
}
2025-06-09 10:41:10,909 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:10,916 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:41:11,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,416 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:11,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,719 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:11,871 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,999 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:12,384 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:12,652 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:12,818 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:13,011 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:13,091 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:13,186 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:13,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:13,257 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:13,257 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:13,391 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:13,392 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_type": "semantic",
  "source_page": 1,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "mime": "application/pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "company_id": 3,
  "event_id": 435,
  "source_type": "pdf"
}
2025-06-09 10:41:14,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:14,246 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:41:14,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:14,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:14,848 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:14,984 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:16,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:16,379 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:16,727 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:16,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:17,166 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:17,346 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:17,432 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:17,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:17,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:17,585 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:17,585 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:17,791 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:17,794 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "file_size": 43838,
  "chunk_type": "semantic",
  "created_time": 1749483059.7660072,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "event_id": 435,
  "modified_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "bot_id": 1,
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-09 10:41:18,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:18,868 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:41:19,141 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:19,438 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:19,588 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:19,755 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:19,964 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:20,086 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:20,390 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:20,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:04:41,694 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:06:41,858 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:06:44,727 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:45,296 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:45,329 — INFO — bot — [CLASSIFIER] Question: when is the brentwood office open?, Mode: qa
2025-06-09 21:06:45,329 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:45,367 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:45,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:06:45,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:06:46,026 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:06:46,194 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:46,328 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:46,328 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:06:46,329 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:46,465 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:06:46,469 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.815,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_update",
  "validation_status": "passed",
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "event_id": 451,
  "mime": "application/pdf",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "file_name": "School Schedule.pdf",
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "timestamp": "2025-06-10T02:01:24.124487",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "chunk_index": 0,
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "structure_type": "paragraph",
  "company_id": 3,
  "document_id": "qao3hkc6uocd213soq7usz4u"
}
2025-06-09 21:06:46,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:46,500 — INFO — bot — [MEMORY] Created new history for session 6ab33443-32c3-4d2d-bad1-ccb4c0eedacd
2025-06-09 21:06:47,799 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:47,896 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 21:06:48,420 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:48,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,010 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:49,182 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,350 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:49,585 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,999 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:50,219 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:52,031 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:52,038 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:06:52,039 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:53,179 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:53,182 — INFO — bot — [CLASSIFIER] Question: Where is it located?, Mode: qa
2025-06-09 21:06:53,182 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:53,214 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:53,425 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:06:53,600 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:06:53,683 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:06:53,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:53,954 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:53,958 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:06:53,958 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:54,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T02:01:24.124487",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "structural_density": 0.815,
  "event_id": 451,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "file_type": ".pdf",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "file_name": "School Schedule.pdf",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "mime": "application/pdf",
  "validation_status": "passed",
  "bot_id": 1,
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_update",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "chunk_type": "semantic"
}
2025-06-09 21:06:54,093 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:54,950 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:55,881 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:55,884 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'Where can I find the Brentwood office?']
2025-06-09 21:06:56,221 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:56,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:56,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:56,786 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:57,155 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:57,273 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:57,607 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:57,922 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:58,956 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:58,966 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:06:58,966 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:59,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:59,619 — INFO — bot — [CLASSIFIER] Question: Where is the Brentwood office located?, Mode: qa
2025-06-09 21:06:59,619 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:59,649 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:59,824 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:00,138 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:00,221 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:00,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:00,375 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:00,376 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:00,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:00,561 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:00,563 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T02:01:24.124487",
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "processing_method": "hybrid_5_stage_update",
  "mime": "application/pdf",
  "file_name": "School Schedule.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "validation_status": "passed",
  "event_id": 451,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "file_type": ".pdf"
}
2025-06-09 21:07:00,563 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:01,523 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:02,586 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:02,589 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'In which area can I find the Brentwood office?']
2025-06-09 21:07:03,000 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:03,285 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:03,507 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:03,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:04,018 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:04,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:04,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:04,666 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:05,498 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:05,515 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:07:05,515 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:05,543 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:05,716 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:05,905 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:05,971 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:06,111 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:06,239 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:06,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:41,955 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:07:44,524 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:45,120 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:45,130 — INFO — bot — [CLASSIFIER] Question: when is the brentwood office open?, Mode: qa
2025-06-09 21:07:45,130 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:45,159 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:45,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:45,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:45,888 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:46,022 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:46,171 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:46,171 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:46,172 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:46,274 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:46,276 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T02:01:24.124487",
  "source_page": 1,
  "source_type": "pdf",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "bot_id": 1,
  "file_type": ".pdf",
  "event_id": 451,
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_update",
  "file_name": "School Schedule.pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "validation_status": "passed",
  "chunk_index": 0,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476"
}
2025-06-09 21:07:46,277 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:46,309 — INFO — bot — [MEMORY] Created new history for session 185feb69-7053-4fde-abf2-5c0c6443367a
2025-06-09 21:07:48,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:48,266 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the opening times of the Brentwood office?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 21:07:48,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,051 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:49,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:49,731 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,963 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:50,200 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:50,587 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:52,991 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:52,994 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:07:52,994 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:53,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:53,543 — INFO — bot — [CLASSIFIER] Question: Where is it located?, Mode: qa
2025-06-09 21:07:53,543 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:53,570 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:53,744 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:54,034 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:54,122 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:54,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:54,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:54,351 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:54,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:54,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "structure_type": "paragraph",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "event_id": 451,
  "structural_density": 0.815,
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "file_name": "School Schedule.pdf",
  "processing_method": "hybrid_5_stage_update",
  "timestamp": "2025-06-10T02:01:24.124487",
  "mime": "application/pdf",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "chunk_type": "semantic",
  "validation_status": "passed",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "chunk_index": 0,
  "company_id": 3,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "source_type": "pdf",
  "bot_id": 1,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf"
}
2025-06-09 21:07:54,554 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:55,096 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:56,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:56,530 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'Where can I find the Brentwood office?']
2025-06-09 21:07:56,875 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:57,412 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,527 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:57,671 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,856 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:58,191 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:58,532 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:59,621 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:59,627 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 22:20:53,843 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:21:43,630 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:22:49,419 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:22:57,252 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-09 22:22:57,254 — INFO — bot — [WIDGET] Received question: test, company_id: 3, bot_id: 1, session_id: test123
2025-06-09 22:22:57,254 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:58,122 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:22:58,137 — INFO — bot — [CLASSIFIER] Question: test, Mode: qa
2025-06-09 22:22:58,137 — INFO — bot — [BOT] Detected mode: qa
2025-06-09 22:22:58,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:58,170 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 22:22:58,595 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 22:22:58,753 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 22:22:58,844 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 22:22:58,983 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:22:59,119 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:22:59,120 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 22:22:59,120 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:59,256 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 22:22:59,259 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T03:07:50.023934",
  "chunk_index": 0,
  "structural_density": 0.7210000000000001,
  "mime": "application/pdf",
  "event_id": 456,
  "file_name": "School Schedule.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "document_id": "e16a3qdmojib3gef0g8dqus9",
  "created_time": 1749524775.8242135,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749524775.8242135,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "file_size": 458459,
  "bot_id": 1,
  "storage_key": "School_Schedule_65e04feca8.pdf",
  "company_id": 3,
  "source": "School_Schedule_65e04feca8.pdf",
  "source_page": 1
}
2025-06-09 22:22:59,259 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:59,296 — INFO — bot — [MEMORY] Created new history for session test123
2025-06-09 22:23:00,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:23:00,036 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are some effective methods for conducting a test?  ', 'Can you provide examples of different types of tests and their purposes?  ', 'How can I evaluate the results of a test effectively?']
2025-06-09 22:23:00,587 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:00,881 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:01,108 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:01,338 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:01,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:02,000 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:02,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:02,884 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:03,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:23:03,544 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 22:31:56,942 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:02,082 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:05,096 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:07,647 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:42:44,398 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-09 22:42:44,416 — INFO — bot — [API] Received question: test, company_id: 3, bot_id: 1, session_id: test123
2025-06-09 22:42:44,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:45,369 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:42:45,382 — INFO — bot — [CLASSIFIER] Question: test, Mode: qa
2025-06-09 22:42:45,383 — INFO — bot — [BOT] Detected mode: qa
2025-06-09 22:42:45,383 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:45,411 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 22:42:45,997 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 22:42:46,320 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 22:42:46,422 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 22:42:46,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:42:46,563 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:42:46,564 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 22:42:46,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:46,760 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 22:42:46,762 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 22:42:46,763 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 22:42:46,764 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 22:42:46,764 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "file_size": 458459,
  "file_name": "School Schedule.pdf",
  "storage_key": "School_Schedule_65e04feca8.pdf",
  "file_type": ".pdf",
  "created_time": 1749524775.8242135,
  "source_page": 1,
  "modified_time": 1749524775.8242135,
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T03:07:50.023934",
  "company_id": 3,
  "content_type": "unstructured_text",
  "source": "School_Schedule_65e04feca8.pdf",
  "structural_density": 0.7210000000000001,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "mime": "application/pdf",
  "source_type": "pdf",
  "document_id": "e16a3qdmojib3gef0g8dqus9",
  "event_id": 456,
  "bot_id": 1
}
2025-06-09 22:42:46,764 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:17,647 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:39:33,242 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:33,333 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:39:33,868 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:39:34,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:39:34,206 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:39:34,305 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:39:34,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:39:34,595 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:39:34,595 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:34,750 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:39:34,754 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:39:34,754 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:39:34,755 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:39:34,756 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_page": 1,
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "company_id": 3,
  "file_size": 1205340,
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "event_id": 468,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "structural_density": 0.8210000000000001
}
2025-06-10 08:39:39,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:39:39,652 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the typical office hours for businesses in my area?  ', 'Can you provide information on standard office hours for different industries?  ', 'What are the common office hours for various types of organizations?']
2025-06-10 08:39:40,175 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:39:40,489 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:39:40,686 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:39:40,727 — ERROR — app — [TEST] Chroma test failed: [SSL: SSLV3_ALERT_BAD_RECORD_MAC] ssl/tls alert bad record mac (_ssl.c:2648)
2025-06-10 08:40:03,732 — INFO — app — [DIRECT] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 588142fe-7279-42db-ae26-07f34563bd87
2025-06-10 08:40:03,732 — INFO — app — [BOT] Using mode: qa (fast mode)
2025-06-10 08:40:03,732 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:03,766 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:40:04,016 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:40:04,188 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:40:04,334 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:40:04,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:40:04,539 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:40:04,539 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:40:04,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:04,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:40:04,638 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".pdf",
  "contains_image_text": true,
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "file_size": 1205340
}
2025-06-10 08:40:04,639 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:04,678 — INFO — app — [MEMORY] Created new history for session 588142fe-7279-42db-ae26-07f34563bd87
2025-06-10 08:40:05,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:40:05,382 — INFO — openai._base_client — Retrying request to /chat/completions in 0.437962 seconds
2025-06-10 08:40:20,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:40:20,504 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-10 08:40:20,816 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:21,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:21,297 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:21,449 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:22,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:22,573 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:23,008 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:24,042 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:45,133 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:40:45,135 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:43:22,513 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:44:20,167 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:44:36,176 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:44:36,178 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: c790dbeb-063c-42ea-b937-0a8f7c08f19f
2025-06-10 08:44:36,178 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:44:36,178 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:44:36,258 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:44:36,601 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:44:36,867 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:44:36,953 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:44:37,056 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:44:37,122 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:44:37,122 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:44:37,122 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:44:37,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:44:37,336 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "company_id": 3,
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "source_page": 1,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 08:44:37,336 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:50:48,280 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:51:10,556 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:51:10,558 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 0b4a48f2-c750-49ff-9688-444caa79dc96
2025-06-10 08:51:10,558 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:51:10,558 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:10,652 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:51:11,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:51:11,555 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:51:11,722 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:51:11,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:51:11,947 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:51:11,948 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:51:11,948 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:12,120 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:51:12,124 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 468,
  "contains_image_text": true,
  "file_size": 1205340,
  "source_type": "pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "source_page": 1,
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3
}
2025-06-10 08:51:12,126 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:12,164 — INFO — app — [MEMORY] Created new history for session 0b4a48f2-c750-49ff-9688-444caa79dc96
2025-06-10 08:51:24,553 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:51:24,580 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-10 08:51:25,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:25,891 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:26,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:26,385 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:26,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:26,753 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:27,274 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:27,669 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:44,193 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:51:44,212 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:52:47,301 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:53:07,997 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:53:07,998 — INFO — app — [API] Received question: what projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 47b33339-c26b-4d06-bcba-8555b9eae0c8
2025-06-10 08:53:07,999 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:53:07,999 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:08,085 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:53:08,428 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:53:08,714 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:53:08,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:53:08,913 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:53:09,002 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:53:09,006 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:53:09,006 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:09,138 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:53:09,147 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:53:09,147 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:53:09,148 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:53:09,148 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "extraction_methods": "standard,ocr_image",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614"
}
2025-06-10 08:53:09,148 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:09,179 — INFO — app — [MEMORY] Created new history for session 47b33339-c26b-4d06-bcba-8555b9eae0c8
2025-06-10 08:53:24,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:53:24,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the notable projects that Jennifer Franklin has been involved in?  ', 'Can you provide a list of projects associated with Jennifer Franklin?  ', 'What contributions has Jennifer Franklin made to various projects?']
2025-06-10 08:53:25,119 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:25,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:26,207 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:26,322 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:27,340 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:27,589 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:28,014 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:28,409 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:41,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:53:41,109 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,227 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,317 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,386 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,387 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,465 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,466 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,513 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,514 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,582 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,583 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,746 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,746 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,747 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,748 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,801 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,801 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,872 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,872 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,954 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,955 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,145 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,145 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,146 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,147 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,274 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,275 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,291 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,291 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,396 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,397 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,469 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,469 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,562 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,562 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,635 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,636 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,792 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,793 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,811 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,811 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,962 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,963 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,069 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,070 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,182 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,182 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,216 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,217 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,328 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,328 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,408 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,408 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,472 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,473 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,553 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,554 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,711 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,712 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,845 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,846 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,932 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,932 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,028 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,028 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,123 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,123 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,245 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,246 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,366 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,366 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,403 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,403 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,543 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,544 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,757 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,757 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,898 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,898 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,982 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,982 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,090 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,091 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,286 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,414 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,415 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,451 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,451 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,565 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,566 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,658 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,658 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,718 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,719 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,836 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,836 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,944 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,945 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,111 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,112 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,199 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,201 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,351 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,352 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,371 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,374 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,470 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,471 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,558 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,559 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,652 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,655 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,794 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,795 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,989 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,989 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,093 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,108 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,175 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,175 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,236 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,236 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,381 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,383 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,384 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,519 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,520 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,605 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,606 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,699 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,700 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,767 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,768 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,850 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,850 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,949 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,949 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,186 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,187 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,238 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,239 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,429 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,430 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,563 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,563 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,581 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,582 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,648 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,879 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,879 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,943 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,943 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,088 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,088 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,120 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,196 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,197 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,287 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,288 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,389 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,390 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,495 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,495 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,608 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,609 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,694 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,694 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,761 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,838 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,838 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,913 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,914 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,035 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,137 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,137 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,230 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,231 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,392 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,393 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,534 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,534 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,653 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,653 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,742 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,742 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,758 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,759 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,827 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,844 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,886 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,886 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,960 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,961 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,038 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,184 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,185 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,203 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,204 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,284 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,373 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,374 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,461 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,462 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,574 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,575 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,575 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,576 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,710 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,711 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,720 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,720 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,797 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,867 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,868 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,967 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,968 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,113 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,114 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,126 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,126 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,229 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,230 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,356 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,357 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,460 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,461 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,530 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,634 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,634 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,763 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,764 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,764 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,818 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,819 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,893 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,043 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,044 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,278 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,279 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,379 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,380 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,453 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,453 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,805 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,806 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,902 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,902 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,986 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,987 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,172 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,173 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,384 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,385 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,489 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,490 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,580 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,580 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,761 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,854 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,855 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,922 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,923 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,018 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,019 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,110 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,111 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,189 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,189 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,287 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,288 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,516 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,517 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,777 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,777 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,900 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,901 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,004 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,004 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,148 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,148 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,259 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,260 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,427 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,427 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,553 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,554 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,601 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,817 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,818 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,819 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,820 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,954 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,955 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,021 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,021 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,058 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,058 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,149 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,149 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,242 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,242 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,345 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,346 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,473 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,474 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,626 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,639 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,868 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,869 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,869 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,870 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,003 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,003 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,062 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,062 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,221 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,221 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,335 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,336 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,540 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,540 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,541 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,542 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_end callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,544 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:54:40,863 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:55:02,070 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:55:02,072 — INFO — app — [API] Received question: what is Jennifer Franklin famous for?, company_id: 3, bot_id: 1, session_id: 2649ee15-9047-4d95-9863-4a024c6b6c8a
2025-06-10 08:55:02,072 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:55:02,072 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:02,168 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:55:02,583 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:55:02,748 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:55:02,829 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:55:02,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:55:02,998 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:55:02,999 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:55:02,999 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:03,272 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:55:03,276 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "event_id": 468,
  "company_id": 3,
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "extraction_methods": "standard,ocr_image",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 08:55:03,277 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:03,308 — INFO — app — [MEMORY] Created new history for session 2649ee15-9047-4d95-9863-4a024c6b6c8a
2025-06-10 08:55:17,837 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:55:17,851 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the notable achievements of Jennifer Franklin?  ', 'In what areas has Jennifer Franklin gained recognition?  ', "Can you provide information on Jennifer Franklin's contributions or accomplishments?"]
2025-06-10 08:55:18,577 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:18,848 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:19,260 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:19,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:20,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:20,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:21,273 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:21,652 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:23,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:55:23,068 — INFO — openai._base_client — Retrying request to /chat/completions in 0.474511 seconds
2025-06-10 08:55:24,773 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:55:24,773 — INFO — openai._base_client — Retrying request to /chat/completions in 0.951177 seconds
2025-06-10 08:55:37,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:55:37,545 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:05:51,961 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:06:09,834 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:06:09,835 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: f2d6f191-374a-40a2-93b7-4f1c9169cd88
2025-06-10 09:06:09,836 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:06:09,836 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:06:09,933 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:06:10,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:06:10,501 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:06:10,601 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:06:10,694 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:06:10,784 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:06:10,784 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:06:10,852 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "pdf",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "source_page": 1,
  "file_size": 1205340
}
2025-06-10 09:06:10,857 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:06:10,891 — INFO — app — [MEMORY] Created new history for session f2d6f191-374a-40a2-93b7-4f1c9169cd88
2025-06-10 09:06:11,647 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:11,887 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:06:12,173 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:12,800 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:24,023 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:06:30,028 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:10:38,677 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:10:59,435 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:10:59,438 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 8a53ac98-0edf-4f35-a45c-10c12aa4a5e2
2025-06-10 09:10:59,439 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:10:59,439 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:10:59,573 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:10:59,985 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:11:00,272 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:11:00,356 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:11:00,454 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:00,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:00,632 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:11:00,632 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:11:00,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structure_type": "paragraph",
  "event_id": 468,
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "file_type": ".pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 09:11:00,784 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:00,814 — INFO — app — [MEMORY] Created new history for session 8a53ac98-0edf-4f35-a45c-10c12aa4a5e2
2025-06-10 09:11:01,681 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:01,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:02,209 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:02,459 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:13,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:11:19,157 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:11:31,370 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:11:31,370 — INFO — app — [API] Received question: what notable projects has Jennifer worked on?, company_id: 3, bot_id: 1, session_id: 39f48449-54b4-471b-a8ae-4818ac8c23e0
2025-06-10 09:11:31,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:11:31,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:31,405 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:11:31,666 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:11:31,832 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:11:31,967 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:11:32,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:32,192 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:32,192 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:11:32,192 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:11:32,192 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:32,356 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "bot_id": 1,
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "source_page": 1,
  "company_id": 3
}
2025-06-10 09:11:32,362 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:32,391 — INFO — app — [MEMORY] Created new history for session 39f48449-54b4-471b-a8ae-4818ac8c23e0
2025-06-10 09:11:37,498 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:11:37,502 — INFO — openai._base_client — Retrying request to /chat/completions in 0.436190 seconds
2025-06-10 09:11:50,967 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:11:50,978 — INFO — langchain.retrievers.multi_query — Generated queries: ['What significant projects has Jennifer been involved in?  ', 'Can you list some key initiatives that Jennifer has contributed to?  ', 'What are some of the major works or accomplishments of Jennifer?']
2025-06-10 09:11:51,483 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:51,781 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,027 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:52,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:52,556 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,957 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:53,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:54,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:11:54,190 — INFO — openai._base_client — Retrying request to /chat/completions in 0.426569 seconds
2025-06-10 09:12:00,601 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:12:00,602 — INFO — openai._base_client — Retrying request to /chat/completions in 0.898723 seconds
2025-06-10 09:12:01,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:12:02,010 — ERROR — app — [STREAM] Error in chain: Error code: 500 - {'error': {'message': 'The server had an error while processing your request. Sorry about that!', 'type': 'server_error', 'param': None, 'code': None}}
2025-06-10 09:13:43,941 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:14:08,936 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:14:08,938 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 62714f6f-167b-49e4-a10a-f9b048d4933e
2025-06-10 09:14:08,939 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:14:08,939 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:14:08,939 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:09,033 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:14:09,538 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:14:09,768 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:14:09,899 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:14:09,972 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:10,060 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:10,060 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:14:10,060 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:14:10,136 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "source_type": "pdf",
  "structural_density": 0.8210000000000001,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "event_id": 468,
  "file_size": 1205340
}
2025-06-10 09:14:10,143 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:10,178 — INFO — app — [MEMORY] Created new history for session 62714f6f-167b-49e4-a10a-f9b048d4933e
2025-06-10 09:14:10,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:11,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:11,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:11,682 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:22,095 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:14:26,976 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:14:40,478 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:14:40,478 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience, company_id: 3, bot_id: 1, session_id: f4d1aed5-d010-47d5-a8f9-ed47be940e1c
2025-06-10 09:14:40,479 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:14:40,479 — INFO — app — [BOT] Auto-selected retrieval strategy: MultiQuery (enhanced coverage)
2025-06-10 09:14:40,479 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:40,508 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:14:40,680 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:14:40,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:14:41,032 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:14:41,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:41,366 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:41,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:14:41,367 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:14:41,367 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:41,558 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-10 09:14:41,561 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:41,592 — INFO — app — [MEMORY] Created new history for session f4d1aed5-d010-47d5-a8f9-ed47be940e1c
2025-06-10 09:14:53,596 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:14:53,606 — INFO — langchain.retrievers.multi_query — Generated queries: ['What projects has Jennifer Franklin worked on, and what is her professional experience?', "Can you provide details on Jennifer Franklin's work history and the projects she has been involved in?", "What are the key projects and experiences that define Jennifer Franklin's career?"]
2025-06-10 09:14:54,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:54,616 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:54,872 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:54,998 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:55,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:55,302 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:57,504 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:57,832 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:15:04,429 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:15:29,295 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:17:50,934 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:22:49,137 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:23:08,413 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:23:08,414 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 72bb7fb1-31a0-4b86-ad5a-5ea888c5589d
2025-06-10 09:23:08,415 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:23:08,415 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:23:08,415 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:23:08,490 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:23:08,925 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:23:09,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:23:09,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:23:09,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:23:09,416 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:23:09,416 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:23:09,417 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:23:09,528 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_index": 0,
  "company_id": 3,
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_type": "pdf"
}
2025-06-10 09:23:09,535 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:23:09,566 — INFO — app — [MEMORY] Created new history for session 72bb7fb1-31a0-4b86-ad5a-5ea888c5589d
2025-06-10 09:23:10,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:10,535 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:23:10,880 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:11,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:22,409 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:23:27,961 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:33:43,851 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:33:58,451 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:33:58,453 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: test_fix_session
2025-06-10 09:33:58,454 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:33:58,454 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:33:58,454 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:33:58,551 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:33:58,946 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:33:59,099 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:33:59,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:33:59,281 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:33:59,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:33:59,393 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:33:59,394 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:33:59,505 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:33:59,512 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "contains_image_text": true,
  "company_id": 3,
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "file_type": ".pdf"
}
2025-06-10 09:33:59,512 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:34:00,345 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:00,586 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:34:00,977 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:01,340 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:12,166 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:34:17,758 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:37:00,413 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:37:11,257 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:37:11,259 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: conv_test_session
2025-06-10 09:37:11,259 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:37:11,259 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:37:11,259 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:11,346 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:37:11,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:37:12,159 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:37:12,248 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:37:12,371 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:12,494 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:12,494 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:37:12,494 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:37:12,590 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:37:12,595 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:37:12,595 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:37:12,596 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:37:12,596 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "company_id": 3,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340,
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "file_type": ".pdf",
  "source_page": 1,
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_type": "pdf"
}
2025-06-10 09:37:12,596 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:12,631 — INFO — app — [MEMORY] Created new history for session conv_test_session
2025-06-10 09:37:13,556 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:13,932 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:37:14,309 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:14,783 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:26,685 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:37:31,970 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:37:40,644 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:37:40,645 — INFO — app — [API] Received question: what is her email address?, company_id: 3, bot_id: 1, session_id: conv_test_session
2025-06-10 09:37:40,645 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:37:40,645 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:37:40,645 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:40,681 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:37:40,973 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:37:41,445 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:37:41,511 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:37:41,632 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:41,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:41,718 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:37:41,718 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:37:41,836 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:37:41,839 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:37:41,839 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:37:41,840 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:37:41,840 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "event_id": 468,
  "mime": "application/pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 09:37:41,840 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:42,231 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:42,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:37:42,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:43,278 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:44,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:37:46,424 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:39:00,670 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:39:00,671 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: perf_test_1749566340
2025-06-10 09:39:00,671 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:39:00,671 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:39:00,672 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:39:00,709 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:39:00,929 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:39:01,159 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:39:01,296 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:39:01,423 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:39:01,593 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:39:01,593 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:39:01,593 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:39:01,668 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:39:01,676 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:39:01,676 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:39:01,677 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:39:01,677 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 1205340,
  "source_type": "pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "structural_density": 0.8210000000000001,
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 09:39:01,677 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:39:01,706 — INFO — app — [MEMORY] Created new history for session perf_test_1749566340
2025-06-10 09:39:02,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:02,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:39:04,229 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:04,415 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:14,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:39:19,653 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:40:16,071 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:40:31,086 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:40:31,088 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: speed_test_1749566431
2025-06-10 09:40:31,088 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:40:31,088 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:40:31,089 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:40:31,181 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:40:31,763 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:40:32,098 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:40:32,229 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:40:32,312 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:40:32,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:40:32,426 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:40:32,426 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:40:32,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=12
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "event_id": 468,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "company_id": 3
}
2025-06-10 09:40:32,533 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:40:32,565 — INFO — app — [MEMORY] Created new history for session speed_test_1749566431
2025-06-10 09:40:33,352 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:40:33,731 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:40:45,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:40:50,586 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:41:12,291 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:41:12,291 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: context_test
2025-06-10 09:41:12,292 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:41:12,292 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:41:12,292 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:41:12,320 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:41:12,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:41:12,781 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:41:12,861 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:41:12,995 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:41:13,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:41:13,129 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:41:13,130 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:41:13,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=5
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "file_type": ".pdf",
  "contains_image_text": true,
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 09:41:13,212 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:41:13,240 — INFO — app — [MEMORY] Created new history for session context_test
2025-06-10 09:41:13,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:41:13,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:41:25,077 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:41:32,157 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:45:06,883 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:45:20,108 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:45:20,110 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: perf_optimized_1749566720
2025-06-10 09:45:20,110 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:45:20,110 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:45:20,110 — INFO — app — [BOT] Optimized k=3 for simple query
2025-06-10 09:45:20,110 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:45:20,196 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:45:20,722 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:45:20,891 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:45:21,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:45:21,201 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:45:21,314 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:45:21,315 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:45:21,315 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:45:21,393 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:45:21,399 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:45:21,400 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=3
2025-06-10 09:45:21,400 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "bot_id": 1,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_type": ".pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "source_type": "pdf",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059"
}
2025-06-10 09:45:21,400 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:45:21,430 — INFO — app — [MEMORY] Created new history for session perf_optimized_1749566720
2025-06-10 09:45:22,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:45:22,666 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:45:34,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:45:38,488 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 09:46:36,833 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:46:51,779 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:46:51,780 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: ultra_fast_1749566811
2025-06-10 09:46:51,781 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:46:51,781 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:46:51,781 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:46:51,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:46:51,862 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:46:52,325 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:46:52,545 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:46:52,711 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:46:52,841 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:46:52,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:46:52,936 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:46:52,936 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:46:53,035 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:46:53,041 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:46:53,041 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:46:53,042 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "created_time": 1749562180.2579546,
  "source_page": 1,
  "contains_image_text": true,
  "file_size": 1205340,
  "event_id": 468,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "file_type": ".pdf"
}
2025-06-10 09:46:53,042 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:46:53,042 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:46:53,071 — INFO — app — [MEMORY] Created new history for session ultra_fast_1749566811
2025-06-10 09:46:53,901 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:46:54,082 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:46:54,509 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:46:54,817 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:47:50,412 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:47:50,412 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: conversation_test
2025-06-10 09:47:50,413 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:47:50,414 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:47:50,414 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:47:50,414 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:47:50,448 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:47:50,630 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:47:50,800 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:47:50,892 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:47:50,990 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:47:51,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:47:51,061 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:47:51,061 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:47:51,171 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "source_type": "pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "event_id": 468,
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "file_size": 1205340
}
2025-06-10 09:47:51,180 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:47:51,180 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:47:51,207 — INFO — app — [MEMORY] Created new history for session conversation_test
2025-06-10 09:47:51,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:47:52,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:47:52,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:47:53,795 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:48:04,883 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:48:04,884 — INFO — app — [API] Received question: what is her email address?, company_id: 3, bot_id: 1, session_id: conversation_test
2025-06-10 09:48:04,885 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:48:04,885 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:48:04,885 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:48:04,885 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:04,927 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:48:05,311 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:48:05,563 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:48:05,729 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:48:05,831 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:06,006 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:06,006 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:48:06,006 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:48:06,249 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "structure_type": "paragraph",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf"
}
2025-06-10 09:48:06,254 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:48:06,254 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:06,595 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:06,780 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:07,363 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:08,872 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:48:20,483 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:48:20,484 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience, company_id: 3, bot_id: 1, session_id: intelligence_test
2025-06-10 09:48:20,485 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:48:20,485 — INFO — app — [BOT] Auto-selected retrieval strategy: MultiQuery (enhanced coverage)
2025-06-10 09:48:20,485 — INFO — app — [BOT] Optimized k=8 for complex query
2025-06-10 09:48:20,485 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:20,525 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:48:21,123 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:48:21,327 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:48:21,455 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:48:21,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:21,648 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:21,649 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:48:21,649 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:48:21,649 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:21,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:48:21,849 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:48:21,850 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:48:21,851 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=8, threshold=0.1
2025-06-10 09:48:21,851 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "event_id": 468,
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structure_type": "paragraph",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic"
}
2025-06-10 09:48:21,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:21,881 — INFO — app — [MEMORY] Created new history for session intelligence_test
2025-06-10 09:48:24,465 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:24,489 — INFO — langchain.retrievers.multi_query — Generated queries: ['What projects has Jennifer Franklin worked on, and what is her professional experience?', "Can you provide details on Jennifer Franklin's work history and the projects she has been involved in?", "What are the key projects and experiences that define Jennifer Franklin's career?"]
2025-06-10 09:48:24,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:25,232 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:25,651 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:25,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:26,180 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:26,270 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:27,222 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:27,492 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:28,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:41,913 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:55:24,238 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:55:36,313 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:55:36,314 — INFO — app — [API] Received question: what is Jennifer Franklin email?, company_id: 3, bot_id: 1, session_id: simple_test_1749567336
2025-06-10 09:55:36,315 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:55:36,315 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 09:55:36,315 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:55:36,315 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:36,387 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:55:36,853 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:55:37,053 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:55:37,160 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:55:37,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:37,347 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:37,350 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:55:37,350 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:55:37,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "structural_density": 0.8210000000000001,
  "mime": "application/pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_size": 1205340,
  "source_type": "pdf"
}
2025-06-10 09:55:37,432 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 09:55:37,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:37,461 — INFO — app — [MEMORY] Created new history for session simple_test_1749567336
2025-06-10 09:55:38,601 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:55:38,829 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:55:39,261 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:55:39,346 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:55:49,897 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:55:49,898 — INFO — app — [API] Received question: what projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: medium_test_1749567349
2025-06-10 09:55:49,899 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:55:49,899 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 09:55:49,899 — INFO — app — [BOT] Optimized k=4 for medium query
2025-06-10 09:55:49,899 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:49,928 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:55:50,140 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:55:50,400 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:55:50,479 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:55:50,549 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:50,665 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:50,666 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:55:50,666 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:55:50,791 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:55:50,795 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:55:50,795 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 09:55:50,796 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "source_page": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "content_type": "unstructured_text",
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "file_size": 1205340,
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001
}
2025-06-10 09:55:50,797 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 09:55:50,797 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:50,824 — INFO — app — [MEMORY] Created new history for session medium_test_1749567349
2025-06-10 09:55:51,074 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:55:51,444 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:55:51,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:55:52,921 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:56:05,669 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:56:05,670 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience background, company_id: 3, bot_id: 1, session_id: complex_test_1749567365
2025-06-10 09:56:05,670 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:56:05,670 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 09:56:05,670 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 09:56:05,670 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:05,698 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:56:05,993 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:56:06,224 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:56:06,295 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:56:06,368 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:56:06,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:56:06,522 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:56:06,522 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 09:56:06,523 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:06,621 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "file_size": 1205340,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime": "application/pdf",
  "bot_id": 1
}
2025-06-10 09:56:06,629 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 09:56:06,629 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:06,656 — INFO — app — [MEMORY] Created new history for session complex_test_1749567365
2025-06-10 09:56:08,104 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:56:08,113 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are some of the projects that Jennifer Franklin has worked on and what is her background in terms of experience?', "2. Can you provide information on Jennifer Franklin's professional projects and experience background?", "3. I'm interested in learning more about Jennifer Franklin's background in terms of projects and experience. Can you provide some details?"]
2025-06-10 09:56:08,408 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:08,616 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:08,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:09,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:09,497 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:09,663 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:10,385 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:10,538 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:10,871 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:11,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:11,780 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:56:28,934 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:57:31,888 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:57:57,612 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:57:57,627 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience background, company_id: 3, bot_id: 1, session_id: final_complex_test_1749567477
2025-06-10 09:57:57,627 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:57:57,627 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 09:57:57,627 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 09:57:57,627 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:57,716 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:57:58,085 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:57:58,348 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:57:58,408 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:57:58,484 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:57:58,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:57:58,551 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:57:58,551 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 09:57:58,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:58,745 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:57:58,749 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:57:58,749 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 09:57:58,750 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 09:57:58,750 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "created_time": 1749562180.2579546,
  "mime": "application/pdf",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "event_id": 468,
  "company_id": 3,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001
}
2025-06-10 09:57:58,750 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 09:57:58,750 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:58,780 — INFO — app — [MEMORY] Created new history for session final_complex_test_1749567477
2025-06-10 09:57:59,792 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:57:59,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are some of the notable projects Jennifer Franklin has worked on and what is her professional background?', "2. Can you provide information on Jennifer Franklin's past experiences and the projects she has been involved in?"]
2025-06-10 09:58:00,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:00,839 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:58:01,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:01,273 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:58:01,604 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:02,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:03,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:58:28,609 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:01:19,763 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:01:41,258 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:01:41,259 — INFO — app — [API] Received question: What is the doctor appointment time?, company_id: 3, bot_id: 1, session_id: fa4de22b-9ca1-4ce8-8a85-c0ef43232bd5
2025-06-10 10:01:41,260 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:01:41,260 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:01:41,260 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 10:01:41,260 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:01:41,338 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:01:41,684 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:01:41,998 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:01:42,083 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:01:42,334 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:01:42,410 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:01:42,411 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:01:42,411 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:01:42,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:01:42,527 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:01:42,527 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:01:42,528 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_type": ".pdf",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "bot_id": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "company_id": 3,
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 10:01:42,528 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:01:42,528 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:01:42,557 — INFO — app — [MEMORY] Created new history for session fa4de22b-9ca1-4ce8-8a85-c0ef43232bd5
2025-06-10 10:01:43,760 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:01:44,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:01:44,509 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:01:44,651 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A']
2025-06-10 10:02:07,618 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:07,619 — INFO — app — [API] Received question: What are your loan rates and fees?, company_id: 3, bot_id: 1, session_id: fa5423c3-23b2-413a-851d-eb31b71e8d89
2025-06-10 10:02:07,619 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:07,619 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:02:07,620 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 10:02:07,620 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:07,651 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:07,996 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:08,153 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:08,240 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:08,343 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:08,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:08,406 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:08,406 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:02:08,406 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:08,527 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:08,533 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:08,533 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:02:08,534 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:02:08,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "event_id": 468,
  "contains_image_text": true,
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "chunk_type": "semantic"
}
2025-06-10 10:02:08,534 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:02:08,534 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:08,563 — INFO — app — [MEMORY] Created new history for session fa5423c3-23b2-413a-851d-eb31b71e8d89
2025-06-10 10:02:10,012 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:10,021 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What is the interest rate for loans and what additional fees are associated with borrowing money?', '2. Can you provide information on the cost of borrowing, including both the interest rates and any fees involved in taking out a loan?']
2025-06-10 10:02:10,482 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:10,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:10,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:11,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:11,522 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:12,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:23,288 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:23,443 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_text.txt', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:02:37,889 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:37,889 — INFO — app — [API] Received question: List all the software features available, company_id: 3, bot_id: 1, session_id: 9e1b9f28-17f6-4aa0-b8e7-a8b7e5212a59
2025-06-10 10:02:37,890 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:37,890 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:02:37,891 — INFO — app — [BOT] Optimized k=4 for medium query
2025-06-10 10:02:37,891 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:37,925 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:38,121 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:38,264 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:38,321 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:38,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:38,513 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:38,514 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:38,514 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:02:38,648 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:38,652 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:38,653 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:02:38,653 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "event_id": 468,
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:02:38,653 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:02:38,653 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:38,682 — INFO — app — [MEMORY] Created new history for session 9e1b9f28-17f6-4aa0-b8e7-a8b7e5212a59
2025-06-10 10:02:38,999 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:39,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:39,738 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:40,200 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:02:51,969 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:51,970 — INFO — app — [API] Received question: Analyze the competitive landscape and provide strategic recommendations for market expansion, company_id: 3, bot_id: 1, session_id: 514e53ad-5a18-4198-a800-b7b2366fbfa4
2025-06-10 10:02:51,971 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:51,971 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:02:51,971 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 10:02:51,971 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:52,018 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:52,349 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:52,627 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:52,688 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:52,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:52,902 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:52,905 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:52,905 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:02:52,905 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:53,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:53,224 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:53,225 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:02:53,225 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:02:53,226 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_size": 1205340,
  "mime": "application/pdf",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059"
}
2025-06-10 10:02:53,226 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:02:53,226 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:53,291 — INFO — app — [MEMORY] Created new history for session 514e53ad-5a18-4198-a800-b7b2366fbfa4
2025-06-10 10:02:54,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:54,246 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Evaluate the market competition and suggest strategies for expanding market presence', '2. Examine the competitive environment and propose tactics for increasing market reach and growth opportunities']
2025-06-10 10:02:54,678 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:54,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:55,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:55,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:56,251 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:56,788 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:57,418 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:57,691 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:06:26,233 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:06:38,430 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:06:38,432 — INFO — app — [API] Received question: What is Jennifer phone number?, company_id: 3, bot_id: 1, session_id: 19a791ff-0d2e-430b-9469-05bc1702af71
2025-06-10 10:06:38,432 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:06:38,432 — INFO — app — [BOT] Hardcoded complexity detection: simple (took 0.000s)
2025-06-10 10:06:38,432 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:06:38,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:06:38,503 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:06:38,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:06:39,143 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:06:39,200 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:06:39,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:06:39,492 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:06:39,493 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:06:39,493 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:06:39,604 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "company_id": 3,
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source_type": "pdf"
}
2025-06-10 10:06:39,700 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:06:39,700 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:06:39,728 — INFO — app — [MEMORY] Created new history for session 19a791ff-0d2e-430b-9469-05bc1702af71
2025-06-10 10:06:40,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:06:40,740 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:06:41,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:06:41,435 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:06:59,330 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:07:11,484 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:07:11,485 — INFO — app — [API] Received question: What is Jennifer phone number?, company_id: 3, bot_id: 1, session_id: a80f421a-76e9-4ca7-b49a-a10504f3175d
2025-06-10 10:07:11,485 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:07:11,485 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:15,168 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:15,352 — INFO — app — [LLM] Classification: simple (took 3.867s)
2025-06-10 10:07:15,352 — INFO — app — [BOT] LLM complexity detection: simple (took 3.867s)
2025-06-10 10:07:15,352 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:07:15,353 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:15,391 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:07:15,633 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:07:15,820 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:07:15,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:07:16,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:16,189 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:16,190 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:07:16,190 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:07:16,291 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:07:16,303 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:07:16,303 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:07:16,304 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "extraction_methods": "standard,ocr_image"
}
2025-06-10 10:07:16,304 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:07:16,304 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:16,339 — INFO — app — [MEMORY] Created new history for session a80f421a-76e9-4ca7-b49a-a10504f3175d
2025-06-10 10:07:17,454 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:17,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:18,181 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:18,282 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:07:31,203 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:07:31,205 — INFO — app — [API] Received question: I need help understanding the best approach for improving our customer satisfaction metrics, company_id: 3, bot_id: 1, session_id: 8d585cc4-39f4-4854-9eff-932a0b5c2f7b
2025-06-10 10:07:31,207 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:07:31,207 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:31,740 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:31,742 — INFO — app — [LLM] Classification: complex (took 0.535s)
2025-06-10 10:07:31,742 — INFO — app — [BOT] LLM complexity detection: complex (took 0.535s)
2025-06-10 10:07:31,742 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:07:31,742 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:31,771 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:07:31,915 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:07:32,128 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:07:32,256 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:07:32,356 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:32,415 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:32,416 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:07:32,416 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:07:32,417 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:32,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:07:32,537 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:07:32,537 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:07:32,538 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:07:32,539 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "source_page": 1,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "bot_id": 1,
  "contains_image_text": true,
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf"
}
2025-06-10 10:07:32,539 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:07:32,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:32,570 — INFO — app — [MEMORY] Created new history for session 8d585cc4-39f4-4854-9eff-932a0b5c2f7b
2025-06-10 10:07:33,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:33,319 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What strategies can be implemented to enhance customer satisfaction metrics?', '2. How can we optimize customer satisfaction metrics within our organization?']
2025-06-10 10:07:33,881 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:34,106 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:34,393 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:34,514 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:34,877 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:35,133 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:35,775 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:36,049 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_table.csv', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:07:51,101 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:08:05,786 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:08:05,788 — INFO — app — [API] Received question: I need help understanding the best approach for improving our customer satisfaction metrics, company_id: 3, bot_id: 1, session_id: 4e4611cd-d567-4441-a884-8fb713bcc902
2025-06-10 10:08:05,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:08:05,788 — INFO — app — [BOT] Hardcoded complexity detection: medium (took 0.000s)
2025-06-10 10:08:05,789 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:08:05,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:08:05,872 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:08:06,231 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:08:06,427 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:08:06,563 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:08:06,751 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:08:08,178 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:08:08,180 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:08:08,180 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:08:08,329 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:08:08,334 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:08:08,334 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:08:08,335 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "source_type": "pdf",
  "extraction_methods": "standard,ocr_image",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "company_id": 3,
  "event_id": 468,
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "content_type": "unstructured_text"
}
2025-06-10 10:08:08,335 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:08:08,335 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:08:08,363 — INFO — app — [MEMORY] Created new history for session 4e4611cd-d567-4441-a884-8fb713bcc902
2025-06-10 10:08:09,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:08:09,575 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:08:10,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:08:10,759 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_table.csv'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:13:10,730 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:13:24,441 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:24,442 — INFO — app — [API] Received question: What is Jennifer email address?, company_id: 3, bot_id: 1, session_id: 82edffe4-00d7-44e0-90bf-8e4f95651061
2025-06-10 10:13:24,443 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:24,443 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:13:24,443 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:24,531 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:25,171 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:25,333 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:25,473 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:25,567 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:25,691 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:25,691 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:25,692 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:13:25,768 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:25,773 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:25,774 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:13:25,774 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_index": 0,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "event_id": 468,
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "contains_image_text": true
}
2025-06-10 10:13:25,774 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:13:25,774 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:25,805 — INFO — app — [MEMORY] Created new history for session 82edffe4-00d7-44e0-90bf-8e4f95651061
2025-06-10 10:13:26,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:27,094 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:27,600 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:27,785 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:13:41,837 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:41,837 — INFO — app — [API] Received question: List all the services you offer, company_id: 3, bot_id: 1, session_id: dc00ac27-6b9c-439c-8d0c-8cc06f21757a
2025-06-10 10:13:41,838 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:41,838 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:13:41,838 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:41,874 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:42,075 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:42,396 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:42,489 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:42,615 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:42,709 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:42,710 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:42,710 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:13:42,776 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "bot_id": 1,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "event_id": 468
}
2025-06-10 10:13:42,783 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:13:42,783 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:42,813 — INFO — app — [MEMORY] Created new history for session dc00ac27-6b9c-439c-8d0c-8cc06f21757a
2025-06-10 10:13:43,457 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:43,611 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:44,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:44,507 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:13:55,033 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:55,047 — INFO — app — [API] Received question: Tell me about Jennifer experience and qualifications, company_id: 3, bot_id: 1, session_id: 9a96f269-0a18-4ace-88bf-9fc3bf02ef37
2025-06-10 10:13:55,048 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:55,048 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:13:55,048 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,082 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:55,245 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:55,386 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:55,515 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:55,586 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:55,681 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:55,682 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:55,683 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:13:55,684 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,787 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:55,793 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:55,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:13:55,799 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:13:55,800 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "company_id": 3,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "source_page": 1,
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "event_id": 468,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 10:13:55,800 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:13:55,800 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,838 — INFO — app — [MEMORY] Created new history for session 9a96f269-0a18-4ace-88bf-9fc3bf02ef37
2025-06-10 10:13:56,575 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:56,606 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are Jennifer's professional qualifications and work experience?", "2. Can you provide information on Jennifer's background, skills, and previous roles?"]
2025-06-10 10:13:56,994 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:57,275 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:57,510 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:57,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:58,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:58,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:14:14,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:14:30,953 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:31:54,800 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:31:54,816 — INFO — app — [API] Received question: What are the operating hours for all Lucas offices?, company_id: 3, bot_id: 1, session_id: 00c3426c-f03c-4073-9da6-1146281b8b5d
2025-06-10 10:31:54,821 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:31:54,823 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:31:54,825 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:31:54,903 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:31:55,194 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:31:55,412 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:31:55,532 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:31:55,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:31:55,732 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:31:55,733 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:31:55,733 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:31:55,820 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:31:55,842 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:31:55,842 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:31:55,843 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "file_size": 1205340,
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structure_type": "paragraph",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "event_id": 468
}
2025-06-10 10:31:55,843 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:31:55,843 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:31:56,001 — INFO — app — [MEMORY] Created new history for session 00c3426c-f03c-4073-9da6-1146281b8b5d
2025-06-10 10:31:57,181 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:31:57,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:31:58,369 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:00,352 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:32:16,784 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:32:16,784 — INFO — app — [API] Received question: What are the hours for the downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 2712dd31-1933-49ad-91d4-1b0e7c995546
2025-06-10 10:32:16,785 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:32:16,785 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:32:16,785 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:16,812 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:32:17,105 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:32:17,277 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:32:17,342 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:32:17,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:17,555 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:17,556 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:32:17,556 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:32:17,637 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "bot_id": 1,
  "source_type": "pdf",
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "event_id": 468,
  "file_type": ".pdf"
}
2025-06-10 10:32:17,661 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:32:17,661 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:17,688 — INFO — app — [MEMORY] Created new history for session 2712dd31-1933-49ad-91d4-1b0e7c995546
2025-06-10 10:32:18,809 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:32:19,001 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:32:19,658 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:20,573 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:32:39,346 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:32:39,346 — INFO — app — [API] Received question: Show me the operating hours for each Lucas office location, company_id: 3, bot_id: 1, session_id: 5990393f-5e9c-483f-9cb3-236ca93f0276
2025-06-10 10:32:39,347 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:32:39,347 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:32:39,347 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:39,390 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:32:39,805 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:32:40,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:32:40,186 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:32:40,283 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:40,376 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:40,376 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:32:40,376 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:32:40,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "source_page": 1,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 10:32:40,538 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:32:40,538 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:40,567 — INFO — app — [MEMORY] Created new history for session 5990393f-5e9c-483f-9cb3-236ca93f0276
2025-06-10 10:32:41,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:32:41,401 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:32:41,756 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:43,319 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:33:02,814 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:33:02,814 — INFO — app — [API] Received question: List all Lucas office locations and their operating schedules, company_id: 3, bot_id: 1, session_id: fe1f931e-51ab-4bfd-a0c1-694d87bc5394
2025-06-10 10:33:02,814 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:33:02,816 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:33:02,816 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:02,850 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:33:03,038 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:33:03,363 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:33:03,422 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:33:03,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:33:03,582 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:33:03,583 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:33:03,583 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:33:03,584 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:03,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:33:03,791 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:33:03,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:33:03,797 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:33:03,797 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "file_type": ".pdf",
  "file_size": 1205340,
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "source_type": "pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:33:03,798 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:33:03,798 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:03,827 — INFO — app — [MEMORY] Created new history for session fe1f931e-51ab-4bfd-a0c1-694d87bc5394
2025-06-10 10:33:04,797 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:33:04,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the addresses and hours of operation for Lucas offices?', '2. Where can I find a comprehensive list of Lucas office locations and their opening hours?']
2025-06-10 10:33:05,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:05,614 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:33:05,853 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:06,062 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:33:06,576 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:09,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:24,953 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:05,035 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:34:21,366 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:34:21,366 — INFO — app — [API] Received question: List all Lucas office locations and their operating schedules, company_id: 3, bot_id: 1, session_id: ded15d21-7b7a-4b0a-b437-5441e1605e46
2025-06-10 10:34:21,367 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:34:21,367 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:34:21,367 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:21,403 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:34:21,693 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:34:21,965 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:34:22,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:34:22,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:34:22,336 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:34:22,337 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:34:22,337 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:34:22,337 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:22,436 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:34:22,450 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:34:22,451 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:34:22,451 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:34:22,452 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "mime": "application/pdf",
  "event_id": 468,
  "contains_image_text": true,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 10:34:22,452 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:34:22,452 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:22,484 — INFO — app — [MEMORY] Created new history for session ded15d21-7b7a-4b0a-b437-5441e1605e46
2025-06-10 10:34:23,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:23,185 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the addresses and hours of operation for Lucas offices?', '2. Where can I find a list of Lucas office locations and their opening hours?']
2025-06-10 10:34:23,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:23,776 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:34:24,013 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:24,135 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:34:24,714 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:25,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:25,632 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:40,557 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:35:50,946 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:36:03,872 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:36:03,873 — INFO — app — [API] Received question: What are the hours for the downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 09207023-ab88-44a9-8951-d385b1e10f4c
2025-06-10 10:36:03,873 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:36:03,874 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:36:03,874 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:36:03,949 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:36:04,448 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:36:04,663 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:36:04,745 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:36:04,886 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:36:04,991 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:36:04,992 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:36:04,992 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:36:05,103 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "company_id": 3,
  "file_size": 1205340,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "contains_image_text": true,
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "mime": "application/pdf",
  "chunk_index": 0,
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf"
}
2025-06-10 10:36:05,109 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:36:05,109 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:36:05,137 — INFO — app — [MEMORY] Created new history for session 09207023-ab88-44a9-8951-d385b1e10f4c
2025-06-10 10:36:06,151 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:36:06,947 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:36:07,366 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:36:07,497 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:46:11,418 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:46:11,425 — INFO — app — [API] Received question: Tell me about Jennifer experience and projects, company_id: 3, bot_id: 1, session_id: 4ce09e8a-7324-4af9-abec-481f2e251315
2025-06-10 10:46:11,428 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:46:11,428 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:46:11,429 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:11,492 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:46:11,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:46:12,068 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:46:12,178 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:46:12,269 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:46:12,342 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:46:12,342 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:46:12,343 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:46:12,344 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:12,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:46:12,577 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:46:12,578 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:46:12,583 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:46:12,583 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "bot_id": 1,
  "chunk_type": "semantic"
}
2025-06-10 10:46:12,586 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:46:12,586 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:12,616 — INFO — app — [MEMORY] Created new history for session 4ce09e8a-7324-4af9-abec-481f2e251315
2025-06-10 10:46:13,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:46:13,388 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are some of Jennifer's notable projects and accomplishments?", "2. Can you provide information on Jennifer's professional experience and successful projects?"]
2025-06-10 10:46:13,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:14,187 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:46:14,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:14,665 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:46:15,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:15,511 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:16,143 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:46:25,064 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:47:51,454 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:48:04,355 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:48:04,357 — INFO — app — [API] Received question: Tell me about Jennifer experience and projects, company_id: 3, bot_id: 1, session_id: e7e6fc21-1f84-4286-bc82-2823948d61a6
2025-06-10 10:48:04,357 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:48:04,357 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:48:04,357 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:04,430 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:48:04,894 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:48:05,112 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:48:05,183 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:48:05,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:05,513 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:05,514 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:48:05,514 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:48:05,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:48:05,625 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:48:05,626 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:48:05,626 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "event_id": 468,
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_page": 1,
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_index": 0,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "modified_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001
}
2025-06-10 10:48:05,626 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:48:05,626 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:05,677 — INFO — app — [MEMORY] Created new history for session e7e6fc21-1f84-4286-bc82-2823948d61a6
2025-06-10 10:48:06,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:48:06,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:48:07,164 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:48:12,619 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:48:35,188 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:48:48,511 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:48:48,513 — INFO — app — [API] Received question: What is Jennifer email?, company_id: 3, bot_id: 1, session_id: 012ddc54-5d07-4178-9b33-78559c37fcd0
2025-06-10 10:48:48,513 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:48:48,513 — INFO — app — [BOT] FORCE_ALL_COMPLEX enabled → All queries complex
2025-06-10 10:48:48,513 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:48:48,513 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:48,567 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:48:49,036 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:48:49,215 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:48:49,303 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:48:49,466 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:49,561 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:49,562 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:48:49,562 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:48:49,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:48:49,679 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:48:49,680 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:48:49,680 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "modified_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "contains_image_text": true,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "source_type": "pdf"
}
2025-06-10 10:48:49,680 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:48:49,680 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:49,710 — INFO — app — [MEMORY] Created new history for session 012ddc54-5d07-4178-9b33-78559c37fcd0
2025-06-10 10:48:50,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:48:51,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:48:51,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:48:52,437 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:49:06,478 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:49:06,478 — INFO — app — [API] Received question: What are the hours for downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 6c1f4054-5cff-4f9b-b233-bc886f2d49da
2025-06-10 10:49:06,479 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:49:06,479 — INFO — app — [BOT] FORCE_ALL_COMPLEX enabled → All queries complex
2025-06-10 10:49:06,479 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:49:06,479 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:49:06,506 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:49:06,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:49:07,090 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:49:07,193 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:49:07,341 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:49:07,481 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:49:07,482 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:49:07,482 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:49:07,552 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_type": ".pdf",
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340
}
2025-06-10 10:49:07,570 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:49:07,570 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:49:07,599 — INFO — app — [MEMORY] Created new history for session 6c1f4054-5cff-4f9b-b233-bc886f2d49da
2025-06-10 10:49:08,574 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:49:08,861 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:49:09,784 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:49:09,915 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:50:36,309 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:50:51,483 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:50:51,484 — INFO — app — [API] Received question: Tell me about Jennifers professional background, experience, and major achievements, company_id: 3, bot_id: 1, session_id: 1f03a65d-23cb-4a02-ad7a-e6fbef9b97ca
2025-06-10 10:50:51,484 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:50:51,484 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:50:51,484 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:50:51,556 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:50:51,850 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:50:52,021 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:50:52,141 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:50:52,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:50:52,316 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:50:52,317 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:50:52,318 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:50:52,427 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "company_id": 3,
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "contains_image_text": true,
  "source_page": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph"
}
2025-06-10 10:50:52,432 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:50:52,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:50:52,462 — INFO — app — [MEMORY] Created new history for session 1f03a65d-23cb-4a02-ad7a-e6fbef9b97ca
2025-06-10 10:50:53,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:50:53,327 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:51:01,789 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:51:15,400 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:51:41,130 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:51:56,001 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:51:56,003 — INFO — app — [API] Received question: Tell me about Jennifers professional background, experience, and major achievements, company_id: 3, bot_id: 1, session_id: 2656e9e1-c775-4144-a816-507cf545ecf6
2025-06-10 10:51:56,003 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:51:56,003 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (original comprehensive)
2025-06-10 10:51:56,003 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:56,078 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:51:56,358 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:51:56,629 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:51:56,720 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:51:56,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:51:56,948 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:51:56,949 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:51:56,949 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:51:56,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:57,051 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "chunk_index": 0,
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "file_size": 1205340,
  "contains_image_text": true,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:51:57,157 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:51:57,157 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:57,184 — INFO — app — [MEMORY] Created new history for session 2656e9e1-c775-4144-a816-507cf545ecf6
2025-06-10 10:51:58,802 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:51:58,813 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are Jennifer's qualifications, work history, and notable accomplishments in her career?", "2. Can you provide information on Jennifer's professional resume, past roles, and significant contributions in her field?"]
2025-06-10 10:51:59,376 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:51:59,639 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:51:59,873 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:00,001 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:00,569 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:01,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:02,077 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:08,691 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:52:30,341 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:52:30,342 — INFO — app — [API] Received question: Compare the operational differences between Lucas office locations including their schedules, staffing, and service capabilities, company_id: 3, bot_id: 1, session_id: 95a6b232-8a74-439d-9cd7-5a118318e26d
2025-06-10 10:52:30,342 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:52:30,342 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (original comprehensive)
2025-06-10 10:52:30,342 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:30,372 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:52:30,717 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:52:30,901 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:52:31,002 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:52:31,100 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:52:31,229 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:52:31,230 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:52:31,230 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:52:31,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:31,425 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1
}
2025-06-10 10:52:31,431 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:52:31,431 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:31,464 — INFO — app — [MEMORY] Created new history for session 95a6b232-8a74-439d-9cd7-5a118318e26d
2025-06-10 10:52:32,283 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:32,284 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the operational variations among Lucas office branches in terms of their working hours, team composition, and range of services offered', '2. Analyze the differences in operations across Lucas office sites, considering factors such as opening hours, staffing levels, and service capacities']
2025-06-10 10:52:32,996 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:33,198 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:33,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:33,617 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:34,045 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:34,378 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:36,343 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:43,451 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:53:06,764 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:53:22,272 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:53:22,273 — INFO — app — [API] Received question: Compare the operational differences between Lucas office locations including their schedules, staffing, and service capabilities, company_id: 3, bot_id: 1, session_id: 9383943f-4c31-4a5f-aea9-690f013e0211
2025-06-10 10:53:22,273 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:53:22,274 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:53:22,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:53:22,347 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:53:22,801 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:53:23,009 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:53:23,142 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:53:23,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:53:23,411 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:53:23,412 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:53:23,413 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:53:23,529 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "chunk_type": "semantic",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "file_size": 1205340,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546
}
2025-06-10 10:53:23,535 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:53:23,535 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:53:23,567 — INFO — app — [MEMORY] Created new history for session 9383943f-4c31-4a5f-aea9-690f013e0211
2025-06-10 10:53:24,187 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:53:24,378 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:53:25,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:53:46,011 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:56:36,271 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:56:48,236 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:56:48,238 — INFO — app — [API] Received question: Compare the schedules and services of different Lucas office locations, company_id: 3, bot_id: 1, session_id: 65878bc1-3568-4505-81a3-0aaabf10d35a
2025-06-10 10:56:48,238 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:56:48,238 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-06-10 10:56:48,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:48,307 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:56:48,659 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:56:48,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:56:49,043 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:56:49,173 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:56:49,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:56:49,248 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:56:49,248 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:56:49,248 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:49,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:56:49,399 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:56:49,400 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:49,426 — INFO — app — [MEMORY] Created new history for session 65878bc1-3568-4505-81a3-0aaabf10d35a
2025-06-10 10:56:50,788 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:56:50,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Contrast the operating hours and amenities offered at various Lucas office branches', '2. Analyze the timetables and facilities available at different Lucas office sites']
2025-06-10 10:56:51,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:51,475 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:56:51,804 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:51,910 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:56:52,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:52,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:53,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:57:04,959 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:57:19,794 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:57:19,794 — INFO — app — [API] Received question: Tell me about Jennifers professional background and her major achievements in architecture, company_id: 3, bot_id: 1, session_id: 49c62166-75f8-4c36-909b-35697ae16d5f
2025-06-10 10:57:19,795 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:57:19,795 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (standard complex)
2025-06-10 10:57:19,795 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:57:19,823 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:57:20,016 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:57:20,252 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:57:20,322 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:57:20,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:57:20,504 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:57:20,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:57:20,504 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:57:20,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:57:20,637 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:57:20,637 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:57:20,638 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "bot_id": 1
}
2025-06-10 10:57:20,638 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:57:20,638 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:57:20,671 — INFO — app — [MEMORY] Created new history for session 49c62166-75f8-4c36-909b-35697ae16d5f
2025-06-10 10:57:21,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:57:21,276 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:57:21,838 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:57:27,888 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:01:05,834 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:01:17,525 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:01:17,527 — INFO — app — [API] Received question: What is Jennifers phone number?, company_id: 3, bot_id: 1, session_id: 7ddd960a-264f-4f7d-8222-09047fb2189d
2025-06-10 11:01:17,528 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:01:17,528 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:01:17,529 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:01:17,529 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:17,611 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:01:18,031 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:01:18,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:01:18,343 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:01:18,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:18,568 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:18,569 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:01:18,569 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:01:18,698 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1
}
2025-06-10 11:01:18,704 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:01:18,704 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:18,736 — INFO — app — [MEMORY] Created new history for session 7ddd960a-264f-4f7d-8222-09047fb2189d
2025-06-10 11:01:19,655 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:19,936 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:20,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:21,178 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:01:32,817 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:01:32,817 — INFO — app — [API] Received question: Compare the office hours between different Lucas locations, company_id: 3, bot_id: 1, session_id: 15bed77f-2d17-4055-adfe-f15994c8bdcf
2025-06-10 11:01:32,818 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:01:32,818 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:01:32,818 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-06-10 11:01:32,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:32,853 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:01:33,029 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:01:33,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:01:33,306 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:01:33,388 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:33,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:33,451 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:01:33,451 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 11:01:33,451 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:33,642 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 11:01:33,651 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "mime": "application/pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "content_type": "unstructured_text"
}
2025-06-10 11:01:33,651 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:01:33,651 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:33,680 — INFO — app — [MEMORY] Created new history for session 15bed77f-2d17-4055-adfe-f15994c8bdcf
2025-06-10 11:01:34,225 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:34,233 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Contrast the operating hours at various Lucas branches', '2. Analyze the differences in office hours across multiple Lucas offices']
2025-06-10 11:01:34,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:34,774 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:35,891 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:36,054 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:36,847 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:37,283 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:37,767 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:45,272 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'sample_table.csv', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:20:16,088 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:20:16,103 — INFO — app — [API] Received question: Show me the raw content from one Jennifer document chunk, company_id: 3, bot_id: 1, session_id: c2d38b5e-c81d-4470-9c4a-2021e028ca70
2025-06-10 11:20:16,118 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:20:16,119 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:20:16,119 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:20:16,121 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:16,266 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:20:16,622 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:20:16,858 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:20:16,954 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:20:17,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:17,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:17,216 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:20:17,217 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:20:17,352 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "structure_type": "paragraph",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime": "application/pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "content_type": "unstructured_text"
}
2025-06-10 11:20:17,371 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:20:17,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:17,407 — INFO — app — [MEMORY] Created new history for session c2d38b5e-c81d-4470-9c4a-2021e028ca70
2025-06-10 11:20:17,875 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:20:18,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:20:18,733 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:20:18,812 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:20:31,673 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:20:31,674 — INFO — app — [API] Received question: What projects has Jennifer worked on?, company_id: 3, bot_id: 1, session_id: b6028930-6217-49b1-ab1b-1b6b3cbfd648
2025-06-10 11:20:31,674 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:20:31,674 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:20:31,674 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:20:31,674 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:31,709 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:20:31,894 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:20:32,131 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:20:32,198 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:20:32,306 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:32,402 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:32,403 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:20:32,403 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:20:32,555 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:20:32,563 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:20:32,564 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:20:32,564 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "structure_type": "paragraph",
  "file_size": 1205340,
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "company_id": 3,
  "mime": "application/pdf",
  "source_page": 1
}
2025-06-10 11:20:32,564 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:20:32,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:32,653 — INFO — app — [MEMORY] Created new history for session b6028930-6217-49b1-ab1b-1b6b3cbfd648
2025-06-10 11:20:33,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:20:33,459 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:20:35,385 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:20:42,286 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:21:06,748 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:21:19,394 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:21:19,396 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 7ba764e0-4e68-452e-9851-ad1dc327e956
2025-06-10 11:21:19,397 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:21:19,397 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:21:19,397 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:21:19,397 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:21:19,484 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:21:19,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:21:20,189 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:21:20,359 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:21:20,473 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:21:20,588 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:21:20,589 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:21:20,589 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:21:20,783 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:21:20,788 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:21:20,788 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:21:20,789 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "company_id": 3,
  "chunk_index": 0,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1
}
2025-06-10 11:21:20,789 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:21:20,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:21:20,821 — INFO — app — [MEMORY] Created new history for session 7ba764e0-4e68-452e-9851-ad1dc327e956
2025-06-10 11:21:21,485 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:21:21,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:21:22,354 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:22:29,400 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:22:41,405 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:22:41,407 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 8fd65f6a-c912-4571-98b7-5e5e7bfa2118
2025-06-10 11:22:41,408 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:22:41,408 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:22:41,408 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:22:41,408 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:22:41,488 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:22:41,914 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:22:42,246 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:22:42,443 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:22:42,572 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:22:42,761 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:22:42,761 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:22:42,762 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:22:42,964 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "chunk_type": "semantic",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_size": 1205340,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001
}
2025-06-10 11:22:42,969 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:22:42,969 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:22:42,997 — INFO — app — [MEMORY] Created new history for session 8fd65f6a-c912-4571-98b7-5e5e7bfa2118
2025-06-10 11:22:43,663 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:22:44,019 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:22:44,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:22:56,717 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:27:19,456 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:27:32,755 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:27:32,756 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 63e4b4ec-03f4-4f44-8087-538181161dd3
2025-06-10 11:27:32,756 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:27:32,756 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:27:32,756 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:27:32,756 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:27:32,825 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:27:33,310 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:27:33,619 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:27:33,715 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:27:33,833 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:27:33,901 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:27:33,902 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:27:33,902 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:27:34,070 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:27:34,077 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:27:34,078 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:27:34,078 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_page": 1,
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_type": "pdf"
}
2025-06-10 11:27:34,078 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:27:34,078 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:27:34,108 — INFO — app — [MEMORY] Created new history for session 63e4b4ec-03f4-4f44-8087-538181161dd3
2025-06-10 11:27:35,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:27:35,292 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:27:35,712 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:27:41,603 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:28:59,333 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:28:59,335 — INFO — app — [API] Received question: Tell me about Jennifer Franklin, company_id: 3, bot_id: 1, session_id: d03a6e3d-2a55-44a4-8546-7ad6a5f19e59
2025-06-10 11:28:59,337 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:28:59,338 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:28:59,338 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:28:59,338 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:28:59,390 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:28:59,733 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:28:59,918 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:29:00,069 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:29:00,166 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:00,258 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:00,259 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:29:00,259 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:29:00,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:29:00,420 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:29:00,421 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:29:00,421 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "event_id": 468,
  "source_page": 1,
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf"
}
2025-06-10 11:29:00,421 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:29:00,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:00,452 — INFO — app — [MEMORY] Created new history for session d03a6e3d-2a55-44a4-8546-7ad6a5f19e59
2025-06-10 11:29:00,828 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:29:01,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:29:01,462 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:29:08,125 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:29:19,508 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:29:19,508 — INFO — app — [API] Received question: What is Jennifer Franklin job title and experience?, company_id: 3, bot_id: 1, session_id: 3c6ab8de-41da-4b63-bfb0-9ddbf1211c6a
2025-06-10 11:29:19,509 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:29:19,509 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:29:19,509 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:29:19,509 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:19,540 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:29:19,749 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:29:19,912 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:29:19,974 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:29:20,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:20,164 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:20,166 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:29:20,166 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:29:20,267 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 1205340,
  "event_id": 468,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text"
}
2025-06-10 11:29:20,274 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:29:20,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:20,302 — INFO — app — [MEMORY] Created new history for session 3c6ab8de-41da-4b63-bfb0-9ddbf1211c6a
2025-06-10 11:29:20,701 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:29:20,909 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:29:21,593 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:29:23,377 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:33:28,565 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:33:39,786 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:33:39,788 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 096a99ea-c05f-4c24-8f11-95c1fb9976ba
2025-06-10 11:33:39,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:33:39,789 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:33:39,789 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:33:39,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:33:39,939 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:33:40,877 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:33:41,172 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:33:41,276 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:33:41,404 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:33:41,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:33:41,533 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:33:41,533 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:33:41,671 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:33:41,676 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:33:41,676 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:33:41,677 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "event_id": 468,
  "file_size": 1205340,
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "chunk_index": 0,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf"
}
2025-06-10 11:33:41,677 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:33:41,677 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:33:41,711 — INFO — app — [MEMORY] Created new history for session 096a99ea-c05f-4c24-8f11-95c1fb9976ba
2025-06-10 11:33:42,598 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:33:42,901 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:33:43,467 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:33:53,265 — INFO — app — [MARKDOWN] Post-processed response: 2085 → 1896 chars
2025-06-10 11:33:53,266 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:34:38,819 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:34:49,369 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:34:49,371 — INFO — app — [API] Received question: What is Jennifer Franklin job title and experience?, company_id: 3, bot_id: 1, session_id: 7602563e-1089-431b-83b5-9463dcd6a56c
2025-06-10 11:34:49,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:34:49,371 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:34:49,371 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:34:49,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:34:49,463 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:34:50,006 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:34:50,232 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:34:50,361 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:34:50,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:34:50,524 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:34:50,525 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:34:50,525 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:34:50,625 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:34:50,633 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:34:50,633 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:34:50,634 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "file_size": 1205340
}
2025-06-10 11:34:50,634 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:34:50,634 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:34:50,662 — INFO — app — [MEMORY] Created new history for session 7602563e-1089-431b-83b5-9463dcd6a56c
2025-06-10 11:34:51,416 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:34:51,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:34:52,130 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:34:54,662 — INFO — app — [MARKDOWN] Post-processed response: 517 → 486 chars
2025-06-10 11:34:54,663 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:37:18,628 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:37:32,735 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:37:32,736 — INFO — app — [API] Received question: What is Jennifer Franklin job title?, company_id: 3, bot_id: 1, session_id: 151e429a-2177-4d62-911f-deed83e215d8
2025-06-10 11:37:32,737 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:37:32,737 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:37:32,737 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:37:32,737 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:37:32,826 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:37:33,271 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:37:33,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:37:33,581 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:37:33,659 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:37:33,734 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:37:33,735 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:37:33,735 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:37:33,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:37:33,817 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:37:33,818 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:37:33,818 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structural_density": 0.8210000000000001,
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340,
  "file_type": ".pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 11:37:33,818 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:37:33,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:37:33,848 — INFO — app — [MEMORY] Created new history for session 151e429a-2177-4d62-911f-deed83e215d8
2025-06-10 11:37:34,984 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:37:35,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:37:35,835 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:37:36,570 — INFO — app — [MARKDOWN] Post-processed response: 190 → 182 chars
2025-06-10 11:37:36,571 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:38:01,449 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:38:13,032 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:38:13,033 — INFO — app — [API] Received question: What is Jennifer Franklin experience?, company_id: 3, bot_id: 1, session_id: 1c54a59c-afbe-4dc6-bf3d-1606b5518afd
2025-06-10 11:38:13,034 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:38:13,034 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:38:13,034 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:38:13,034 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:38:13,119 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:38:13,437 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:38:13,621 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:38:13,678 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:38:13,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:38:13,989 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:38:13,990 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:38:13,990 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:38:14,164 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "company_id": 3,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "bot_id": 1,
  "modified_time": 1749562180.2579546
}
2025-06-10 11:38:14,170 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:38:14,170 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:38:14,282 — INFO — app — [MEMORY] Created new history for session 1c54a59c-afbe-4dc6-bf3d-1606b5518afd
2025-06-10 11:38:15,121 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:38:15,443 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:38:16,119 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:38:26,508 — INFO — app — [MARKDOWN] Post-processed response: 2104 → 1917 chars
2025-06-10 11:38:26,509 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:43:59,083 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:44:14,102 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:44:14,103 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: ae3b8a82-6860-4695-8919-864fca5a403e
2025-06-10 11:44:14,104 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:44:14,104 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:44:14,104 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:44:14,104 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:44:14,192 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:44:15,726 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:44:15,938 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:44:16,063 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:44:16,255 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:44:16,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:44:16,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:44:16,366 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:44:16,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "file_size": 1205340,
  "event_id": 468,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "source_page": 1,
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf"
}
2025-06-10 11:44:16,480 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:44:16,480 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:44:16,508 — INFO — app — [MEMORY] Created new history for session ae3b8a82-6860-4695-8919-864fca5a403e
2025-06-10 11:44:17,134 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:44:17,485 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:44:18,420 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:44:26,714 — INFO — app — [MARKDOWN] Completed streaming. Clean text for history: 1910 chars
2025-06-10 11:44:26,714 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:46:14,725 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:46:27,537 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:46:27,539 — INFO — app — [API] Received question: What is Jennifer Franklin title?, company_id: 3, bot_id: 1, session_id: a2f0be0c-6924-433a-9449-37758e8d4ab2
2025-06-10 11:46:27,539 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:46:27,540 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:46:27,540 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:46:27,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:46:27,623 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:46:27,937 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:46:28,238 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:46:28,298 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:46:28,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:46:28,518 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:46:28,519 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:46:28,519 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:46:28,596 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749562180.2579546
}
2025-06-10 11:46:28,628 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:46:28,628 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:46:28,660 — INFO — app — [MEMORY] Created new history for session a2f0be0c-6924-433a-9449-37758e8d4ab2
2025-06-10 11:46:29,441 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:46:29,630 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:46:30,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:46:30,980 — INFO — app — [MARKDOWN] Completed streaming. Clean text for history: 271 chars
2025-06-10 11:46:30,981 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 12:50:59,154 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 12:59:08,671 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 12:59:08,678 — INFO — app — [API] Received question: What are the office locations?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 12:59:08,679 — INFO — app — [BOT] Using mode: qa
2025-06-10 12:59:08,679 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 12:59:08,680 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 12:59:08,680 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 12:59:08,836 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 12:59:09,382 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 12:59:09,557 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 12:59:09,682 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 12:59:09,789 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 12:59:09,854 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 12:59:09,856 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 12:59:09,856 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 12:59:09,936 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 12:59:09,941 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 12:59:09,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 12:59:09,943 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "timestamp": "2025-06-10T17:22:50.127037",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "modified_time": 1749576143.324809,
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 43838,
  "created_time": 1749576143.324809,
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "company_id": 3,
  "source": "Lucas_Offices_6b36efc81e.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "event_id": 472,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 12:59:09,946 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 12:59:09,946 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 12:59:10,012 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 12:59:11,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 12:59:12,155 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 12:59:12,641 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 12:59:15,891 — INFO — app — [STREAM] Completed streaming. Clean text for history: 659 chars
2025-06-10 12:59:15,893 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:01:20,659 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:01:20,664 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:01:20,667 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:01:20,670 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:01:20,673 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:01:20,674 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:01:20,784 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:01:21,114 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:01:21,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:01:21,453 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:01:21,626 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:01:21,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:01:21,699 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:01:21,700 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:01:21,794 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:01:21,800 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:01:21,801 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:01:21,801 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "timestamp": "2025-06-10T17:22:50.127037",
  "bot_id": 1,
  "event_id": 472,
  "mime_type": "application/pdf",
  "source": "Lucas_Offices_6b36efc81e.pdf",
  "structure_type": "paragraph",
  "modified_time": 1749576143.324809,
  "source_page": 1,
  "source_type": "pdf",
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "created_time": 1749576143.324809,
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "chunk_index": 0,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structural_density": 0.815
}
2025-06-10 13:01:21,804 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:01:21,804 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:01:22,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:01:23,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:01:23,786 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:01:27,591 — INFO — app — [STREAM] Completed streaming. Clean text for history: 659 chars
2025-06-10 13:01:27,594 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:01:44,407 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:02:06,024 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:02:06,027 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:02:06,027 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:02:06,028 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:02:06,028 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:02:06,028 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:02:06,105 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:02:06,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:02:06,591 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:02:06,653 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:02:06,759 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:02:06,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:02:06,861 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:02:06,861 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:02:06,987 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:02:06,990 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:02:06,990 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:02:06,991 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "structural_density": 0.815,
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "modified_time": 1749576143.324809,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 472,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T17:22:50.127037",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "created_time": 1749576143.324809,
  "company_id": 3,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "chunk_index": 0,
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "source": "Lucas_Offices_6b36efc81e.pdf"
}
2025-06-10 13:02:06,991 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:02:06,991 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:02:07,354 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:02:07,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:02:09,392 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:02:12,558 — INFO — app — [STREAM] Completed streaming. Clean text for history: 663 chars
2025-06-10 13:02:12,559 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:03:48,047 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:04:38,166 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:04:38,174 — INFO — app — [API] Received question: are there any offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:04:38,181 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:04:38,181 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:04:38,181 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:04:38,182 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:04:38,647 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:04:39,184 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:04:39,615 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:04:39,695 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:04:39,827 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:04:39,951 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:04:39,951 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:04:39,952 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:04:40,105 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:04:40,108 — ERROR — retriever — [RETRIEVER] Error building retriever: division by zero
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 121, in build_retriever
    bm25 = BM25Retriever.from_texts(texts, metadatas=metadatas)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/retrievers/bm25.py", line 64, in from_texts
    vectorizer = BM25Okapi(texts_processed, **bm25_params)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 83, in __init__
    super().__init__(corpus, tokenizer)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 27, in __init__
    nd = self._initialize(corpus)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 52, in _initialize
    self.avgdl = num_doc / self.corpus_size
                 ~~~~~~~~^~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero
2025-06-10 13:04:40,113 — ERROR — app — [BOT] Error processing question: division by zero
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/app.py", line 182, in ask_question
    retriever = retriever_service.build_retriever(
        company_id=company_id,
    ...<3 lines>...
        use_multi_query=use_multi_query
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 113, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 80, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 121, in build_retriever
    bm25 = BM25Retriever.from_texts(texts, metadatas=metadatas)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/retrievers/bm25.py", line 64, in from_texts
    vectorizer = BM25Okapi(texts_processed, **bm25_params)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 83, in __init__
    super().__init__(corpus, tokenizer)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 27, in __init__
    nd = self._initialize(corpus)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 52, in _initialize
    self.avgdl = num_doc / self.corpus_size
                 ~~~~~~~~^~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero
2025-06-10 13:04:40,122 — ERROR — app — [STREAM] Chain error: 500: Error processing question: division by zero
2025-06-10 13:05:10,680 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:05:10,680 — INFO — app — [API] Received question: are there any offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:05:10,681 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:05:10,681 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:05:10,681 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:05:10,681 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:10,739 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:05:11,046 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:05:11,247 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:05:11,372 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:05:11,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:05:11,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:05:11,595 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:05:11,595 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:05:11,695 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:05:11,698 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:05:11,699 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:05:11,699 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "structural_density": 0.815,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "modified_time": 1749578644.434959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "event_id": 474,
  "file_size": 43838,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "created_time": 1749578644.435959
}
2025-06-10 13:05:11,700 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:05:11,701 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:11,750 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:05:12,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:05:12,729 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:05:13,099 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:05:25,946 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1704 chars
2025-06-10 13:05:25,947 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:05:59,385 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:05:59,389 — INFO — app — [API] Received question: when is the brentwood office open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:05:59,393 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:05:59,393 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:05:59,393 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:05:59,394 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:59,680 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:06:00,129 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:06:00,454 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:06:00,534 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:06:00,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:00,788 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:00,790 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:06:00,791 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:06:00,866 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:06:00,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:06:00,871 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:06:00,871 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 43838,
  "created_time": 1749578644.435959,
  "source_page": 1,
  "company_id": 3,
  "structure_type": "paragraph",
  "event_id": 474,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.815,
  "mime": "application/pdf",
  "chunk_index": 0,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_type": "semantic",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380"
}
2025-06-10 13:06:00,871 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:06:00,871 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:01,630 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:06:01,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:06:02,270 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:06:03,701 — INFO — app — [STREAM] Completed streaming. Clean text for history: 356 chars
2025-06-10 13:06:03,703 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:06:17,369 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:06:17,372 — INFO — app — [API] Received question: when is the belle meade office open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:06:17,375 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:06:17,375 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:06:17,376 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:06:17,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:17,520 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:06:17,781 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:06:18,092 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:06:18,165 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:06:18,265 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:18,335 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:18,336 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:06:18,337 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:06:18,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "structural_density": 0.815,
  "timestamp": "2025-06-10T18:04:30.540380",
  "bot_id": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_index": 0,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "created_time": 1749578644.435959,
  "mime_type": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "file_size": 43838,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime": "application/pdf",
  "modified_time": 1749578644.434959,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 474,
  "company_id": 3
}
2025-06-10 13:06:18,424 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:06:18,424 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:19,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:06:19,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:06:20,183 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:06:21,266 — INFO — app — [STREAM] Completed streaming. Clean text for history: 297 chars
2025-06-10 13:06:21,267 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:06:26,362 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:08:08,909 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:08:08,914 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:08:08,918 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:08:08,920 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:08:08,920 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:08:08,920 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:08:09,024 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:08:09,365 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:08:09,674 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:08:09,796 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:08:09,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:08:10,053 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:08:10,054 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:08:10,055 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:08:10,188 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:08:10,211 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:08:10,214 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:08:10,214 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "event_id": 474,
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "company_id": 3,
  "bot_id": 1,
  "file_size": 43838,
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:08:10,216 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:08:10,217 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:08:10,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:08:11,102 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:08:11,573 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:08:23,147 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1783 chars
2025-06-10 13:08:23,152 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:10:38,683 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:10:38,686 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:10:38,689 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:10:38,692 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:10:38,693 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:10:38,693 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:10:38,785 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:10:39,187 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:10:39,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:10:39,706 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:10:39,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:10:40,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:10:40,097 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:10:40,098 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:10:40,252 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:10:40,256 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:10:40,257 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:10:40,257 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_page": 1,
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "company_id": 3,
  "modified_time": 1749578644.434959,
  "chunk_index": 0,
  "file_type": ".pdf"
}
2025-06-10 13:10:40,260 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:10:40,260 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:10:40,777 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:10:41,155 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:10:41,804 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:10:53,126 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1790 chars
2025-06-10 13:10:53,128 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:13:40,190 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:13:40,196 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:13:40,205 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:13:40,207 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:13:40,208 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:13:40,208 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:13:40,401 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:13:40,913 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:13:41,201 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:13:41,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:13:41,505 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:13:41,638 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:13:41,639 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:13:41,639 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:13:41,712 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:13:41,716 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:13:41,718 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:13:41,718 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "file_size": 43838,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "event_id": 474,
  "structure_type": "paragraph",
  "created_time": 1749578644.435959,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_type": "pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "source_page": 1,
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "bot_id": 1,
  "modified_time": 1749578644.434959
}
2025-06-10 13:13:41,719 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:13:41,719 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:13:42,178 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:13:42,391 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:13:42,862 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:13:53,476 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1819 chars
2025-06-10 13:13:53,510 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:19:40,187 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:19:40,216 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:19:40,225 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:19:40,228 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:19:40,229 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:19:40,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:19:40,434 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:19:40,675 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:19:40,955 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:19:41,042 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:19:41,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:19:41,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:19:41,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:19:41,367 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:19:41,433 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:19:41,442 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:19:41,443 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:19:41,443 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "bot_id": 1,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "source_page": 1,
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "timestamp": "2025-06-10T18:04:30.540380",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "structural_density": 0.815,
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "modified_time": 1749578644.434959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "event_id": 474,
  "file_type": ".pdf"
}
2025-06-10 13:19:41,444 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:19:41,445 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:19:41,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:19:42,114 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:19:42,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:19:57,950 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1757 chars
2025-06-10 13:19:57,951 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:25:32,288 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:25:32,309 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:25:32,313 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:25:32,314 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:25:32,316 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:25:32,322 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:25:32,438 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:25:32,820 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:25:33,106 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:25:33,242 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:25:33,345 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:25:33,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:25:33,498 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:25:33,499 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:25:33,626 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:25:33,636 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:25:33,638 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:25:33,638 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749578644.434959,
  "file_size": 43838,
  "bot_id": 1,
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_type": ".pdf",
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "created_time": 1749578644.435959,
  "event_id": 474,
  "structure_type": "paragraph",
  "company_id": 3,
  "chunk_index": 0,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 13:25:33,642 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:25:33,642 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:25:35,595 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:25:35,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:25:36,356 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:25:46,515 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1757 chars
2025-06-10 13:25:46,516 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:27:15,046 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:27:15,050 — INFO — app — [API] Received question: what hours is brentwood open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:27:15,054 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:27:15,054 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:27:15,054 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:27:15,055 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:27:15,201 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:27:15,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:27:15,692 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:27:15,869 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:27:15,943 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:27:16,070 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:27:16,071 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:27:16,073 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:27:16,141 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:27:16,144 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:27:16,145 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:27:16,146 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "file_size": 43838,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749578644.434959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "source_page": 1,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "timestamp": "2025-06-10T18:04:30.540380",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "structural_density": 0.815,
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "event_id": 474,
  "mime": "application/pdf"
}
2025-06-10 13:27:16,146 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:27:16,147 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:27:16,675 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:27:16,916 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:27:18,045 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:27:19,963 — INFO — app — [STREAM] Completed streaming. Clean text for history: 356 chars
2025-06-10 13:27:19,964 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:28:51,785 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:28:51,813 — INFO — app — [API] Received question: when is the brentwood office opeN?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:28:51,815 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:28:51,815 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:28:51,815 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:28:51,815 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:28:51,882 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:28:52,219 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:28:52,444 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:28:52,550 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:28:52,743 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:28:52,840 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:28:52,841 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:28:52,842 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:28:52,944 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:28:52,948 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:28:52,949 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:28:52,949 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "bot_id": 1,
  "source_type": "pdf",
  "file_size": 43838,
  "created_time": 1749578644.435959,
  "modified_time": 1749578644.434959,
  "source_page": 1,
  "structure_type": "paragraph",
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "event_id": 474,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:28:52,953 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:28:52,953 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:28:54,128 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:28:54,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:28:54,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:28:56,231 — INFO — app — [STREAM] Completed streaming. Clean text for history: 346 chars
2025-06-10 13:28:56,232 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:31:11,113 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:32:07,534 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:32:45,692 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:32:45,695 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:32:45,696 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:32:45,696 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:32:45,696 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:32:45,696 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:32:45,900 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:32:47,412 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:32:47,642 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:32:47,751 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:32:47,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:32:47,963 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:32:47,964 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:32:47,964 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:32:48,032 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "file_type": ".pdf",
  "chunk_index": 0,
  "source_page": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_type": "pdf",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "event_id": 474,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1
}
2025-06-10 13:32:48,036 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:32:48,036 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:32:48,082 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:32:49,147 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:32:49,403 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:32:49,838 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:32:52,321 — INFO — app — [STREAM] Completed streaming. Clean text for history: 579 chars
2025-06-10 13:32:52,322 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:34:44,674 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:35:14,448 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:35:14,453 — INFO — app — [API] Received question: waht all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:35:14,455 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:35:14,455 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:35:14,455 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:35:14,455 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:35:14,674 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:35:15,284 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:35:15,461 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:35:15,560 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:35:15,655 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:35:15,725 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:35:15,727 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:35:15,729 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:35:15,823 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:35:15,829 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:35:15,830 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:35:15,830 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "file_type": ".pdf",
  "created_time": 1749578644.435959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_size": 43838,
  "mime_type": "application/pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_index": 0,
  "chunk_type": "semantic",
  "source_page": 1,
  "structural_density": 0.815,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "event_id": 474,
  "file_name": "Lucas Offices.pdf",
  "company_id": 3
}
2025-06-10 13:35:15,831 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:35:15,831 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:35:15,883 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:35:16,792 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:35:17,009 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:35:17,429 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:35:18,681 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:35:18,682 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:36:08,264 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:36:30,062 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:36:30,066 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:36:30,067 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:36:30,067 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:36:30,067 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:36:30,068 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:36:30,284 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:36:30,957 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:36:31,281 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:36:31,375 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:36:31,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:36:31,617 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:36:31,618 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:36:31,618 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:36:31,717 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:36:31,722 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:36:31,723 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:36:31,723 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "chunk_type": "semantic",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "event_id": 474,
  "modified_time": 1749578644.434959,
  "created_time": 1749578644.435959,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_size": 43838,
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "source_page": 1,
  "company_id": 3,
  "mime_type": "application/pdf",
  "mime": "application/pdf"
}
2025-06-10 13:36:31,725 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:36:31,725 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:36:31,812 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:36:33,009 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:36:33,378 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:36:33,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:36:36,857 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Offices Available\n\n- **Gallatin Office**\n  - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**\n  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**\n  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**\n  - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n- **Columbia Office**\n  - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Office**\n  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\nThis list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:36:36,857 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Offices Available

- **Gallatin Office**
  - Address: 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**
  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**
  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**
  - Address: 7004 Moores Ln, Brentwood, TN 37027

- **Columbia Office**
  - Address: 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Office**
  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

This list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:36:36,859 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:36:36,860 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:39:56,603 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:40:31,806 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:40:31,807 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:40:31,808 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:40:31,809 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:40:31,810 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:40:31,811 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:40:31,938 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:40:32,667 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:40:32,898 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:40:33,037 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:40:33,194 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:40:33,291 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:40:33,291 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:40:33,292 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:40:33,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "event_id": 474,
  "structural_density": 0.815,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_page": 1,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:40:33,370 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:40:33,370 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:40:33,414 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:40:34,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:40:35,286 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:40:35,814 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:40:39,483 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Offices Available\n\n- **Gallatin Office**\n  - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**\n  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**\n  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**\n  - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n- **Columbia Office**\n  - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Office**\n  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\nThis list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:40:39,483 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Offices Available

- **Gallatin Office**
  - Address: 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**
  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**
  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**
  - Address: 7004 Moores Ln, Brentwood, TN 37027

- **Columbia Office**
  - Address: 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Office**
  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

This list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:40:39,486 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:40:39,487 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:43:10,014 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:44:53,940 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:44:53,973 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:44:53,979 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:44:53,980 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:44:53,980 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:44:53,981 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:44:54,055 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:44:54,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:44:54,715 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:44:54,871 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:44:55,067 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:44:55,161 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:44:55,163 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:44:55,164 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:44:55,286 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:44:55,288 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:44:55,289 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:44:55,289 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749578644.434959,
  "created_time": 1749578644.435959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_size": 43838,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "company_id": 3,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "event_id": 474,
  "source_page": 1,
  "structural_density": 0.815,
  "source": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:44:55,289 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:44:55,289 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:44:56,167 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:44:56,448 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:44:57,269 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:45:10,304 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office:**  \n  Address: 1710 Nashville Pike, Gallatin, TN 37066  \n  Hours:  \n  - Monday: 7:30am - 4:30pm  \n  - Tuesday: 6:30am - 3:30pm  \n  - Wednesday: 7:30am - 4:30pm  \n  - Thursday: 7:30am - 4:30pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Belle Meade Office:**  \n  Address: 4525 Harding Pike Suite 110, Nashville, TN 37205  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Berry Farms Office:**  \n  Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Brentwood Office:**  \n  Address: 7004 Moores Ln, Brentwood, TN 37027  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Columbia Office:**  \n  Address: 1501 Nashville Hwy, Columbia, TN 38401  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Nolensville Office:**  \n  Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\nThis list provides a comprehensive overview of the available offices, their addresses, hours of operation, and contact information for new and existing patients.  \n[source: Lucas Offices.pdf#0]'
2025-06-10 13:45:10,306 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office:**  
  Address: 1710 Nashville Pike, Gallatin, TN 37066  
  Hours:  
  - Monday: 7:30am - 4:30pm  
  - Tuesday: 6:30am - 3:30pm  
  - Wednesday: 7:30am - 4:30pm  
  - Thursday: 7:30am - 4:30pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Belle Meade Office:**  
  Address: 4525 Harding Pike Suite 110, Nashville, TN 37205  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Berry Farms Office:**  
  Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Brentwood Office:**  
  Address: 7004 Moores Ln, Brentwood, TN 37027  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Columbia Office:**  
  Address: 1501 Nashville Hwy, Columbia, TN 38401  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Nolensville Office:**  
  Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

This list provides a comprehensive overview of the available offices, their addresses, hours of operation, and contact information for new and existing patients.  
[source: Lucas Offices.pdf#0]
2025-06-10 13:45:10,310 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1672 chars
2025-06-10 13:45:10,312 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:45:46,594 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:46:53,115 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:46:53,122 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:46:53,125 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:46:53,127 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:46:53,127 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:46:53,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:46:53,198 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:46:53,623 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:46:53,847 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:46:53,949 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:46:54,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:46:54,235 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:46:54,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:46:54,239 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:46:54,305 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 474,
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "created_time": 1749578644.435959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "bot_id": 1,
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "modified_time": 1749578644.434959,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:46:54,311 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:46:54,311 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:46:55,008 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:46:55,296 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:46:55,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:47:09,552 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\nThis list provides a comprehensive overview of the available office locations, their addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:47:09,553 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

This list provides a comprehensive overview of the available office locations, their addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:47:09,554 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1759 chars
2025-06-10 13:47:09,556 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:50:06,950 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:50:27,782 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:50:27,787 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:50:27,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:50:27,789 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:50:27,790 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:50:27,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:50:27,839 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:50:28,099 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:50:28,389 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:50:28,453 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:50:28,548 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:50:28,640 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:50:28,641 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:50:28,642 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:50:28,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:50:28,784 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:50:28,785 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:50:28,785 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "file_size": 43838,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "company_id": 3,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime_type": "application/pdf",
  "event_id": 474,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "modified_time": 1749578644.434959,
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm"
}
2025-06-10 13:50:28,785 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:50:28,786 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:50:29,193 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:50:29,442 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:50:29,967 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:50:42,589 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\nThis information provides a comprehensive overview of the office locations, addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:50:42,589 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

This information provides a comprehensive overview of the office locations, addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:50:42,590 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1750 chars
2025-06-10 13:50:42,591 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:52:14,887 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:52:41,465 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:52:41,474 — INFO — app — [API] Received question: what are brentwoods hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:52:41,490 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:52:41,492 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:52:41,493 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:52:41,495 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:52:41,578 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:52:41,823 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:52:42,222 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:52:42,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:52:42,410 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:52:42,502 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:52:42,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:52:42,505 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:52:42,604 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:52:42,606 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:52:42,607 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:52:42,607 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "structure_type": "paragraph",
  "modified_time": 1749578644.434959,
  "chunk_index": 0,
  "source_type": "pdf",
  "structural_density": 0.815,
  "file_type": ".pdf",
  "event_id": 474,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "company_id": 3,
  "file_size": 43838,
  "source_page": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "created_time": 1749578644.435959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf"
}
2025-06-10 13:52:42,608 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:52:42,608 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:52:44,049 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:52:44,306 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:52:44,894 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:52:46,278 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n\n- **Tuesday:** 7:00am - 4:00pm\n\n- **Wednesday:** 7:00am - 4:00pm\n\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:52:46,279 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm

- **Tuesday:** 7:00am - 4:00pm

- **Wednesday:** 7:00am - 4:00pm

- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:52:46,279 — INFO — app — [STREAM] Completed streaming. Clean text for history: 163 chars
2025-06-10 13:52:46,279 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:54:16,313 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:54:34,908 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:54:34,916 — INFO — app — [API] Received question: what are brentwood's hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:54:34,917 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:54:34,917 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:54:34,918 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:54:34,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:34,983 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:54:35,521 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:54:35,783 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:54:35,905 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:54:36,038 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:36,151 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:36,312 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:54:36,313 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:54:36,386 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:54:36,388 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:54:36,389 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:54:36,389 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "source_page": 1,
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "mime": "application/pdf",
  "source_type": "pdf",
  "created_time": 1749578644.435959,
  "event_id": 474,
  "file_size": 43838,
  "bot_id": 1,
  "company_id": 3,
  "source": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:54:36,390 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:54:36,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:36,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:54:37,218 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:54:37,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:54:38,899 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n\n- **Tuesday:** 7:00am - 4:00pm\n\n- **Wednesday:** 7:00am - 4:00pm\n\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:54:38,899 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm

- **Tuesday:** 7:00am - 4:00pm

- **Wednesday:** 7:00am - 4:00pm

- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:54:38,899 — INFO — app — [STREAM] Completed streaming. Clean text for history: 163 chars
2025-06-10 13:54:38,900 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:54:51,031 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:54:51,031 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:54:51,032 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:54:51,032 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:54:51,032 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:54:51,032 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:51,082 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:54:51,356 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:54:51,503 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:54:51,597 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:54:51,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:51,757 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:51,764 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:54:51,764 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:54:51,884 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_size": 43838,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "created_time": 1749578644.435959,
  "source_page": 1,
  "file_type": ".pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_index": 0,
  "modified_time": 1749578644.434959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime_type": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T18:04:30.540380",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "event_id": 474,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf"
}
2025-06-10 13:54:51,885 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:54:51,885 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:52,254 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:54:52,514 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:54:52,987 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:55:07,221 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\nThis overview provides a comprehensive list of all office locations, their addresses, hours of operation, and contact information for new and existing patients. \n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:55:07,221 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066

- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


This overview provides a comprehensive list of all office locations, their addresses, hours of operation, and contact information for new and existing patients. 

[source: Lucas Offices.pdf#0]
2025-06-10 13:55:07,222 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1737 chars
2025-06-10 13:55:07,223 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:55:41,606 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:55:41,607 — INFO — app — [API] Received question: what are brentwoods hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:55:41,608 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:55:41,608 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:55:41,608 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:55:41,608 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:55:41,666 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:55:41,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:55:42,108 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:55:42,180 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:55:42,307 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:55:42,441 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:55:42,442 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:55:42,442 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:55:42,537 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:55:42,538 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:55:42,538 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:55:42,539 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "source_page": 1,
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "bot_id": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "created_time": 1749578644.435959,
  "chunk_type": "semantic",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "mime": "application/pdf",
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 13:55:42,539 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:55:42,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:55:43,686 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:55:43,858 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:55:44,405 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:55:46,115 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:55:46,115 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:55:46,115 — INFO — app — [STREAM] Completed streaming. Clean text for history: 171 chars
2025-06-10 13:55:46,116 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:56:00,803 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:56:00,803 — INFO — app — [API] Received question: what all office locations are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:56:00,804 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:56:00,804 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:56:00,804 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:56:00,804 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:56:00,833 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:56:01,004 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:56:01,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:56:01,407 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:56:01,501 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:56:01,605 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:56:01,605 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:56:01,605 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:56:01,704 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 474,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "company_id": 3,
  "file_type": ".pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_page": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "created_time": 1749578644.435959,
  "file_size": 43838,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "structural_density": 0.815,
  "chunk_type": "semantic"
}
2025-06-10 13:56:01,707 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:56:01,707 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:56:02,371 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:56:02,632 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:56:02,972 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:56:12,597 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:56:12,598 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:56:12,599 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1156 chars
2025-06-10 13:56:12,600 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 14:26:09,287 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 14:27:49,055 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 14:27:49,098 — INFO — app — [API] Received question: what are the office hours for all locations?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 14:27:49,102 — INFO — app — [BOT] Using mode: qa
2025-06-10 14:27:49,105 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 14:27:49,105 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 14:27:49,106 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:27:49,291 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 14:27:49,940 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 14:27:50,199 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 14:27:50,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 14:27:50,432 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:27:50,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:27:50,593 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 14:27:50,593 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 14:27:50,727 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 14:27:50,737 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 14:27:50,738 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 14:27:50,738 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_size": 43838,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.815,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "created_time": 1749578644.435959,
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380"
}
2025-06-10 14:27:50,741 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 14:27:50,742 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:27:51,773 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 14:27:51,966 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 14:27:52,394 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 14:27:59,764 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours for All Locations\n\n#### 1. Gallatin Office\n- **Monday:** 7:30am - 4:30pm\n- **Tuesday:** 6:30am - 3:30pm\n- **Wednesday:** 7:30am - 4:30pm\n- **Thursday:** 7:30am - 4:30pm\n\n#### 2. Belle Meade Office\n- **Monday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n\n#### 3. Berry Farms Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n#### 4. Brentwood Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n#### 5. Columbia Office\n- **Monday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n\n#### 6. Nolensville Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\nThis summary provides the operational hours for each office location. \n\n[source: Lucas Offices.pdf#0]'
2025-06-10 14:27:59,765 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours for All Locations

#### 1. Gallatin Office
- **Monday:** 7:30am - 4:30pm
- **Tuesday:** 6:30am - 3:30pm
- **Wednesday:** 7:30am - 4:30pm
- **Thursday:** 7:30am - 4:30pm

#### 2. Belle Meade Office
- **Monday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm

#### 3. Berry Farms Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

#### 4. Brentwood Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

#### 5. Columbia Office
- **Monday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm

#### 6. Nolensville Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

This summary provides the operational hours for each office location. 

[source: Lucas Offices.pdf#0]
2025-06-10 14:27:59,765 — INFO — app — [STREAM] Completed streaming. Clean text for history: 875 chars
2025-06-10 14:27:59,767 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 14:32:30,142 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 14:32:30,150 — INFO — app — [API] Received question: what are the offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 14:32:30,155 — INFO — app — [BOT] Using mode: qa
2025-06-10 14:32:30,155 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 14:32:30,155 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 14:32:30,155 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:32:30,230 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 14:32:30,599 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 14:32:30,931 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 14:32:31,047 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 14:32:31,224 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:32:31,295 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:32:31,297 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 14:32:31,303 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 14:32:31,407 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 14:32:31,416 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 14:32:31,417 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 14:32:31,420 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "modified_time": 1749583850.8656871,
  "company_id": 3,
  "storage_key": "Lucas_Offices_cdc64030f1.xlsx",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "created_time": 1749583850.8656871,
  "structural_density": 0.865,
  "source": "Lucas_Offices_cdc64030f1.xlsx",
  "event_id": 476,
  "timestamp": "2025-06-10T19:30:51.866312",
  "content_type": "unstructured_text",
  "document_id": "jcnibytfz6pq53ni9or2663w",
  "ingestion_timestamp": "2025-06-10T19:30:50.868009",
  "bot_id": 1,
  "source_page": 1,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".xlsx",
  "source_type": "xlsx",
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.xlsx"
}
2025-06-10 14:32:31,422 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 14:32:31,423 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:32:31,978 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 14:32:32,175 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 14:32:33,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 14:32:41,322 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office**  \n  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066  \n  - **Hours:**  \n    - Monday: 7:30 AM - 4:30 PM  \n    - Wednesday: 7:30 AM - 4:30 PM  \n    - Thursday: 7:30 AM - 4:30 PM  \n\n- **Belle Meade Office**  \n  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205  \n  - **Hours:**  \n    - Tuesday: 6:30 AM - 3:30 PM  \n    - Thursday: 6:30 AM - 3:30 PM  \n\n- **Berry Farms Office**  \n  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  \n  - **Hours:**  \n    - Monday: 7:00 AM - [Hours not fully provided]  \n\n- **Brentwood Office**  \n  - **Address:** 7004 Moores Lane, Brentwood, TN 37027  \n  - **Hours:**  \n    - Monday: 7:00 AM - 4:00 PM  \n    - Tuesday: 7:00 AM - 4:00 PM  \n    - Wednesday: 7:00 AM - 4:00 PM  \n    - Thursday: 7:00 AM - 4:00 PM  \n\n- **Columbia Office**  \n  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401  \n  - **Hours:**  \n    - Tuesday: 7:30 AM - 4:30 PM  \n    - Thursday: 7:30 AM - 4:30 PM  \n\n- **Nolensville Dental**  \n  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  \n  - **Hours:**  \n    - Monday: 7:30 AM - 4:30 PM  \n    - Every Other Tuesday: 7:30 AM - 4:30 PM  \n    - Wednesday: 7:30 AM - 4:30 PM  \n\nThis overview provides a clear list of the office locations along with their addresses and operating hours. [source: Lucas Offices.xlsx#0]'
2025-06-10 14:32:41,323 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office**  
  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066  
  - **Hours:**  
    - Monday: 7:30 AM - 4:30 PM  
    - Wednesday: 7:30 AM - 4:30 PM  
    - Thursday: 7:30 AM - 4:30 PM  

- **Belle Meade Office**  
  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205  
  - **Hours:**  
    - Tuesday: 6:30 AM - 3:30 PM  
    - Thursday: 6:30 AM - 3:30 PM  

- **Berry Farms Office**  
  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  
  - **Hours:**  
    - Monday: 7:00 AM - [Hours not fully provided]  

- **Brentwood Office**  
  - **Address:** 7004 Moores Lane, Brentwood, TN 37027  
  - **Hours:**  
    - Monday: 7:00 AM - 4:00 PM  
    - Tuesday: 7:00 AM - 4:00 PM  
    - Wednesday: 7:00 AM - 4:00 PM  
    - Thursday: 7:00 AM - 4:00 PM  

- **Columbia Office**  
  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401  
  - **Hours:**  
    - Tuesday: 7:30 AM - 4:30 PM  
    - Thursday: 7:30 AM - 4:30 PM  

- **Nolensville Dental**  
  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  
  - **Hours:**  
    - Monday: 7:30 AM - 4:30 PM  
    - Every Other Tuesday: 7:30 AM - 4:30 PM  
    - Wednesday: 7:30 AM - 4:30 PM  

This overview provides a clear list of the office locations along with their addresses and operating hours. [source: Lucas Offices.xlsx#0]
2025-06-10 14:32:41,327 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1141 chars
2025-06-10 14:32:41,328 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:05:39,773 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:05:39,778 — INFO — app — [API] Received question: what are the offices, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:05:39,782 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:05:39,782 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:05:39,783 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:05:39,783 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:05:39,862 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:05:40,118 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:05:40,429 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:05:40,543 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:05:40,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:05:40,829 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:05:40,831 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:05:40,832 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:05:40,934 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:05:40,941 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:05:40,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:05:40,942 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 478,
  "file_size": 9767,
  "source_page": 1,
  "chunk_type": "semantic",
  "modified_time": 1749585792.0448182,
  "timestamp": "2025-06-10T20:03:12.092183",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T20:03:12.046860",
  "structure_type": "paragraph",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "file_type": ".xlsx",
  "storage_key": "Lucas_Offices_9b3c8e196f.xlsx",
  "source_type": "xlsx",
  "source": "Lucas_Offices_9b3c8e196f.xlsx",
  "document_id": "bit94kvs6ahibbytyky25q5r",
  "company_id": 3,
  "structural_density": 0.865,
  "created_time": 1749585792.0448182
}
2025-06-10 15:05:40,947 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:05:40,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:05:41,787 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:05:42,076 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:05:42,452 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:05:45,861 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office**  \n  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**  \n  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**  \n  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**  \n  - **Address:** 7004 Moores Lane, Brentwood, TN 37027\n\n- **Columbia Office**  \n  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Dental**  \n  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\n[source: Lucas Offices.xlsx#0]  \n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]'
2025-06-10 15:05:45,861 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office**  
  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**  
  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**  
  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**  
  - **Address:** 7004 Moores Lane, Brentwood, TN 37027

- **Columbia Office**  
  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Dental**  
  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

[source: Lucas Offices.xlsx#0]  
[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]
2025-06-10 15:05:45,863 — INFO — app — [STREAM] Completed streaming. Clean text for history: 569 chars
2025-06-10 15:05:45,865 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:06:41,971 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:06:41,971 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:06:41,972 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:06:41,972 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:06:41,972 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:06:41,972 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:06:42,027 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:06:42,307 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:06:42,567 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:06:42,698 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:06:42,781 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:06:42,877 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:06:42,878 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:06:42,878 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:06:42,959 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:06:42,961 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:06:42,962 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:06:42,962 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "file_type": ".xlsx",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_9b3c8e196f.xlsx",
  "structural_density": 0.865,
  "source_page": 1,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_9b3c8e196f.xlsx",
  "chunk_index": 0,
  "source_type": "xlsx",
  "modified_time": 1749585792.0448182,
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-06-10T20:03:12.046860",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "bit94kvs6ahibbytyky25q5r",
  "company_id": 3,
  "event_id": 478,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1749585792.0448182,
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:03:12.092183"
}
2025-06-10 15:06:42,962 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:06:42,962 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:06:43,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:06:43,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:06:44,398 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:06:49,086 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Berry Farms Office\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\n#### Brentwood Office\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Dental\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\nThis overview provides the operating hours for each office location. \n\n[source: Lucas Offices.xlsx#0]  \n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]'
2025-06-10 15:06:49,086 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Berry Farms Office
- **Monday:** 7:00 AM - [Hours not fully provided]

#### Brentwood Office
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Dental
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

This overview provides the operating hours for each office location. 

[source: Lucas Offices.xlsx#0]  
[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]
2025-06-10 15:06:49,087 — INFO — app — [STREAM] Completed streaming. Clean text for history: 813 chars
2025-06-10 15:06:49,088 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:14:04,092 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:14:04,097 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:14:04,103 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:14:04,104 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:14:04,105 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:14:04,105 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:04,171 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:14:04,496 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:14:04,674 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:14:04,769 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:14:04,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:05,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:05,065 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:14:05,065 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:14:05,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:14:05,198 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:14:05,199 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:14:05,199 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "document_id": "f7ju0z4e8ugrg3sdnukhls76",
  "modified_time": 1749586401.7790897,
  "timestamp": "2025-06-10T20:13:22.454839",
  "structure_type": "paragraph",
  "source_type": "xlsx",
  "structural_density": 0.865,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T20:13:21.780689",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "event_id": 480,
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1749586401.7790897,
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_d74ab57cf2.xlsx",
  "source_page": 1,
  "source": "Lucas_Offices_d74ab57cf2.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_type": ".xlsx"
}
2025-06-10 15:14:05,200 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:14:05,201 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:06,529 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:14:06,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:14:07,654 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:14:13,798 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Brentwood Office:\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Dental:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n#### Berry Farms Office:\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\nThis overview provides the operating hours for each office location. Please note that the Berry Farms office has incomplete information regarding its hours. [source: Lucas Offices.xlsx#0]'
2025-06-10 15:14:13,798 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Brentwood Office:
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Dental:
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

#### Berry Farms Office:
- **Monday:** 7:00 AM - [Hours not fully provided]

This overview provides the operating hours for each office location. Please note that the Berry Farms office has incomplete information regarding its hours. [source: Lucas Offices.xlsx#0]
2025-06-10 15:14:13,799 — INFO — app — [STREAM] Completed streaming. Clean text for history: 845 chars
2025-06-10 15:14:13,800 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:14:38,729 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:14:38,730 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:14:38,731 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:14:38,731 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:14:38,731 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:14:38,731 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:38,764 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:14:39,105 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:14:39,378 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:14:39,473 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:14:39,551 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:39,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:39,665 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:14:39,665 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:14:39,793 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:14:39,795 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:14:39,795 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:14:39,796 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.865,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "company_id": 3,
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "event_id": 480,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "file_type": ".xlsx",
  "ingestion_timestamp": "2025-06-10T20:13:21.780689",
  "bot_id": 1,
  "modified_time": 1749586401.7790897,
  "source_type": "xlsx",
  "document_id": "f7ju0z4e8ugrg3sdnukhls76",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_d74ab57cf2.xlsx",
  "timestamp": "2025-06-10T20:13:22.454839",
  "source": "Lucas_Offices_d74ab57cf2.xlsx",
  "created_time": 1749586401.7790897,
  "file_name": "Lucas Offices.xlsx"
}
2025-06-10 15:14:39,796 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:14:39,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:40,328 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:14:40,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:14:41,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:14:47,871 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Brentwood Office:\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n#### Berry Farms Office:\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\nThis overview provides the operating hours for each office location. [source: Lucas Offices.xlsx#0]'
2025-06-10 15:14:47,872 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Brentwood Office:
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

#### Berry Farms Office:
- **Monday:** 7:00 AM - [Hours not fully provided]

This overview provides the operating hours for each office location. [source: Lucas Offices.xlsx#0]
2025-06-10 15:14:47,873 — INFO — app — [STREAM] Completed streaming. Clean text for history: 757 chars
2025-06-10 15:14:47,873 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:41:45,543 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:41:45,552 — INFO — app — [API] Received question: when are the offices opeN?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:41:45,562 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:41:45,563 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:41:45,563 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:41:45,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:41:45,884 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:41:46,202 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:41:46,383 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:41:46,510 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:41:46,613 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:41:46,910 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:41:46,911 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:41:46,916 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:41:47,110 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:41:47,113 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 15:41:47,116 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:41:47,118 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "company_id": 3,
  "source": "Lucas_Offices_2b88c2e3e0.xlsx",
  "timestamp": "2025-06-10T20:40:22.497490",
  "chunk_index": 0,
  "source_page": 1,
  "created_time": 1749588021.817848,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-06-10T20:40:21.819664",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 482,
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_2b88c2e3e0.xlsx",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1749588021.817848,
  "file_size": 9767,
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "document_id": "bgcn87t8kxjr0jio547ds7gb"
}
2025-06-10 15:41:47,122 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:41:47,122 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:41:48,208 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:41:48,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:41:49,533 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:41:55,355 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Berry Farms Office:\n\n- **Monday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n\n#### Brentwood Office:\n\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Office:\n\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]  \n[source: Lucas Offices.xlsx#3]  \n[source: Lucas Offices.xlsx#0]'
2025-06-10 15:41:55,355 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:

- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:

- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Berry Farms Office:

- **Monday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM

#### Brentwood Office:

- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:

- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Office:

- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]  
[source: Lucas Offices.xlsx#3]  
[source: Lucas Offices.xlsx#0]
2025-06-10 15:41:55,357 — INFO — app — [STREAM] Completed streaming. Clean text for history: 775 chars
2025-06-10 15:41:55,359 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 15:46:32,001 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:46:32,005 — INFO — app — [API] Received question: what are the weekly spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:46:32,008 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:46:32,008 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:46:32,008 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:46:32,010 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:46:32,144 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:46:32,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:46:32,870 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:46:32,982 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:46:33,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:46:33,265 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:46:33,266 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:46:33,267 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:46:33,409 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:46:33,416 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:46:33,417 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:46:33,417 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "company_id": 3,
  "structure_type": "paragraph",
  "bot_id": 1,
  "chunk_type": "semantic",
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "file_name": "April 21-25.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime": "application/pdf"
}
2025-06-10 15:46:33,419 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:46:33,420 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:46:34,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:46:34,456 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:46:35,271 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:46:36,878 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- **Words**: \n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n- **Tricky Word**: your\n\n- **Test Date**: Wednesday, April 23rd\n\n[source: April 21-25.pdf#2]'
2025-06-10 15:46:36,878 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- **Words**: 
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

- **Tricky Word**: your

- **Test Date**: Wednesday, April 23rd

[source: April 21-25.pdf#2]
2025-06-10 15:46:36,878 — INFO — app — [STREAM] Completed streaming. Clean text for history: 172 chars
2025-06-10 15:46:36,879 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:49:35,632 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 15:49:43,977 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:49:43,981 — INFO — app — [API] Received question: what are the weekly spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:49:43,983 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:49:43,984 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:49:43,984 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:49:43,984 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:49:44,119 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:49:44,664 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:49:44,871 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:49:44,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:49:45,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:49:45,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:49:45,252 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:49:45,252 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:49:45,381 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:49:45,384 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:49:45,384 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:49:45,385 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T20:45:24.419312",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "source_type": "pdf",
  "source_page": 1,
  "event_id": 484,
  "source": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "mime": "application/pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434
}
2025-06-10 15:49:45,385 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:49:45,385 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:49:45,428 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 15:49:46,502 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:49:46,761 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:49:47,381 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:49:48,198 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Tricky Word:** your\n\n**Test Date:** Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 15:49:48,199 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Tricky Word:** your

**Test Date:** Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 15:49:48,202 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 15:49:48,204 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:49:59,481 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 15:50:21,368 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:50:21,370 — INFO — app — [API] Received question: what is the science part about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:50:21,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:50:21,371 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:50:21,371 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:50:21,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:21,484 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:50:21,810 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:50:22,077 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:50:22,175 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:50:22,294 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:22,420 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:22,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:50:22,422 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:50:22,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:50:22,603 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:50:22,603 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:50:22,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "event_id": 484,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_type": "pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "file_size": 169878,
  "chunk_index": 0,
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "modified_time": 1749588183.434434,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274"
}
2025-06-10 15:50:22,604 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:50:22,604 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:22,648 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 15:50:23,391 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:50:23,649 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:50:24,046 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:50:24,481 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Science Focus\n\n- **Seed planting and observation**\n  \n- **Understanding pollination**'
2025-06-10 15:50:24,482 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Science Focus

- **Seed planting and observation**
  
- **Understanding pollination**
2025-06-10 15:50:24,485 — INFO — app — [STREAM] Completed streaming. Clean text for history: 74 chars
2025-06-10 15:50:24,486 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:50:48,847 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:50:48,847 — INFO — app — [API] Received question: what are the important dates?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:50:48,847 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:50:48,847 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:50:48,848 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:50:48,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:48,935 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:50:49,137 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:50:49,311 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:50:49,430 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:50:49,529 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:49,653 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:49,654 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:50:49,654 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:50:49,751 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "event_id": 484,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "mime": "application/pdf",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp"
}
2025-06-10 15:50:49,753 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:50:49,754 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:50,033 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:50:50,224 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:50:50,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:50:53,015 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Important Dates\n\n- **April 24**: Quarter 4 Progress Reports go home\n\n- **April 26**: ANE Beautification Day from 9:00 AM to 11:00 AM\n\n- **April 29**: Gentry Farm Field Trip\n\n- **May 2**: Last day to check out library books\n\n- **May 6**: PTO Spirit Night at Andy’s Custard\n\n- **May 9**: All library books due\n\n- **May 13**: Chromebook and charger turn in\n\n- **May 16**: Field Day\n\n- **May 20**: First Grade Family Picnic from 11:00 AM to 12:30 PM\n\n[source: April 21-25.pdf#0]'
2025-06-10 15:50:53,016 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Important Dates

- **April 24**: Quarter 4 Progress Reports go home

- **April 26**: ANE Beautification Day from 9:00 AM to 11:00 AM

- **April 29**: Gentry Farm Field Trip

- **May 2**: Last day to check out library books

- **May 6**: PTO Spirit Night at Andy’s Custard

- **May 9**: All library books due

- **May 13**: Chromebook and charger turn in

- **May 16**: Field Day

- **May 20**: First Grade Family Picnic from 11:00 AM to 12:30 PM

[source: April 21-25.pdf#0]
2025-06-10 15:50:53,016 — INFO — app — [STREAM] Completed streaming. Clean text for history: 429 chars
2025-06-10 15:50:53,017 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:51:12,502 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:51:12,503 — INFO — app — [API] Received question: what is the phonics sectxion about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:51:12,503 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:51:12,504 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:51:12,504 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:51:12,504 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:12,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:51:12,752 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:51:13,009 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:51:13,075 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:51:13,169 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:13,319 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:13,320 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:51:13,320 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:51:13,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:51:13,452 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:51:13,452 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:51:13,453 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "file_size": 169878,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "event_id": 484,
  "content_type": "unstructured_text"
}
2025-06-10 15:51:13,453 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:51:13,453 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:14,508 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:51:14,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:51:15,422 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:51:16,603 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Phonics Section\n\n- **Spellings for long "o"**\n  \n- **Building sentences with conjunctions**\n  \n- **Understanding root words and inflectional endings**\n  \n- **Punctuation practice**\n  \n- **Reading fluency and comprehension** \n\nThis section focuses on enhancing students\' phonics skills through various activities and practices. [source: April 21-25.pdf#0]'
2025-06-10 15:51:16,603 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Phonics Section

- **Spellings for long "o"**
  
- **Building sentences with conjunctions**
  
- **Understanding root words and inflectional endings**
  
- **Punctuation practice**
  
- **Reading fluency and comprehension** 

This section focuses on enhancing students' phonics skills through various activities and practices. [source: April 21-25.pdf#0]
2025-06-10 15:51:16,604 — INFO — app — [STREAM] Completed streaming. Clean text for history: 320 chars
2025-06-10 15:51:16,604 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:51:40,368 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:51:40,369 — INFO — app — [API] Received question: where is the field trip?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:51:40,369 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:51:40,369 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:51:40,369 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:51:40,369 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:40,465 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:51:40,789 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:51:41,026 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:51:41,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:51:41,245 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:41,333 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:41,335 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:51:41,335 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:51:41,444 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:51:41,445 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:51:41,446 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:51:41,446 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structural_density": 0.7010000000000001,
  "file_size": 169878,
  "company_id": 3,
  "source_page": 1,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_type": ".pdf",
  "file_name": "April 21-25.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T20:45:24.419312",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "structure_type": "paragraph"
}
2025-06-10 15:51:41,447 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:51:41,447 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:41,877 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:51:42,079 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:51:42,726 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:51:45,831 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Field Trip Information\n\n- **Destination:** Gentry Farm\n\n- **Date:** April 29, 2023\n\n- **Entrance Information:**\n  - Enter by the American Flag\n  - Park in the designated lot\n\n- **Volunteer Information:**\n  - Tier 3 Volunteers are encouraged to chaperone\n  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site)\n  - Be prepared to show your receipt (screenshot acceptable) upon arrival\n\n[source: April 21-25.pdf#1]'
2025-06-10 15:51:45,831 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Field Trip Information

- **Destination:** Gentry Farm

- **Date:** April 29, 2023

- **Entrance Information:**
  - Enter by the American Flag
  - Park in the designated lot

- **Volunteer Information:**
  - Tier 3 Volunteers are encouraged to chaperone
  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site)
  - Be prepared to show your receipt (screenshot acceptable) upon arrival

[source: April 21-25.pdf#1]
2025-06-10 15:51:45,832 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-06-10 15:51:45,833 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:53:29,011 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:53:29,015 — INFO — app — [API] Received question: when is tcap?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:53:29,017 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:53:29,017 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:53:29,018 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:53:29,018 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:29,156 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:53:29,448 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:53:29,719 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:53:29,815 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:53:29,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:30,008 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:30,009 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:53:30,010 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:53:30,098 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:53:30,101 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:53:30,102 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:53:30,102 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749588183.434434,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "source_page": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structural_density": 0.7010000000000001,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "file_size": 169878,
  "file_type": ".pdf",
  "content_type": "unstructured_text"
}
2025-06-10 15:53:30,104 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:53:30,104 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:30,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:53:31,175 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:53:31,643 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:53:31,815 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:53:31,815 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:53:31,815 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:53:31,816 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:53:47,986 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:53:47,987 — INFO — app — [API] Received question: when is the tcap testing window?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:53:47,987 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:53:47,988 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:53:47,988 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:53:47,988 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:48,111 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:53:48,342 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:53:48,651 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:53:48,752 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:53:48,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:48,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:48,961 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:53:48,961 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:53:49,069 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "event_id": 484,
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "source": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312"
}
2025-06-10 15:53:49,076 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:53:49,076 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:49,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:53:49,696 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:53:50,044 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:53:50,894 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TCAP Testing Window\n\n- **Start Date:** April 21, 2023\n- **End Date:** April 25, 2023\n\nThe TCAP window is specifically for **2nd-5th Grade Students**. [source: April 21-25.pdf#1]'
2025-06-10 15:53:50,894 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TCAP Testing Window

- **Start Date:** April 21, 2023
- **End Date:** April 25, 2023

The TCAP window is specifically for **2nd-5th Grade Students**. [source: April 21-25.pdf#1]
2025-06-10 15:53:50,895 — INFO — app — [STREAM] Completed streaming. Clean text for history: 168 chars
2025-06-10 15:53:50,895 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:58:22,534 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:58:22,540 — INFO — app — [API] Received question: are there any pictures on this sheet?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:58:22,545 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:58:22,549 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:58:22,550 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:58:22,550 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:22,666 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:58:23,058 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:58:23,328 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:58:23,481 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:58:23,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:23,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:23,675 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:58:23,676 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:58:23,775 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:58:23,779 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:58:23,779 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:58:23,780 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source_type": "pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "company_id": 3,
  "source_page": 1,
  "file_size": 169878,
  "chunk_type": "semantic",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "created_time": 1749588183.434434
}
2025-06-10 15:58:23,781 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:58:23,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:24,308 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:58:24,577 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:58:25,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:58:25,249 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:58:25,250 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:58:25,250 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:58:25,252 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:58:47,725 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:58:47,726 — INFO — app — [API] Received question: who is the teacher?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:58:47,726 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:58:47,726 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:58:47,726 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:58:47,726 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:47,776 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:58:48,130 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:58:48,410 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:58:48,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:58:48,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:48,711 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:48,711 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:58:48,712 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:58:48,803 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "file_type": ".pdf",
  "event_id": 484,
  "chunk_index": 0,
  "source_page": 1,
  "file_size": 169878,
  "content_type": "unstructured_text",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp"
}
2025-06-10 15:58:48,807 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:58:48,808 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:49,258 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:58:49,460 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:58:50,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:58:50,188 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:58:50,188 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:58:50,188 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:58:50,189 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:06,815 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:06,815 — INFO — app — [API] Received question: what is in the learning focus?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:06,816 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:06,816 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:06,816 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:06,816 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:06,958 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:07,233 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:07,442 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:07,545 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:07,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:07,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:07,727 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:07,727 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:07,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "structure_type": "paragraph",
  "company_id": 3,
  "source_page": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "mime": "application/pdf",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "content_type": "unstructured_text"
}
2025-06-10 16:00:07,812 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:07,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:08,297 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:08,499 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:09,014 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:11,255 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Learning Focus\n\n- **Phonics:** \n  - Spellings for long "o"\n  - Building sentences with conjunctions\n  - Understanding root words and inflectional endings\n  - Punctuation practice\n  - Reading fluency and comprehension\n\n- **Wit & Wisdom:** \n  - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n  - Determining the Central Message of *The Korean Cinderella*\n  - Writing opinion paragraphs\n\n- **Math:** \n  - Identifying coins and their values\n  - Counting like sets of coins\n\n- **Science:** \n  - Seed planting and observation\n  - Understanding pollination\n\n[source: April 21-25.pdf#0]'
2025-06-10 16:00:11,255 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Learning Focus

- **Phonics:** 
  - Spellings for long "o"
  - Building sentences with conjunctions
  - Understanding root words and inflectional endings
  - Punctuation practice
  - Reading fluency and comprehension

- **Wit & Wisdom:** 
  - Using illustrations and details to describe settings and events in *The Korean Cinderella*
  - Determining the Central Message of *The Korean Cinderella*
  - Writing opinion paragraphs

- **Math:** 
  - Identifying coins and their values
  - Counting like sets of coins

- **Science:** 
  - Seed planting and observation
  - Understanding pollination

[source: April 21-25.pdf#0]
2025-06-10 16:00:11,255 — INFO — app — [STREAM] Completed streaming. Clean text for history: 570 chars
2025-06-10 16:00:11,256 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:37,687 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:37,688 — INFO — app — [API] Received question: what is ane's school?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:37,688 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:37,688 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:37,688 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:37,689 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:37,808 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:38,010 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:38,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:38,672 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:38,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:38,875 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:38,876 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:38,876 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:38,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_name": "April 21-25.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "structural_density": 0.7010000000000001,
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_page": 1,
  "file_type": ".pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "event_id": 484,
  "file_size": 169878
}
2025-06-10 16:00:38,961 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:38,961 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:39,561 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:39,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:40,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:40,293 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:00:40,293 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:00:40,293 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:00:40,295 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:54,303 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:54,303 — INFO — app — [API] Received question: what is beautification day?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:54,304 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:54,304 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:54,305 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:54,311 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:54,363 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:54,562 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:54,708 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:54,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:54,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:55,000 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:55,001 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:55,001 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:55,077 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:55,078 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:55,079 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:55,079 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.7010000000000001,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "source_page": 1,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "event_id": 484,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "file_size": 169878
}
2025-06-10 16:00:55,079 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:55,079 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:55,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:56,121 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:56,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:58,442 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Beautification Day\n\n- **Date:** April 26, 2023\n- **Time:** 9:00 AM to 11:00 AM\n- **Purpose:** A day dedicated to improving and enhancing the school's environment through various activities.\n\nThis event encourages community involvement and aims to create a more pleasant and welcoming atmosphere for students and staff. \n\n[source: April 21-25.pdf#2]"
2025-06-10 16:00:58,442 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Beautification Day

- **Date:** April 26, 2023
- **Time:** 9:00 AM to 11:00 AM
- **Purpose:** A day dedicated to improving and enhancing the school's environment through various activities.

This event encourages community involvement and aims to create a more pleasant and welcoming atmosphere for students and staff. 

[source: April 21-25.pdf#2]
2025-06-10 16:00:58,442 — INFO — app — [STREAM] Completed streaming. Clean text for history: 339 chars
2025-06-10 16:00:58,443 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:01:57,769 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:01:57,770 — INFO — app — [API] Received question: where is beautification day?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:01:57,770 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:01:57,770 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:01:57,770 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:01:57,770 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:01:57,897 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:01:58,104 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:01:58,593 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:01:58,729 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:01:58,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:01:58,951 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:01:58,952 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:01:58,952 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:01:59,056 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:01:59,059 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:01:59,060 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:01:59,060 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "created_time": 1749588183.434434,
  "source_type": "pdf",
  "event_id": 484,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "bot_id": 1,
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0
}
2025-06-10 16:01:59,060 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:01:59,060 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:01:59,580 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:01:59,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:02:00,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:02:01,823 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Beautification Day Location\n\n- **Event:** ANE Beautification Day\n- **Date:** April 26, 2023\n- **Time:** 9:00 AM to 11:00 AM\n\n**Note:** The specific location within the school is not provided in the context. \n\n[source: April 21-25.pdf#2]'
2025-06-10 16:02:01,823 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Beautification Day Location

- **Event:** ANE Beautification Day
- **Date:** April 26, 2023
- **Time:** 9:00 AM to 11:00 AM

**Note:** The specific location within the school is not provided in the context. 

[source: April 21-25.pdf#2]
2025-06-10 16:02:01,824 — INFO — app — [STREAM] Completed streaming. Clean text for history: 221 chars
2025-06-10 16:02:01,824 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:02:55,063 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:02:55,064 — INFO — app — [API] Received question: what grade is this for?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:02:55,064 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:02:55,065 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:02:55,065 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:02:55,065 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:02:55,198 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:02:55,425 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:02:55,675 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:02:55,770 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:02:55,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:02:56,007 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:02:56,009 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:02:56,009 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:02:56,084 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:02:56,086 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:02:56,086 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:02:56,087 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structural_density": 0.7010000000000001,
  "source_page": 1,
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484
}
2025-06-10 16:02:56,087 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:02:56,087 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:02:56,535 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:02:56,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:02:57,682 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:02:58,113 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:02:58,114 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:02:58,114 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:02:58,114 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:03:14,991 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:03:14,991 — INFO — app — [API] Received question: what grade newsletter?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:03:14,992 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:03:14,992 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:03:14,992 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:03:14,992 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:03:15,043 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:03:15,271 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:03:15,548 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:03:15,669 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:03:15,793 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:03:15,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:03:15,924 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:03:15,924 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:03:16,004 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "chunk_index": 0,
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "source_page": 1,
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "content_type": "unstructured_text",
  "file_size": 169878,
  "source_type": "pdf",
  "modified_time": 1749588183.434434
}
2025-06-10 16:03:16,006 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:03:16,006 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:03:16,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:03:16,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:03:17,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:03:18,237 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Grade Newsletter\n\n- **Grade:** First Grade\n- **Week of:** April 21-25, 2023\n\nThis newsletter covers important updates and events for first grade students during that week. [source: April 21-25.pdf#1]'
2025-06-10 16:03:18,237 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Grade Newsletter

- **Grade:** First Grade
- **Week of:** April 21-25, 2023

This newsletter covers important updates and events for first grade students during that week. [source: April 21-25.pdf#1]
2025-06-10 16:03:18,237 — INFO — app — [STREAM] Completed streaming. Clean text for history: 194 chars
2025-06-10 16:03:18,237 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:05:16,212 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:05:16,215 — INFO — app — [API] Received question: what is the letter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:05:16,217 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:05:16,217 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:05:16,218 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:05:16,218 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:16,270 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:05:16,785 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:05:17,044 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:05:17,168 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:05:17,237 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:17,339 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:17,340 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:05:17,340 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:05:17,447 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "source_page": 1,
  "chunk_index": 0,
  "event_id": 484,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf"
}
2025-06-10 16:05:17,448 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:05:17,448 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:18,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:05:18,312 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:05:18,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:05:19,026 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:05:19,027 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:05:19,027 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:05:19,027 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:05:25,847 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:05:25,848 — INFO — app — [API] Received question: what is the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:05:25,849 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:05:25,849 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:05:25,849 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:05:25,849 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:25,944 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:05:26,128 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:05:26,317 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:05:26,486 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:05:26,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:26,658 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:26,661 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:05:26,661 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:05:26,732 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:05:26,734 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:05:26,735 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:05:26,735 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_size": 169878,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "file_type": ".pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "event_id": 484,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "structure_type": "paragraph"
}
2025-06-10 16:05:26,735 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:05:26,735 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:27,105 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:05:27,296 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:05:27,769 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:05:34,042 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe **First Grade Newsletter** for the week of **April 21-25, 2023** covers important updates and events for first grade students. \n\n### Key Topics\n\n- **Learning Focus:**\n  - **Phonics:** \n    - Spellings for long "o"\n    - Building sentences with conjunctions\n    - Understanding root words and inflectional endings\n    - Punctuation practice\n    - Reading fluency and comprehension\n\n  - **Wit & Wisdom:** \n    - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n    - Determining the Central Message of *The Korean Cinderella*\n    - Writing opinion paragraphs\n\n  - **Math:** \n    - Identifying coins and their values\n    - Counting like sets of coins\n\n  - **Science:** \n    - Seed planting and observation\n    - Understanding pollination\n\n- **Important Dates:**\n  - April 24: Quarter 4 Progress Reports go home\n  - April 26: ANE Beautification Day (9-11 AM)\n  - April 29: Gentry Farm Field Trip\n  - May 2: Last day to check out library books\n  - May 6: PTO Spirit Night at Andy’s Custard\n  - May 9: All library books due\n  - May 13: Chromebook and charger turn in\n  - May 16: Field Day\n  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)\n\n- **Weekly Spelling Words:**\n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n**Note:** The TCAP window starts on Monday, April 14th. \n\nThis newsletter aims to keep parents and guardians informed about the educational focus and upcoming events for first grade students. [source: April 21-25.pdf#0]'
2025-06-10 16:05:34,042 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The **First Grade Newsletter** for the week of **April 21-25, 2023** covers important updates and events for first grade students. 

### Key Topics

- **Learning Focus:**
  - **Phonics:** 
    - Spellings for long "o"
    - Building sentences with conjunctions
    - Understanding root words and inflectional endings
    - Punctuation practice
    - Reading fluency and comprehension

  - **Wit & Wisdom:** 
    - Using illustrations and details to describe settings and events in *The Korean Cinderella*
    - Determining the Central Message of *The Korean Cinderella*
    - Writing opinion paragraphs

  - **Math:** 
    - Identifying coins and their values
    - Counting like sets of coins

  - **Science:** 
    - Seed planting and observation
    - Understanding pollination

- **Important Dates:**
  - April 24: Quarter 4 Progress Reports go home
  - April 26: ANE Beautification Day (9-11 AM)
  - April 29: Gentry Farm Field Trip
  - May 2: Last day to check out library books
  - May 6: PTO Spirit Night at Andy’s Custard
  - May 9: All library books due
  - May 13: Chromebook and charger turn in
  - May 16: Field Day
  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)

- **Weekly Spelling Words:**
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

**Note:** The TCAP window starts on Monday, April 14th. 

This newsletter aims to keep parents and guardians informed about the educational focus and upcoming events for first grade students. [source: April 21-25.pdf#0]
2025-06-10 16:05:34,044 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1384 chars
2025-06-10 16:05:34,045 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:06:20,538 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:06:20,540 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:06:20,541 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:06:20,541 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:06:20,541 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:06:20,541 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:06:20,606 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:06:20,906 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:06:21,169 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:06:21,243 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:06:21,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:06:21,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:06:21,431 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:06:21,431 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:06:21,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_size": 169878,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0,
  "file_type": ".pdf",
  "event_id": 484,
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "source_page": 1,
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 16:06:21,534 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:06:21,534 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:06:22,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:06:22,479 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:06:22,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:06:23,585 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Tricky Word:** your\n\n**Test Date:** Wednesday, April 23rd\n\n[source: April 21-25.pdf#2]'
2025-06-10 16:06:23,586 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Tricky Word:** your

**Test Date:** Wednesday, April 23rd

[source: April 21-25.pdf#2]
2025-06-10 16:06:23,586 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:06:23,586 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:08:11,689 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:08:56,267 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:09:50,217 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:09:50,222 — INFO — app — [API] Received question: what is the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:09:50,223 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:09:50,223 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:09:50,223 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:09:50,223 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:09:50,409 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:09:50,822 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:09:51,116 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:09:51,246 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:09:51,386 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:09:51,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:09:51,473 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:09:51,476 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:09:51,543 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:09:51,546 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:09:51,547 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:09:51,547 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "modified_time": 1749588183.434434,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "chunk_type": "semantic",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "bot_id": 1,
  "file_type": ".pdf"
}
2025-06-10 16:09:51,548 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:09:51,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:09:51,638 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:09:52,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:09:52,827 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:09:53,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:09:58,839 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Information\n\nThe **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:\n\n- **Learning Focus:**\n  - **Phonics:** \n    - Spellings for long "o"\n    - Building sentences with conjunctions\n    - Understanding root words and inflectional endings\n    - Punctuation practice\n    - Reading fluency and comprehension\n\n  - **Wit & Wisdom:** \n    - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n    - Determining the Central Message of *The Korean Cinderella*\n    - Writing opinion paragraphs\n\n  - **Math:** \n    - Identifying coins and their values\n    - Counting like sets of coins\n\n  - **Science:** \n    - Seed planting and observation\n    - Understanding pollination\n\n- **Important Dates:**\n  - April 24: Quarter 4 Progress Reports go home\n  - April 26: ANE Beautification Day (9-11 AM)\n  - April 29: Gentry Farm Field Trip\n  - May 2: Last day to check out library books\n  - May 6: PTO Spirit Night at Andy’s Custard\n  - May 9: All library books due\n  - May 13: Chromebook and charger turn in\n  - May 16: Field Day\n  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)\n\n- **Weekly Spelling Words:**\n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n**Note:** The TCAP window starts on Monday, April 14th. \n\nThis newsletter provides a comprehensive overview of the learning objectives and key dates for first-grade students during this period. [source: April 21-25.pdf#0]'
2025-06-10 16:09:58,839 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Information

The **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:

- **Learning Focus:**
  - **Phonics:** 
    - Spellings for long "o"
    - Building sentences with conjunctions
    - Understanding root words and inflectional endings
    - Punctuation practice
    - Reading fluency and comprehension

  - **Wit & Wisdom:** 
    - Using illustrations and details to describe settings and events in *The Korean Cinderella*
    - Determining the Central Message of *The Korean Cinderella*
    - Writing opinion paragraphs

  - **Math:** 
    - Identifying coins and their values
    - Counting like sets of coins

  - **Science:** 
    - Seed planting and observation
    - Understanding pollination

- **Important Dates:**
  - April 24: Quarter 4 Progress Reports go home
  - April 26: ANE Beautification Day (9-11 AM)
  - April 29: Gentry Farm Field Trip
  - May 2: Last day to check out library books
  - May 6: PTO Spirit Night at Andy’s Custard
  - May 9: All library books due
  - May 13: Chromebook and charger turn in
  - May 16: Field Day
  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)

- **Weekly Spelling Words:**
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

**Note:** The TCAP window starts on Monday, April 14th. 

This newsletter provides a comprehensive overview of the learning objectives and key dates for first-grade students during this period. [source: April 21-25.pdf#0]
2025-06-10 16:09:58,844 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1361 chars
2025-06-10 16:09:58,845 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:10:43,409 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:10:43,410 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:10:43,410 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:10:43,411 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:10:43,411 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:10:43,411 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:10:43,448 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:10:43,876 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:10:44,206 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:10:44,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:10:44,402 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:10:44,478 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:10:44,480 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:10:44,480 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:10:44,749 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:10:44,750 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:10:44,751 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:10:44,751 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "mime": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T20:45:24.419312",
  "company_id": 3,
  "chunk_type": "semantic",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "file_size": 169878
}
2025-06-10 16:10:44,751 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:10:44,751 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:10:45,251 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:10:45,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:10:46,125 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:10:47,355 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  \n[source: April 21-25.pdf#2]'
2025-06-10 16:10:47,356 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  
[source: April 21-25.pdf#2]
2025-06-10 16:10:47,356 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:10:47,356 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:13:40,853 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:13:40,896 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:13:40,897 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:13:40,898 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:13:40,898 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:13:40,899 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:13:40,984 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:13:41,369 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:13:41,560 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:13:41,656 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:13:41,760 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:13:41,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:13:41,896 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:13:41,898 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:13:42,082 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:13:42,084 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:13:42,085 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:13:42,085 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "chunk_type": "semantic",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "modified_time": 1749588183.434434,
  "source_type": "pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-10 16:13:42,086 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:13:42,086 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:13:42,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:13:42,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:13:43,656 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:13:44,411 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd. [source: April 21-25.pdf#2]'
2025-06-10 16:13:44,411 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd. [source: April 21-25.pdf#2]
2025-06-10 16:13:44,411 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:13:44,412 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:14:40,403 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:17:57,045 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:17:57,085 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:17:57,086 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:17:57,086 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:17:57,087 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:17:57,088 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:17:57,191 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:17:57,528 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:17:57,789 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:17:57,882 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:17:57,992 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:17:58,103 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:17:58,104 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:17:58,105 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:17:58,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:17:58,319 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:17:58,320 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:17:58,320 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "source_page": 1,
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "file_size": 169878
}
2025-06-10 16:17:58,321 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:17:58,321 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:17:58,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:17:59,034 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:17:59,641 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:18:00,675 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  \n[source: April 21-25.pdf#2]'
2025-06-10 16:18:00,675 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  
[source: April 21-25.pdf#2]
2025-06-10 16:18:00,675 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:18:00,676 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:18:37,743 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:18:43,279 — ERROR — jwt_handler — [JWT] Invalid token: Signature verification failed
2025-06-10 16:19:01,656 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:19:01,658 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_session_123
2025-06-10 16:19:01,659 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:19:01,659 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:19:01,659 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:19:01,659 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:01,746 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:19:02,048 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:19:02,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:19:02,364 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:19:02,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:02,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:02,669 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:19:02,669 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:19:02,803 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:19:02,805 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:19:02,806 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:19:02,806 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 169878,
  "structural_density": 0.7010000000000001,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_name": "April 21-25.pdf",
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0
}
2025-06-10 16:19:02,806 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:19:02,806 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:02,837 — INFO — app — [MEMORY] Created new history for session test_session_123
2025-06-10 16:19:03,955 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:19:04,205 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:19:04,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:19:06,480 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:19:06,480 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:19:06,482 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:19:06,482 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:19:22,983 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:19:22,983 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_session_456
2025-06-10 16:19:22,984 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:19:22,984 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:19:22,984 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:19:22,984 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:23,020 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:19:23,249 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:19:23,442 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:19:23,514 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:19:23,642 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:23,778 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:23,778 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:19:23,779 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:19:23,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "file_name": "April 21-25.pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "file_size": 169878,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "event_id": 484,
  "created_time": 1749588183.434434,
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1
}
2025-06-10 16:19:23,848 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:19:23,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:23,880 — INFO — app — [MEMORY] Created new history for session test_session_456
2025-06-10 16:19:24,391 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:19:24,696 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:19:25,214 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:19:26,093 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:19:26,093 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:19:26,094 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:19:26,094 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:20:23,894 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:20:28,547 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:20:28,549 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_enhanced_123
2025-06-10 16:20:28,549 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:20:28,549 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:20:28,549 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:20:28,549 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:20:28,633 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:20:29,071 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:20:29,236 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:20:29,344 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:20:29,439 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:20:29,575 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:20:29,575 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:20:29,575 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:20:29,653 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:20:29,658 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:20:29,659 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:20:29,659 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "bot_id": 1,
  "source_type": "pdf",
  "company_id": 3,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "modified_time": 1749588183.434434,
  "file_type": ".pdf"
}
2025-06-10 16:20:29,659 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:20:29,659 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:20:29,689 — INFO — app — [MEMORY] Created new history for session test_enhanced_123
2025-06-10 16:20:30,441 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:20:30,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:20:31,188 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:20:32,121 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:20:32,122 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:20:32,124 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:20:32,124 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:21:13,915 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:22:11,569 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:22:11,571 — INFO — app — [API] Received question: What is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_newsletter_789
2025-06-10 16:22:11,571 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:22:11,572 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:22:11,572 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:22:11,572 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:22:11,660 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:22:11,983 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:22:12,180 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:22:12,304 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:22:12,407 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:22:12,562 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:22:12,563 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:22:12,563 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:22:12,693 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:22:12,696 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:22:12,696 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:22:12,697 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "file_size": 169878,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "file_name": "April 21-25.pdf",
  "mime": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "event_id": 484,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312"
}
2025-06-10 16:22:12,697 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:22:12,698 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:22:12,729 — INFO — app — [MEMORY] Created new history for session test_newsletter_789
2025-06-10 16:22:13,257 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:22:13,428 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:22:14,029 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:22:17,508 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. \n\n- **Key Topics Covered:**\n  \n  - **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including lunch visitor restrictions and hallway access.\n  \n  - **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.\n  \n  - **Learning Focus**: Highlights of the phonics, Wit & Wisdom, math, and science topics being covered in first grade.\n  \n  - **Important Dates**: A list of significant upcoming dates, including progress reports and events.\n  \n  - **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for families. \n\n**Additional Info:** The TCAP window starts on Monday, April 14th.'
2025-06-10 16:22:17,509 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. 

- **Key Topics Covered:**
  
  - **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including lunch visitor restrictions and hallway access.
  
  - **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.
  
  - **Learning Focus**: Highlights of the phonics, Wit & Wisdom, math, and science topics being covered in first grade.
  
  - **Important Dates**: A list of significant upcoming dates, including progress reports and events.
  
  - **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.

This structured format ensures that all relevant details are easily accessible and understandable for families. 

**Additional Info:** The TCAP window starts on Monday, April 14th.
2025-06-10 16:22:17,513 — INFO — app — [STREAM] Completed streaming. Clean text for history: 957 chars
2025-06-10 16:22:17,515 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:23:01,928 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:23:01,931 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:23:01,934 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:23:01,934 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:23:01,934 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:23:01,936 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:02,019 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:23:02,400 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:23:02,587 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:23:02,682 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:23:02,791 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:02,923 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:02,926 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:23:02,928 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:23:03,123 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:23:03,126 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:23:03,126 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:23:03,127 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749588183.434434,
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_type": "semantic",
  "event_id": 484,
  "file_type": ".pdf",
  "file_name": "April 21-25.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "timestamp": "2025-06-10T20:45:24.419312",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "source_type": "pdf"
}
2025-06-10 16:23:03,128 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:23:03,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:03,378 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:23:03,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:23:04,093 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:23:04,648 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:23:07,849 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding:\n\n- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.\n\n- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.\n\n- **Important Dates**: A list of significant upcoming dates, such as progress reports, library book due dates, and special events.\n\n- **Learning Focus**: An outline of the educational topics being covered in first grade, including phonics, math, science, and literature.\n\n- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for the school community. \n\n**Additional Info:** The newsletter covers the week of April 21-25, 2023.  \n[source: April 21-25.pdf#0]'
2025-06-10 16:23:07,849 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding:

- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.

- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.

- **Important Dates**: A list of significant upcoming dates, such as progress reports, library book due dates, and special events.

- **Learning Focus**: An outline of the educational topics being covered in first grade, including phonics, math, science, and literature.

- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.

This structured format ensures that all relevant details are easily accessible and understandable for the school community. 

**Additional Info:** The newsletter covers the week of April 21-25, 2023.  
[source: April 21-25.pdf#0]
2025-06-10 16:23:07,850 — INFO — app — [STREAM] Completed streaming. Clean text for history: 977 chars
2025-06-10 16:23:07,851 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:23:29,285 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:23:39,744 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:23:39,746 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_enhanced_spelling
2025-06-10 16:23:39,746 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:23:39,746 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:23:39,746 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:23:39,747 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:39,830 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:23:40,147 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:23:40,353 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:23:40,459 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:23:40,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:40,643 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:40,645 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:23:40,645 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:23:40,769 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:23:40,773 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:23:40,773 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:23:40,773 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "April 21-25.pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "event_id": 484,
  "file_type": ".pdf",
  "source_type": "pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3
}
2025-06-10 16:23:40,773 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:23:40,773 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:40,804 — INFO — app — [MEMORY] Created new history for session test_enhanced_spelling
2025-06-10 16:23:41,428 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:23:41,572 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:23:42,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:23:42,743 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:23:42,743 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:23:42,745 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:23:42,746 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:23:56,855 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:23:56,856 — INFO — app — [API] Received question: What is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_enhanced_newsletter
2025-06-10 16:23:56,856 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:23:56,856 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:23:56,856 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:23:56,856 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:56,890 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:23:57,133 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:23:57,290 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:23:57,361 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:23:57,519 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:57,651 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:23:57,652 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:23:57,652 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:23:57,717 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:23:57,718 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:23:57,719 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:23:57,719 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "source_page": 1,
  "file_size": 169878,
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "event_id": 484
}
2025-06-10 16:23:57,719 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:23:57,719 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:23:57,752 — INFO — app — [MEMORY] Created new history for session test_enhanced_newsletter
2025-06-10 16:23:58,049 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:23:58,295 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:23:58,711 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:24:01,229 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding:\n\n- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.\n\n- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.\n\n- **Important Dates**: A list of significant upcoming dates, such as progress reports and events.\n\n- **Learning Focus**: An overview of the subjects being taught in first grade, including phonics, math, science, and literature.\n\n- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.\n\n- **Volunteer Information**: Encouragement for Tier 3 Volunteers to participate in upcoming events.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for the community.  \n[source: April 21-25.pdf#0]'
2025-06-10 16:24:01,229 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding:

- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.

- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.

- **Important Dates**: A list of significant upcoming dates, such as progress reports and events.

- **Learning Focus**: An overview of the subjects being taught in first grade, including phonics, math, science, and literature.

- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.

- **Volunteer Information**: Encouragement for Tier 3 Volunteers to participate in upcoming events.

This structured format ensures that all relevant details are easily accessible and understandable for the community.  
[source: April 21-25.pdf#0]
2025-06-10 16:24:01,230 — INFO — app — [STREAM] Completed streaming. Clean text for history: 951 chars
2025-06-10 16:24:01,230 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:25:27,135 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:25:27,140 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:25:27,141 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:25:27,141 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:25:27,141 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:25:27,142 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:25:27,191 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:25:27,582 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:25:27,805 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:25:27,913 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:25:27,986 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:25:28,154 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:25:28,156 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:25:28,157 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:25:28,243 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:25:28,246 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:25:28,247 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:25:28,247 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "created_time": 1749588183.434434,
  "mime": "application/pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "bot_id": 1,
  "source_type": "pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_size": 169878
}
2025-06-10 16:25:28,247 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:25:28,247 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:25:28,315 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:25:28,837 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:25:29,040 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:25:29,432 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:25:30,131 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:25:30,135 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:25:30,136 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:25:30,137 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:25:40,842 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:25:40,847 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:25:40,847 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:25:40,847 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:25:40,847 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:25:40,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:25:40,893 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:25:41,128 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:25:41,397 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:25:41,485 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:25:41,565 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:25:41,622 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:25:41,623 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:25:41,623 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:25:41,786 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:25:41,787 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:25:41,788 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:25:41,788 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "event_id": 484,
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_type": "semantic",
  "bot_id": 1
}
2025-06-10 16:25:41,788 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:25:41,788 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:25:42,180 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:25:42,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:25:43,047 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:25:45,804 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. \n\n- **Learning Focus:**\n  - Phonics, Wit & Wisdom, Math, and Science topics being covered in first grade.\n\n- **Important Dates:**\n  - Key upcoming events such as progress reports, field trips, and library book due dates.\n\n- **Weekly Spelling Words:**\n  - A list of spelling words and a tricky word for students to learn.\n\n- **Volunteer Information:**\n  - Details for Tier 3 Volunteers interested in chaperoning events.\n\n- **Testing Window Information:**\n  - Protocols and guidelines for the testing period.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for families. \n\n**Additional Info:** The newsletter aims to keep parents informed about their child's education and upcoming school activities."
2025-06-10 16:25:45,804 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. 

- **Learning Focus:**
  - Phonics, Wit & Wisdom, Math, and Science topics being covered in first grade.

- **Important Dates:**
  - Key upcoming events such as progress reports, field trips, and library book due dates.

- **Weekly Spelling Words:**
  - A list of spelling words and a tricky word for students to learn.

- **Volunteer Information:**
  - Details for Tier 3 Volunteers interested in chaperoning events.

- **Testing Window Information:**
  - Protocols and guidelines for the testing period.

This structured format ensures that all relevant details are easily accessible and understandable for families. 

**Additional Info:** The newsletter aims to keep parents informed about their child's education and upcoming school activities.
2025-06-10 16:25:45,805 — INFO — app — [STREAM] Completed streaming. Clean text for history: 886 chars
2025-06-10 16:25:45,805 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:30:47,437 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:32:22,427 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:32:22,428 — INFO — app — [API] Received question: what is the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:32:22,429 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:32:22,429 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:32:22,429 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:32:22,429 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:32:22,520 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:32:23,054 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:32:23,283 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:32:23,400 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:32:23,538 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:32:23,671 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:32:23,673 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:32:23,675 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:32:23,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:32:23,864 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:32:23,865 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:32:23,865 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "source_page": 1,
  "mime": "application/pdf",
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "content_type": "unstructured_text",
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "modified_time": 1749588183.434434,
  "source_type": "pdf",
  "chunk_type": "semantic",
  "event_id": 484,
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312"
}
2025-06-10 16:32:23,868 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:32:23,869 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:32:24,197 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:32:26,301 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:32:26,566 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:32:27,066 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:32:35,177 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:\n\n- **Learning Focus:**\n  - **Phonics:** \n    - Spellings for long "o"\n    - Building sentences with conjunctions\n    - Understanding root words and inflectional endings\n    - Punctuation practice\n    - Reading fluency and comprehension\n\n  - **Wit & Wisdom:** \n    - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n    - Determining the Central Message of *The Korean Cinderella*\n    - Writing opinion paragraphs\n\n  - **Math:** \n    - Identifying coins and their values\n    - Counting like sets of coins\n\n  - **Science:** \n    - Seed planting and observation\n    - Understanding pollination\n\n- **Important Dates:**\n  - April 24: Quarter 4 Progress Reports go home\n  - April 26: ANE Beautification Day (9-11 AM)\n  - April 29: Gentry Farm Field Trip\n  - May 2: Last day to check out library books\n  - May 6: PTO Spirit Night at Andy’s Custard\n  - May 9: All library books due\n  - May 13: Chromebook and charger turn in\n  - May 16: Field Day\n  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)\n\n- **Weekly Spelling Words:**\n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n**Note:** The TCAP window starts on Monday, April 14th. \n\nThis newsletter provides a comprehensive overview of the learning objectives, important dates, and spelling words for first graders during this week. [source: April 21-25.pdf#0]'
2025-06-10 16:32:35,178 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:

- **Learning Focus:**
  - **Phonics:** 
    - Spellings for long "o"
    - Building sentences with conjunctions
    - Understanding root words and inflectional endings
    - Punctuation practice
    - Reading fluency and comprehension

  - **Wit & Wisdom:** 
    - Using illustrations and details to describe settings and events in *The Korean Cinderella*
    - Determining the Central Message of *The Korean Cinderella*
    - Writing opinion paragraphs

  - **Math:** 
    - Identifying coins and their values
    - Counting like sets of coins

  - **Science:** 
    - Seed planting and observation
    - Understanding pollination

- **Important Dates:**
  - April 24: Quarter 4 Progress Reports go home
  - April 26: ANE Beautification Day (9-11 AM)
  - April 29: Gentry Farm Field Trip
  - May 2: Last day to check out library books
  - May 6: PTO Spirit Night at Andy’s Custard
  - May 9: All library books due
  - May 13: Chromebook and charger turn in
  - May 16: Field Day
  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)

- **Weekly Spelling Words:**
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

**Note:** The TCAP window starts on Monday, April 14th. 

This newsletter provides a comprehensive overview of the learning objectives, important dates, and spelling words for first graders during this week. [source: April 21-25.pdf#0]
2025-06-10 16:32:35,180 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1372 chars
2025-06-10 16:32:35,181 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:33:57,796 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:36:35,077 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:36:40,467 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:36:40,468 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_markdown_it_spelling
2025-06-10 16:36:40,469 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:36:40,469 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:36:40,469 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:36:40,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:36:40,554 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:36:41,983 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:36:42,148 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:36:42,377 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:36:42,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:36:42,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:36:42,601 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:36:42,602 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:36:42,767 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:36:42,769 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:36:42,769 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:36:42,770 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749588183.434434,
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "file_type": ".pdf",
  "company_id": 3,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "event_id": 484,
  "bot_id": 1,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "file_size": 169878,
  "source_page": 1,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf"
}
2025-06-10 16:36:42,770 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:36:42,770 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:36:42,798 — INFO — app — [MEMORY] Created new history for session test_markdown_it_spelling
2025-06-10 16:36:43,421 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:36:43,604 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:36:44,386 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:36:45,294 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:36:45,294 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:36:45,295 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:36:45,296 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:36:53,101 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:36:53,102 — INFO — app — [API] Received question: What is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_markdown_it_newsletter
2025-06-10 16:36:53,102 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:36:53,102 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:36:53,102 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:36:53,103 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:36:53,135 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:36:53,637 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:36:53,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:36:53,986 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:36:54,098 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:36:54,173 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:36:54,174 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:36:54,174 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:36:54,297 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:36:54,298 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:36:54,298 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:36:54,298 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "source_page": 1,
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_size": 169878,
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "file_type": ".pdf",
  "event_id": 484
}
2025-06-10 16:36:54,299 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:36:54,299 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:36:54,328 — INFO — app — [MEMORY] Created new history for session test_markdown_it_newsletter
2025-06-10 16:36:54,956 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:36:55,144 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:36:55,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:36:59,153 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding:\n\n- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.\n\n- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.\n\n- **Important Dates**: Key dates for progress reports, library book due dates, and special events.\n\n- **Learning Focus**: An overview of the subjects being taught in first grade, including phonics, math, science, and literature.\n\n- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for the community. \n\n**Additional Info:** The newsletter covers the week of April 21-25, 2023.  \n[source: April 21-25.pdf#0]'
2025-06-10 16:36:59,153 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding:

- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including specific protocols to maintain a quiet environment.

- **Upcoming Field Trip**: Information about the Gentry Farm field trip, including volunteer opportunities and entrance details.

- **Important Dates**: Key dates for progress reports, library book due dates, and special events.

- **Learning Focus**: An overview of the subjects being taught in first grade, including phonics, math, science, and literature.

- **Weekly Spelling Words**: A list of spelling words and a tricky word for the week, along with the test date.

This structured format ensures that all relevant details are easily accessible and understandable for the community. 

**Additional Info:** The newsletter covers the week of April 21-25, 2023.  
[source: April 21-25.pdf#0]
2025-06-10 16:36:59,154 — INFO — app — [STREAM] Completed streaming. Clean text for history: 928 chars
2025-06-10 16:36:59,154 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:37:47,675 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:37:47,675 — INFO — app — [API] Received question: what's this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:37:47,676 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:37:47,676 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:37:47,677 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:37:47,677 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:37:47,725 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:37:48,057 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:37:48,315 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:37:48,467 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:37:48,567 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:37:48,658 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:37:48,666 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:37:48,666 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:37:48,826 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:37:48,829 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:37:48,829 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:37:48,829 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "file_name": "April 21-25.pdf",
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "chunk_index": 0,
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "source_page": 1
}
2025-06-10 16:37:48,830 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:37:48,830 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:37:48,917 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:37:49,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:37:49,402 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:37:50,259 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:37:53,022 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. \n\n- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including lunch visitor restrictions and hallway access.\n\n- **Learning Focus**: Outlines the subjects being taught, including phonics, math, science, and Wit & Wisdom.\n\n- **Important Dates**: Lists significant upcoming dates, such as progress reports, field trips, and library book due dates.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a tricky word for students to study.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone during events.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for families. \n\n**Additional Info:** The TCAP window starts on Monday, April 14th.'
2025-06-10 16:37:53,023 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter provides important updates and information for parents and guardians regarding events and learning focuses for the week of April 21-25, 2023. 

- **Testing Schedule**: Details about the testing window for 2nd-5th grade students, including lunch visitor restrictions and hallway access.

- **Learning Focus**: Outlines the subjects being taught, including phonics, math, science, and Wit & Wisdom.

- **Important Dates**: Lists significant upcoming dates, such as progress reports, field trips, and library book due dates.

- **Weekly Spelling Words**: Provides a list of spelling words and a tricky word for students to study.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone during events.

This structured format ensures that all relevant details are easily accessible and understandable for families. 

**Additional Info:** The TCAP window starts on Monday, April 14th.
2025-06-10 16:37:53,023 — INFO — app — [STREAM] Completed streaming. Clean text for history: 900 chars
2025-06-10 16:37:53,024 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:39:15,979 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:39:52,714 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:39:52,729 — INFO — app — [API] Received question: What is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:39:52,732 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:39:52,732 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:39:52,733 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:39:52,737 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:39:52,935 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:39:53,512 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:39:53,849 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:39:53,954 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:39:54,104 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:39:54,266 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:39:54,268 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:39:54,269 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:39:54,369 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:39:54,372 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:39:54,372 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:39:54,372 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "mime_type": "application/pdf",
  "source_page": 1,
  "file_type": ".pdf",
  "chunk_index": 0
}
2025-06-10 16:39:54,372 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:39:54,372 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:39:54,417 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:39:55,866 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:39:56,078 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:39:56,889 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:39:59,802 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Overview of the Newsletter\n\nThe newsletter covers important updates and events for **First Grade** during the week of **April 21-25, 2023**. It includes information on:\n\n- **Learning Focus**: Key subjects such as Phonics, Wit & Wisdom, Math, and Science, detailing specific topics and skills being taught.\n\n- **Important Dates**: Significant upcoming events, including the Quarter 4 Progress Reports, Gentry Farm Field Trip, and other important deadlines.\n\n- **Weekly Spelling Words**: A list of spelling words and a tricky word for students to learn, along with the test date.\n\n- **Volunteer Information**: Encouragement for Tier 3 Volunteers to chaperone during events.\n\n- **Testing Window Information**: Details about the testing protocols in place during the testing window from April 21-25, 2023.\n\nThis structured format ensures that parents and guardians have easy access to all relevant details regarding their children's education and upcoming activities. [source: April 21-25.pdf#0]"
2025-06-10 16:39:59,802 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Overview of the Newsletter

The newsletter covers important updates and events for **First Grade** during the week of **April 21-25, 2023**. It includes information on:

- **Learning Focus**: Key subjects such as Phonics, Wit & Wisdom, Math, and Science, detailing specific topics and skills being taught.

- **Important Dates**: Significant upcoming events, including the Quarter 4 Progress Reports, Gentry Farm Field Trip, and other important deadlines.

- **Weekly Spelling Words**: A list of spelling words and a tricky word for students to learn, along with the test date.

- **Volunteer Information**: Encouragement for Tier 3 Volunteers to chaperone during events.

- **Testing Window Information**: Details about the testing protocols in place during the testing window from April 21-25, 2023.

This structured format ensures that parents and guardians have easy access to all relevant details regarding their children's education and upcoming activities. [source: April 21-25.pdf#0]
2025-06-10 16:39:59,804 — INFO — app — [STREAM] Completed streaming. Clean text for history: 957 chars
2025-06-10 16:39:59,805 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:40:09,845 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:40:09,846 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:40:09,846 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:40:09,847 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:40:09,847 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:40:09,847 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:40:09,908 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:40:10,093 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:40:10,281 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:40:10,426 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:40:10,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:40:10,623 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:40:10,624 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:40:10,624 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:40:10,746 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:40:10,748 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:40:10,748 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:40:10,748 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "file_type": ".pdf",
  "created_time": 1749588183.434434,
  "content_type": "unstructured_text",
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "source_page": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "company_id": 3,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "event_id": 484
}
2025-06-10 16:40:10,749 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:40:10,749 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:40:11,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:40:11,485 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:40:11,870 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:40:12,814 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- **Words**: \n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n- **Tricky Word**: your\n\n- **Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:40:12,814 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- **Words**: 
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

- **Tricky Word**: your

- **Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:40:12,814 — INFO — app — [STREAM] Completed streaming. Clean text for history: 172 chars
2025-06-10 16:40:12,815 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:42:30,113 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:42:36,597 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:42:36,599 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_refined_prompt
2025-06-10 16:42:36,600 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:42:36,600 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:42:36,600 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:42:36,600 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:42:36,681 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:42:37,161 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:42:37,386 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:42:37,494 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:42:37,589 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:42:37,690 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:42:37,691 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:42:37,691 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:42:37,789 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:42:37,792 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:42:37,792 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:42:37,793 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "chunk_index": 0,
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source_page": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "file_size": 169878,
  "structural_density": 0.7010000000000001,
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434,
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "bot_id": 1,
  "company_id": 3,
  "content_type": "unstructured_text"
}
2025-06-10 16:42:37,793 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:42:37,793 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:42:37,828 — INFO — app — [MEMORY] Created new history for session test_refined_prompt
2025-06-10 16:42:38,837 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:42:39,260 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:42:39,787 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:42:40,856 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- **Words**: \n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n- **Tricky Word**: your\n\n- **Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:42:40,856 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- **Words**: 
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

- **Tricky Word**: your

- **Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:42:40,858 — INFO — app — [STREAM] Completed streaming. Clean text for history: 172 chars
2025-06-10 16:42:40,859 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:43:22,458 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:43:52,151 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:43:52,154 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:43:52,155 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:43:52,155 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:43:52,156 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:43:52,156 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:43:52,279 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:43:52,684 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:43:53,018 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:43:53,124 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:43:53,243 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:43:53,340 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:43:53,348 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:43:53,359 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:43:53,447 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:43:53,455 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:43:53,455 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:43:53,455 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "mime": "application/pdf",
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "file_size": 169878,
  "event_id": 484,
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "content_type": "unstructured_text",
  "source_page": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "company_id": 3,
  "structural_density": 0.7010000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 16:43:53,456 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:43:53,456 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:43:53,549 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:43:54,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:43:55,103 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:43:55,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:43:56,681 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:43:56,681 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:43:56,682 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:43:56,683 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:46:41,886 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:46:51,092 — ERROR — jwt_handler — [JWT] Invalid token: Invalid crypto padding
2025-06-10 16:47:11,673 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:47:11,688 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_list_spacing_fix
2025-06-10 16:47:11,694 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:47:11,694 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:47:11,694 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:47:11,696 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:47:11,793 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:47:12,235 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:47:12,442 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:47:12,572 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:47:12,684 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:47:12,755 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:47:12,756 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:47:12,757 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:47:12,844 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:47:12,848 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:47:12,849 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:47:12,849 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "modified_time": 1749588183.434434,
  "structure_type": "paragraph",
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484,
  "mime": "application/pdf",
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274"
}
2025-06-10 16:47:12,849 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:47:12,849 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:47:12,888 — INFO — app — [MEMORY] Created new history for session test_list_spacing_fix
2025-06-10 16:47:13,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:47:13,912 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:47:14,434 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:47:14,485 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:47:14,485 — INFO — app — [API] Received question: whats the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:47:14,486 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:47:14,486 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:47:14,486 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:47:14,487 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:47:14,525 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:47:14,890 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:47:15,194 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:47:15,303 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:47:15,403 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:47:15,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:47:15,469 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:47:15,469 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:47:15,495 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:47:15,495 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:47:15,496 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:47:15,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:47:15,555 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:47:15,555 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:47:15,555 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "chunk_type": "semantic",
  "event_id": 484,
  "chunk_index": 0,
  "mime": "application/pdf",
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_name": "April 21-25.pdf",
  "structural_density": 0.7010000000000001,
  "source": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "bot_id": 1
}
2025-06-10 16:47:15,556 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:47:15,556 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:47:15,598 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:47:15,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:47:16,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:47:16,771 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:47:20,440 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023. \n\n### **Learning Focus**\n\n- **Phonics**: \n  - Long "o" spellings\n  - Building sentences with conjunctions\n  - Understanding root words and inflectional endings\n  - Punctuation practice\n  - Reading fluency and comprehension\n\n- **Wit & Wisdom**: \n  - Describing settings and events in *The Korean Cinderella*\n  - Determining the Central Message of *The Korean Cinderella*\n  - Writing opinion paragraphs\n\n- **Math**: \n  - Identifying coins and their values\n  - Counting like sets of coins\n\n- **Science**: \n  - Seed planting and observation\n  - Understanding pollination\n\n### **Important Dates**\n\n- **April 24**: Quarter 4 Progress Reports go home\n- **April 26**: ANE Beautification Day\n- **April 29**: Gentry Farm Field Trip\n\n### **Weekly Spelling Words**\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Note**: The TCAP window starts on Monday, April 14th. \n\n[source: April 21-25.pdf#0]'
2025-06-10 16:47:20,441 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for the week of April 21-25, 2023. 

### **Learning Focus**

- **Phonics**: 
  - Long "o" spellings
  - Building sentences with conjunctions
  - Understanding root words and inflectional endings
  - Punctuation practice
  - Reading fluency and comprehension

- **Wit & Wisdom**: 
  - Describing settings and events in *The Korean Cinderella*
  - Determining the Central Message of *The Korean Cinderella*
  - Writing opinion paragraphs

- **Math**: 
  - Identifying coins and their values
  - Counting like sets of coins

- **Science**: 
  - Seed planting and observation
  - Understanding pollination

### **Important Dates**

- **April 24**: Quarter 4 Progress Reports go home
- **April 26**: ANE Beautification Day
- **April 29**: Gentry Farm Field Trip

### **Weekly Spelling Words**

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Note**: The TCAP window starts on Monday, April 14th. 

[source: April 21-25.pdf#0]
2025-06-10 16:47:20,441 — INFO — app — [STREAM] Completed streaming. Clean text for history: 916 chars
2025-06-10 16:47:20,442 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:48:08,279 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:48:08,280 — INFO — app — [API] Received question: what are the spellling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:48:08,280 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:48:08,280 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:48:08,280 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:48:08,281 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:48:08,324 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:48:08,559 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:48:08,770 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:48:08,842 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:48:08,928 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:48:09,017 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:48:09,018 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:48:09,018 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:48:09,110 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:48:09,112 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:48:09,112 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:48:09,112 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_type": "semantic",
  "created_time": 1749588183.434434,
  "source_type": "pdf",
  "file_type": ".pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "mime": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "mime_type": "application/pdf",
  "source_page": 1,
  "event_id": 484,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "content_type": "unstructured_text",
  "bot_id": 1
}
2025-06-10 16:48:09,112 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:48:09,113 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:48:09,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:48:09,770 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:48:10,386 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:48:11,204 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd  \n[source: April 21-25.pdf#2]'
2025-06-10 16:48:11,205 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd  
[source: April 21-25.pdf#2]
2025-06-10 16:48:11,205 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:48:11,205 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:49:01,204 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:49:01,206 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:49:01,211 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:49:01,211 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:49:01,211 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:49:01,212 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:49:01,319 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:49:01,490 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:49:01,724 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:49:01,815 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:49:02,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:49:02,191 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:49:02,192 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:49:02,193 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:49:02,265 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:49:02,269 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:49:02,269 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:49:02,270 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_index": 0,
  "created_time": 1749588183.434434,
  "event_id": 484,
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "file_name": "April 21-25.pdf",
  "structure_type": "paragraph"
}
2025-06-10 16:49:02,271 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:49:02,271 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:49:03,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:49:03,338 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:49:03,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:49:05,155 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your  \n\n**Test Date**: Wednesday, April 23rd  \n[source: April 21-25.pdf#2]'
2025-06-10 16:49:05,156 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your  

**Test Date**: Wednesday, April 23rd  
[source: April 21-25.pdf#2]
2025-06-10 16:49:05,156 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:49:05,157 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:50:01,050 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:50:01,052 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_double_blank_lines
2025-06-10 16:50:01,053 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:50:01,053 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:50:01,053 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:50:01,054 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:50:01,086 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:50:01,324 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:50:01,557 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:50:01,688 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:50:01,785 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:50:01,885 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:50:01,885 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:50:01,885 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:50:01,976 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:50:01,977 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:50:01,977 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:50:01,977 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "file_name": "April 21-25.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "file_type": ".pdf",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "event_id": 484,
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "source_page": 1,
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434
}
2025-06-10 16:50:01,977 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:50:01,977 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:50:02,005 — INFO — app — [MEMORY] Created new history for session test_double_blank_lines
2025-06-10 16:50:02,281 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:50:02,506 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:50:03,007 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:50:03,862 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:50:03,862 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:50:03,862 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:50:03,863 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:51:40,006 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:51:40,011 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:51:40,015 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:51:40,015 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:51:40,015 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:51:40,016 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:51:40,123 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:51:40,503 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:51:40,721 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:51:40,840 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:51:40,960 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:51:41,076 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:51:41,079 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:51:41,081 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:51:41,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:51:41,240 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:51:41,241 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:51:41,241 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "chunk_index": 0,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "created_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "event_id": 484,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_type": ".pdf",
  "content_type": "unstructured_text"
}
2025-06-10 16:51:41,244 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:51:41,245 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:51:41,892 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:51:42,067 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:51:42,473 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:51:43,539 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your  \n**Test Date**: Wednesday, April 23rd  \n[source: April 21-25.pdf#2]'
2025-06-10 16:51:43,539 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your  
**Test Date**: Wednesday, April 23rd  
[source: April 21-25.pdf#2]
2025-06-10 16:51:43,540 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:51:43,542 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:52:30,111 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:52:30,112 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 16:52:30,112 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:52:30,113 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:52:30,113 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:52:30,113 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:52:30,213 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:52:30,403 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:52:30,583 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:52:30,722 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:52:30,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:52:30,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:52:30,901 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:52:30,901 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:52:30,993 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:52:30,997 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:52:30,998 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:52:30,998 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "chunk_type": "semantic",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf",
  "source_page": 1,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "event_id": 484,
  "file_size": 169878,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "document_id": "w05luy1i13s36yilrhr8qjsp"
}
2025-06-10 16:52:30,998 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:52:30,998 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:52:31,047 — INFO — app — [MEMORY] Created new history for session widget_1749592331904_6owl7p2y0
2025-06-10 16:52:31,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:52:31,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:52:32,258 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:52:33,172 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:52:33,172 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:52:33,172 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:52:33,173 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:53:24,476 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:53:24,476 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_horizontal_rule_fix
2025-06-10 16:53:24,477 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:53:24,477 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:53:24,477 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:53:24,477 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:53:24,519 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:53:24,713 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:53:24,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:53:25,079 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:53:25,213 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:53:25,342 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:53:25,343 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:53:25,343 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:53:25,535 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:53:25,536 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:53:25,536 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:53:25,537 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "source": "April_21_25_7348dffbaa.pdf",
  "content_type": "unstructured_text",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "source_page": 1,
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434,
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_type": ".pdf"
}
2025-06-10 16:53:25,537 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:53:25,537 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:53:25,570 — INFO — app — [MEMORY] Created new history for session test_horizontal_rule_fix
2025-06-10 16:53:25,890 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:53:26,107 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:53:26,487 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:53:27,528 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:53:27,528 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:53:27,528 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:53:27,528 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:53:56,119 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:53:56,119 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_header_sections_fix
2025-06-10 16:53:56,120 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:53:56,120 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:53:56,120 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:53:56,120 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:53:56,156 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:53:56,446 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:53:56,655 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:53:56,767 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:53:56,871 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:53:56,940 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:53:56,941 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:53:56,941 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:53:57,019 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:53:57,022 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:53:57,022 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:53:57,022 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "event_id": 484,
  "source_page": 1,
  "created_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "company_id": 3,
  "structural_density": 0.7010000000000001,
  "chunk_index": 0
}
2025-06-10 16:53:57,022 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:53:57,022 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:53:57,051 — INFO — app — [MEMORY] Created new history for session test_header_sections_fix
2025-06-10 16:53:58,108 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:53:58,271 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:53:58,611 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:53:59,620 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:53:59,620 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:53:59,620 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:53:59,621 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:54:43,282 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:54:43,284 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_preprocessing_fix
2025-06-10 16:54:43,286 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:54:43,286 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:54:43,286 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:54:43,286 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:54:43,321 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:54:43,545 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:54:43,809 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:54:43,910 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:54:44,047 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:54:44,176 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:54:44,177 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:54:44,177 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:54:44,267 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:54:44,269 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:54:44,270 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:54:44,271 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "file_name": "April 21-25.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "event_id": 484,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "bot_id": 1,
  "file_size": 169878,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf"
}
2025-06-10 16:54:44,271 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:54:44,271 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:54:44,300 — INFO — app — [MEMORY] Created new history for session test_preprocessing_fix
2025-06-10 16:54:45,096 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:54:45,321 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:54:45,594 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:54:46,606 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:54:46,606 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:54:46,606 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:54:46,607 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:56:26,063 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:56:26,064 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 16:56:26,066 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:56:26,066 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:56:26,066 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:56:26,066 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:56:26,166 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:56:26,416 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:56:26,616 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:56:26,704 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:56:26,926 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:56:27,024 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:56:27,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:56:27,031 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:56:27,141 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:56:27,146 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:56:27,148 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:56:27,149 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "structure_type": "paragraph",
  "source_page": 1,
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "content_type": "unstructured_text",
  "file_name": "April 21-25.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "file_size": 169878,
  "company_id": 3,
  "mime_type": "application/pdf",
  "modified_time": 1749588183.434434,
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_type": "semantic"
}
2025-06-10 16:56:27,151 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:56:27,151 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:56:27,634 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:56:27,848 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:56:28,523 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:56:30,753 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd  \n[source: April 21-25.pdf#2]'
2025-06-10 16:56:30,753 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd  
[source: April 21-25.pdf#2]
2025-06-10 16:56:30,753 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:56:30,754 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:58:31,450 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:58:31,451 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 16:58:31,452 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:58:31,452 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:58:31,452 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:58:31,453 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:58:31,498 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:58:31,830 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:58:32,056 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:58:32,150 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:58:32,238 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:58:32,445 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:58:32,446 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:58:32,446 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:58:32,577 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:58:32,581 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:58:32,581 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:58:32,581 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "file_type": ".pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "modified_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_page": 1,
  "event_id": 484,
  "source_type": "pdf",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structural_density": 0.7010000000000001,
  "structure_type": "paragraph",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "mime_type": "application/pdf"
}
2025-06-10 16:58:32,581 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:58:32,581 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:58:32,927 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:58:33,123 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:58:34,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:58:36,805 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families.\n\n### **Key Sections**\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\n- **Weekly Spelling Words**: Provides the spelling words for the week along with a tricky word and the test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone during upcoming events.\n\n- **Testing Window Information**: Details protocols for the testing period to ensure a smooth experience.\n\nThis structured format ensures that parents and guardians have easy access to all relevant information.  \n[source: April 21-25.pdf#1]'
2025-06-10 16:58:36,805 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families.

### **Key Sections**

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

- **Weekly Spelling Words**: Provides the spelling words for the week along with a tricky word and the test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone during upcoming events.

- **Testing Window Information**: Details protocols for the testing period to ensure a smooth experience.

This structured format ensures that parents and guardians have easy access to all relevant information.  
[source: April 21-25.pdf#1]
2025-06-10 16:58:36,806 — INFO — app — [STREAM] Completed streaming. Clean text for history: 849 chars
2025-06-10 16:58:36,806 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:59:02,829 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:59:02,831 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_consecutive_bold_fix
2025-06-10 16:59:02,832 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:59:02,833 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:59:02,833 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:59:02,833 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:59:02,872 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:59:03,173 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:59:03,311 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:59:03,402 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:59:03,517 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:59:03,590 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:59:03,594 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:59:03,594 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:59:03,681 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:59:03,685 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:59:03,685 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:59:03,687 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_name": "April 21-25.pdf",
  "file_size": 169878,
  "mime": "application/pdf",
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".pdf",
  "source_page": 1,
  "chunk_type": "semantic",
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "created_time": 1749588183.434434,
  "structure_type": "paragraph"
}
2025-06-10 16:59:03,687 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:59:03,688 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:59:03,738 — INFO — app — [MEMORY] Created new history for session test_consecutive_bold_fix
2025-06-10 16:59:04,183 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:59:04,388 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:59:04,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:59:05,648 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 16:59:05,648 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 16:59:05,649 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:59:05,649 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:02:03,062 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 17:02:07,117 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:02:07,135 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_markdown_parsing
2025-06-10 17:02:07,152 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:02:07,155 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:02:07,160 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:02:07,160 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:02:07,429 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:02:07,925 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:02:08,171 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:02:08,239 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:02:08,311 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:02:08,450 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:02:08,451 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:02:08,452 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:02:08,585 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:02:08,588 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:02:08,588 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:02:08,590 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "file_type": ".pdf",
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source_type": "pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "bot_id": 1,
  "file_size": 169878,
  "chunk_index": 0,
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_type": "semantic",
  "source": "April_21_25_7348dffbaa.pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "created_time": 1749588183.434434
}
2025-06-10 17:02:08,590 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:02:08,590 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:02:08,625 — INFO — app — [MEMORY] Created new history for session test_markdown_parsing
2025-06-10 17:02:09,010 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:02:09,314 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:02:09,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:02:12,460 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. \n\n### **Key Topics**\n\n- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.\n  \n- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.\n\n- **Testing Window Information**: Outlines protocols for the testing period.\n\nThis format ensures that parents and guardians have easy access to relevant information for their children’s education and upcoming activities. [source: April 21-25.pdf#0]'
2025-06-10 17:02:12,460 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. 

### **Key Topics**

- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.
  
- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.

- **Weekly Spelling Words**: Provides a list of spelling words and a test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.

- **Testing Window Information**: Outlines protocols for the testing period.

This format ensures that parents and guardians have easy access to relevant information for their children’s education and upcoming activities. [source: April 21-25.pdf#0]
2025-06-10 17:02:12,462 — INFO — app — [STREAM] Completed streaming. Clean text for history: 725 chars
2025-06-10 17:02:12,463 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:03:01,696 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:03:01,701 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_fixed_markdown_parsing
2025-06-10 17:03:01,702 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:03:01,702 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:03:01,702 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:03:01,702 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:03:01,754 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:03:02,062 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:03:02,252 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:03:02,353 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:03:02,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:03:02,493 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:03:02,494 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:03:02,494 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:03:02,602 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:03:02,604 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:03:02,604 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:03:02,605 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "event_id": 484,
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "structural_density": 0.7010000000000001,
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "chunk_index": 0,
  "source_type": "pdf",
  "source_page": 1,
  "file_type": ".pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "storage_key": "April_21_25_7348dffbaa.pdf"
}
2025-06-10 17:03:02,605 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:03:02,605 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:03:02,645 — INFO — app — [MEMORY] Created new history for session test_fixed_markdown_parsing
2025-06-10 17:03:03,113 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:03:03,275 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:03:03,640 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:03:06,463 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. \n\n### **Key Topics**\n\n- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.\n  \n- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.\n\n- **Testing Window Information**: Outlines protocols for the testing period from April 21-25, 2023. \n\nThis format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]'
2025-06-10 17:03:06,463 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. 

### **Key Topics**

- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.
  
- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.

- **Weekly Spelling Words**: Provides a list of spelling words and a test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.

- **Testing Window Information**: Outlines protocols for the testing period from April 21-25, 2023. 

This format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]
2025-06-10 17:03:06,464 — INFO — app — [STREAM] Completed streaming. Clean text for history: 712 chars
2025-06-10 17:03:06,464 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:03:39,395 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:03:39,397 — INFO — app — [API] Received question: what is this newseletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:03:39,399 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:03:39,399 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:03:39,399 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:03:39,399 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:03:39,463 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:03:39,743 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:03:40,029 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:03:40,160 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:03:40,272 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:03:40,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:03:40,392 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:03:40,393 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:03:40,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:03:40,505 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:03:40,506 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:03:40,507 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "source_page": 1,
  "modified_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "structural_density": 0.7010000000000001,
  "source_type": "pdf",
  "file_type": ".pdf"
}
2025-06-10 17:03:40,508 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:03:40,508 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:03:41,320 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:03:41,580 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:03:41,935 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:03:43,927 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. \n\n### Key Sections\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\n- **Weekly Spelling Words**: Provides the spelling words for the week along with a tricky word and test date.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for parents and guardians. \n\n[source: April 21-25.pdf#1]'
2025-06-10 17:03:43,927 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. 

### Key Sections

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

- **Weekly Spelling Words**: Provides the spelling words for the week along with a tricky word and test date.

This structured format ensures that all relevant details are easily accessible and understandable for parents and guardians. 

[source: April 21-25.pdf#1]
2025-06-10 17:03:43,928 — INFO — app — [STREAM] Completed streaming. Clean text for history: 673 chars
2025-06-10 17:03:43,930 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:04:43,465 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:04:43,465 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_enhanced_preprocessing
2025-06-10 17:04:43,466 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:04:43,466 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:04:43,466 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:04:43,466 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:04:43,501 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:04:43,702 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:04:43,907 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:04:43,974 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:04:44,096 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:04:44,172 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:04:44,174 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:04:44,174 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:04:44,304 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:04:44,307 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:04:44,307 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:04:44,307 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "created_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "file_type": ".pdf",
  "source_type": "pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_size": 169878,
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484,
  "content_type": "unstructured_text",
  "file_name": "April 21-25.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime_type": "application/pdf",
  "bot_id": 1
}
2025-06-10 17:04:44,307 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:04:44,307 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:04:44,337 — INFO — app — [MEMORY] Created new history for session test_enhanced_preprocessing
2025-06-10 17:04:44,710 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:04:44,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:04:45,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:04:47,642 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. \n\n### **Key Topics**\n\n- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.\n  \n- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.\n\n- **Testing Window Information**: Outlines protocols for the testing period.\n\nThis format ensures that parents and guardians have easy access to relevant information for their children’s education and upcoming activities. [source: April 21-25.pdf#0]'
2025-06-10 17:04:47,643 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. 

### **Key Topics**

- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.
  
- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.

- **Weekly Spelling Words**: Provides a list of spelling words and a test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.

- **Testing Window Information**: Outlines protocols for the testing period.

This format ensures that parents and guardians have easy access to relevant information for their children’s education and upcoming activities. [source: April 21-25.pdf#0]
2025-06-10 17:04:47,643 — INFO — app — [STREAM] Completed streaming. Clean text for history: 725 chars
2025-06-10 17:04:47,643 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:05:17,291 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:05:17,292 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:05:17,292 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:05:17,292 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:05:17,292 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:05:17,292 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:05:17,338 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:05:17,542 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:05:17,836 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:05:17,905 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:05:17,990 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:05:18,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:05:18,093 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:05:18,093 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:05:18,224 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:05:18,230 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:05:18,230 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:05:18,230 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "file_size": 169878,
  "content_type": "unstructured_text",
  "source_page": 1,
  "mime": "application/pdf",
  "source_type": "pdf",
  "file_type": ".pdf",
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "timestamp": "2025-06-10T20:45:24.419312",
  "company_id": 3,
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "modified_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "event_id": 484,
  "mime_type": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274"
}
2025-06-10 17:05:18,230 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:05:18,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:05:18,889 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:05:19,042 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:05:19,529 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:05:21,235 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. \n\n### Key Sections\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a tricky word for students to learn.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for parents and guardians. \n\n[source: April 21-25.pdf#1]'
2025-06-10 17:05:21,236 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. 

### Key Sections

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

- **Weekly Spelling Words**: Provides a list of spelling words and a tricky word for students to learn.

This structured format ensures that all relevant details are easily accessible and understandable for parents and guardians. 

[source: April 21-25.pdf#1]
2025-06-10 17:05:21,236 — INFO — app — [STREAM] Completed streaming. Clean text for history: 667 chars
2025-06-10 17:05:21,237 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:06:19,232 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:06:19,232 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_final_list_fix
2025-06-10 17:06:19,233 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:06:19,233 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:06:19,233 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:06:19,233 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:06:19,271 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:06:19,546 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:06:19,854 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:06:19,946 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:06:20,068 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:06:20,201 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:06:20,202 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:06:20,202 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:06:20,303 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:06:20,304 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:06:20,305 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:06:20,305 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "chunk_index": 0,
  "chunk_type": "semantic",
  "bot_id": 1,
  "file_type": ".pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_size": 169878
}
2025-06-10 17:06:20,305 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:06:20,305 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:06:20,497 — INFO — app — [MEMORY] Created new history for session test_final_list_fix
2025-06-10 17:06:22,593 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:06:22,781 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:06:23,216 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:06:25,499 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. \n\n### **Key Topics**\n\n- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.\n  \n- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.\n\n- **Testing Window Information**: Outlines protocols for the testing period from April 21-25, 2023. \n\nThis format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]'
2025-06-10 17:06:25,499 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for first grade students during the week of April 21-25, 2023. 

### **Key Topics**

- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.
  
- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.

- **Weekly Spelling Words**: Provides a list of spelling words and a test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.

- **Testing Window Information**: Outlines protocols for the testing period from April 21-25, 2023. 

This format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]
2025-06-10 17:06:25,499 — INFO — app — [STREAM] Completed streaming. Clean text for history: 712 chars
2025-06-10 17:06:25,499 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:06:56,219 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:06:56,220 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:06:56,221 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:06:56,221 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:06:56,221 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:06:56,221 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:06:56,270 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:06:56,531 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:06:56,819 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:06:57,027 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:06:57,135 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:06:57,236 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:06:57,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:06:57,238 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:06:57,332 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:06:57,334 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:06:57,335 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:06:57,336 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "created_time": 1749588183.434434,
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0,
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "file_type": ".pdf"
}
2025-06-10 17:06:57,336 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:06:57,336 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:06:58,044 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:06:58,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:06:58,752 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:07:01,232 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. \n\n### Key Sections\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\n- **Weekly Spelling Words**: Provides a list of spelling words for the week.\n\nThis structured format ensures that all relevant details are easily accessible and understandable for parents and guardians.  \n[source: April 21-25.pdf#0]'
2025-06-10 17:07:01,232 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. 

### Key Sections

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

- **Weekly Spelling Words**: Provides a list of spelling words for the week.

This structured format ensures that all relevant details are easily accessible and understandable for parents and guardians.  
[source: April 21-25.pdf#0]
2025-06-10 17:07:01,232 — INFO — app — [STREAM] Completed streaming. Clean text for history: 640 chars
2025-06-10 17:07:01,233 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:07:36,844 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:07:36,845 — INFO — app — [API] Received question: whata re the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:07:36,846 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:07:36,846 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:07:36,847 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:07:36,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:07:36,918 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:07:37,080 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:07:37,401 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:07:37,488 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:07:37,565 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:07:37,668 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:07:37,669 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:07:37,669 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:07:37,801 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:07:37,803 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:07:37,803 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:07:37,804 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484,
  "source_page": 1,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "file_type": ".pdf",
  "source_type": "pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_size": 169878,
  "source": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "structural_density": 0.7010000000000001
}
2025-06-10 17:07:37,804 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:07:37,805 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:07:38,327 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:07:38,520 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:07:38,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:07:40,127 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- **Words**: \n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n- **Tricky Word**: your\n\n- **Test Date**: Wednesday, April 23rd\n\n[source: April 21-25.pdf#2]'
2025-06-10 17:07:40,127 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- **Words**: 
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

- **Tricky Word**: your

- **Test Date**: Wednesday, April 23rd

[source: April 21-25.pdf#2]
2025-06-10 17:07:40,127 — INFO — app — [STREAM] Completed streaming. Clean text for history: 172 chars
2025-06-10 17:07:40,128 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:08:03,525 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:08:03,525 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: test_aggressive_list_separation
2025-06-10 17:08:03,526 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:08:03,526 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:08:03,526 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:08:03,526 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:08:03,562 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:08:03,736 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:08:04,009 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:08:04,107 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:08:04,172 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:08:04,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:08:04,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:08:04,251 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:08:04,329 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:08:04,330 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:08:04,330 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:08:04,331 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749588183.434434,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "company_id": 3,
  "event_id": 484,
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "source": "April_21_25_7348dffbaa.pdf"
}
2025-06-10 17:08:04,331 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:08:04,331 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:08:04,360 — INFO — app — [MEMORY] Created new history for session test_aggressive_list_separation
2025-06-10 17:08:04,573 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:08:04,777 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:08:05,061 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:08:07,445 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### **Newsletter Overview**\n\nThe newsletter covers important updates and events for first-grade students during the week of April 21-25, 2023. \n\n### **Key Topics**\n\n- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.\n  \n- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.\n\n- **Weekly Spelling Words**: Provides a list of spelling words and a test date.\n\n- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.\n\n- **Testing Window Information**: Outlines protocols for the testing period.\n\nThis format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]'
2025-06-10 17:08:07,446 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### **Newsletter Overview**

The newsletter covers important updates and events for first-grade students during the week of April 21-25, 2023. 

### **Key Topics**

- **Learning Focus**: Details on phonics, math, science, and Wit & Wisdom activities.
  
- **Important Dates**: Lists significant upcoming events, including progress reports and field trips.

- **Weekly Spelling Words**: Provides a list of spelling words and a test date.

- **Volunteer Information**: Encourages Tier 3 Volunteers to chaperone events.

- **Testing Window Information**: Outlines protocols for the testing period.

This format ensures that parents and guardians have easy access to relevant information for their children. [source: April 21-25.pdf#0]
2025-06-10 17:08:07,446 — INFO — app — [STREAM] Completed streaming. Clean text for history: 689 chars
2025-06-10 17:08:07,447 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:08:37,338 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:08:37,340 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:08:37,341 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:08:37,342 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:08:37,342 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:08:37,342 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:08:37,407 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:08:37,718 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:08:37,959 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:08:38,096 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:08:38,219 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:08:38,295 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:08:38,297 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:08:38,298 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:08:38,377 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:08:38,381 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:08:38,381 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:08:38,382 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "April_21_25_7348dffbaa.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "file_name": "April 21-25.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "chunk_index": 0,
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T20:45:24.419312",
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "source_type": "pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "file_size": 169878,
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 17:08:38,382 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:08:38,383 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:08:39,009 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:08:39,285 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:08:39,784 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:08:42,191 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. \n\n### Key Sections\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\nThis structured format provides a clear overview of the critical information for parents and guardians, ensuring all relevant details are easily accessible and understandable.  \n[source: April 21-25.pdf#1]'
2025-06-10 17:08:42,193 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. 

### Key Sections

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

This structured format provides a clear overview of the critical information for parents and guardians, ensuring all relevant details are easily accessible and understandable.  
[source: April 21-25.pdf#1]
2025-06-10 17:08:42,196 — INFO — app — [STREAM] Completed streaming. Clean text for history: 618 chars
2025-06-10 17:08:42,198 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:09:24,807 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:09:24,809 — INFO — app — [API] Received question: what is this newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:09:24,810 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:09:24,811 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:09:24,811 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:09:24,811 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:09:24,965 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:09:25,155 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:09:25,470 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:09:25,538 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:09:25,666 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:09:25,800 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:09:25,801 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:09:25,801 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:09:25,868 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:09:25,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:09:25,870 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:09:25,870 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "April_21_25_7348dffbaa.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "event_id": 484,
  "chunk_index": 0,
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source_page": 1,
  "chunk_type": "semantic"
}
2025-06-10 17:09:25,870 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:09:25,870 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:09:26,330 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:09:26,757 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:09:27,380 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:09:29,301 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. \n\n### Key Sections\n\n- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.\n\n- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.\n\nThis structured format provides a clear overview of the critical information for parents and guardians, ensuring all relevant details are easily accessible and understandable.  \n[source: April 21-25.pdf#1]'
2025-06-10 17:09:29,301 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The newsletter covers important updates and events for the week of April 21-25, 2023, specifically for first-grade students and their families. 

### Key Sections

- **Learning Focus**: Outlines the phonics, Wit & Wisdom, math, and science topics being taught during the week.

- **Important Dates**: Lists significant upcoming events, including progress reports, field trips, and other school activities.

This structured format provides a clear overview of the critical information for parents and guardians, ensuring all relevant details are easily accessible and understandable.  
[source: April 21-25.pdf#1]
2025-06-10 17:09:29,302 — INFO — app — [STREAM] Completed streaming. Clean text for history: 618 chars
2025-06-10 17:09:29,303 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:09:42,741 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:09:42,741 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:09:42,742 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:09:42,743 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:09:42,743 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:09:42,743 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:09:42,787 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:09:43,012 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:09:43,273 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:09:43,371 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:09:43,507 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:09:43,630 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:09:43,630 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:09:43,630 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:09:43,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:09:43,722 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:09:43,723 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:09:43,723 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_page": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "chunk_index": 0,
  "source": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "source_type": "pdf",
  "bot_id": 1,
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "created_time": 1749588183.434434,
  "structure_type": "paragraph",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878
}
2025-06-10 17:09:43,723 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:09:43,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:09:44,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:09:44,682 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:09:45,112 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:09:46,087 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'## Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Tricky Word**: your\n\n**Test Date**: Wednesday, April 23rd  \n[source: April 21-25.pdf#2]'
2025-06-10 17:09:46,087 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
## Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Tricky Word**: your

**Test Date**: Wednesday, April 23rd  
[source: April 21-25.pdf#2]
2025-06-10 17:09:46,100 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 17:09:46,133 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:10:07,119 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:10:07,120 — INFO — app — [API] Received question: what si the beautification day?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:10:07,121 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:10:07,121 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:10:07,121 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:10:07,121 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:10:07,165 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:10:07,401 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:10:07,612 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:10:07,741 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:10:07,848 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:10:07,929 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:10:07,929 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:10:07,930 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:10:08,106 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:10:08,107 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:10:08,107 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:10:08,107 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "source_page": 1,
  "file_type": ".pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "company_id": 3,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_type": "pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "file_size": 169878,
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "event_id": 484,
  "modified_time": 1749588183.434434,
  "bot_id": 1
}
2025-06-10 17:10:08,107 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:10:08,107 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:10:08,665 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:10:08,989 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:10:09,587 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:10:11,271 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### ANE Beautification Day\n\n- **Date**: April 26, 2023\n- **Time**: 9:00 AM to 11:00 AM\n\nThis event is focused on enhancing the appearance of the school grounds through various activities. Families and volunteers are encouraged to participate. \n\n[source: April 21-25.pdf#1]'
2025-06-10 17:10:11,271 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### ANE Beautification Day

- **Date**: April 26, 2023
- **Time**: 9:00 AM to 11:00 AM

This event is focused on enhancing the appearance of the school grounds through various activities. Families and volunteers are encouraged to participate. 

[source: April 21-25.pdf#1]
2025-06-10 17:10:11,271 — INFO — app — [STREAM] Completed streaming. Clean text for history: 257 chars
2025-06-10 17:10:11,271 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:10:28,472 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:10:28,473 — INFO — app — [API] Received question: where is the field trip?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:10:28,473 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:10:28,473 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:10:28,473 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:10:28,473 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:10:28,506 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:10:28,710 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:10:28,875 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:10:28,946 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:10:29,020 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:10:29,106 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:10:29,107 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:10:29,107 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:10:29,212 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:10:29,213 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:10:29,213 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:10:29,213 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "mime": "application/pdf",
  "source_page": 1,
  "modified_time": 1749588183.434434,
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "file_size": 169878,
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "created_time": 1749588183.434434
}
2025-06-10 17:10:29,214 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:10:29,214 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:10:29,477 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:10:29,660 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:10:30,140 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:10:32,445 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Field Trip Information\n\n- **Destination**: Gentry Farm\n\n- **Date**: April 29, 2023\n\n- **Entrance Information**: Enter by the American Flag and park in the designated lot.\n\n- **Volunteer Information**: \n  - Tier 3 Volunteers are encouraged to chaperone.\n  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site).\n  - Be prepared to show your receipt (screenshot acceptable) upon arrival.\n\n[source: April 21-25.pdf#1]'
2025-06-10 17:10:32,445 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Field Trip Information

- **Destination**: Gentry Farm

- **Date**: April 29, 2023

- **Entrance Information**: Enter by the American Flag and park in the designated lot.

- **Volunteer Information**: 
  - Tier 3 Volunteers are encouraged to chaperone.
  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site).
  - Be prepared to show your receipt (screenshot acceptable) upon arrival.

[source: April 21-25.pdf#1]
2025-06-10 17:10:32,445 — INFO — app — [STREAM] Completed streaming. Clean text for history: 426 chars
2025-06-10 17:10:32,446 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 17:17:03,512 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 17:17:03,516 — INFO — app — [API] Received question: where is the field trip?, company_id: 3, bot_id: 1, session_id: widget_1749592331904_6owl7p2y0
2025-06-10 17:17:03,525 — INFO — app — [BOT] Using mode: qa
2025-06-10 17:17:03,527 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 17:17:03,527 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 17:17:03,528 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:17:03,600 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 17:17:03,966 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 17:17:04,243 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 17:17:04,358 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 17:17:04,492 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:17:04,568 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 17:17:04,569 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 17:17:04,570 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 17:17:04,684 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 17:17:04,686 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 17:17:04,687 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 17:17:04,687 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "event_id": 484,
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "source_type": "pdf",
  "source_page": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "company_id": 3,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "file_name": "April 21-25.pdf",
  "mime_type": "application/pdf",
  "file_size": 169878
}
2025-06-10 17:17:04,688 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 17:17:04,688 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 17:17:06,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 17:17:06,966 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 17:17:07,671 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 17:17:10,408 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Field Trip Information\n\n**Destination**: Gentry Farm  \n\n**Date**: April 29, 2023  \n\n**Entrance Information**: \n- Enter by the American Flag and park in the designated lot.  \n\n**Volunteer Information**: \n- Tier 3 Volunteers are encouraged to chaperone. \n- Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site). \n- Be prepared to show your receipt (screenshot acceptable) upon arrival.  \n\n[source: April 21-25.pdf#1]'
2025-06-10 17:17:10,409 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Field Trip Information

**Destination**: Gentry Farm  

**Date**: April 29, 2023  

**Entrance Information**: 
- Enter by the American Flag and park in the designated lot.  

**Volunteer Information**: 
- Tier 3 Volunteers are encouraged to chaperone. 
- Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site). 
- Be prepared to show your receipt (screenshot acceptable) upon arrival.  

[source: April 21-25.pdf#1]
2025-06-10 17:17:10,411 — INFO — app — [STREAM] Completed streaming. Clean text for history: 420 chars
2025-06-10 17:17:10,413 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-07-08 08:46:35,979 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-08 08:46:36,021 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-08 08:46:36,164 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-08 08:46:37,030 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 404 Not Found"
2025-07-08 08:46:37,031 — ERROR — retriever — [RETRIEVER] Error building retriever: Not Found
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 99, in _raise_chroma_error
    resp.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 106, in get_user_identity
    return self._server.get_user_identity()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 200, in get_user_identity
    return UserIdentity(**self._make_request("get", "/auth/identity"))
                          ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 104, in _raise_chroma_error
    raise (Exception(resp.text))
Exception: Not Found


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 69, in build_retriever
    vectorstore = self.get_chroma_vectorstore(collection_name)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 41, in get_chroma_vectorstore
    client = HttpClient(
        host=parsed.hostname,
    ...<2 lines>...
        settings=Settings(anonymized_telemetry=False)
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/__init__.py", line 241, in HttpClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 70, in __init__
    user_identity = self.get_user_identity()
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 115, in get_user_identity
    raise ValueError(str(e))
ValueError: Not Found

2025-07-08 08:46:37,043 — ERROR — __main__ — Error during testing: Not Found
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 99, in _raise_chroma_error
    resp.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 106, in get_user_identity
    return self._server.get_user_identity()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 200, in get_user_identity
    return UserIdentity(**self._make_request("get", "/auth/identity"))
                          ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 104, in _raise_chroma_error
    raise (Exception(resp.text))
Exception: Not Found


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/test_office_hours.py", line 55, in test_office_hours_retrieval
    retriever = retriever_service.build_retriever(
        company_id=company_id,
    ...<3 lines>...
        use_multi_query=False  # Test direct retrieval first
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 113, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 80, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 69, in build_retriever
    vectorstore = self.get_chroma_vectorstore(collection_name)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 41, in get_chroma_vectorstore
    client = HttpClient(
        host=parsed.hostname,
    ...<2 lines>...
        settings=Settings(anonymized_telemetry=False)
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/__init__.py", line 241, in HttpClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 70, in __init__
    user_identity = self.get_user_identity()
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/client.py", line 115, in get_user_identity
    raise ValueError(str(e))
ValueError: Not Found

2025-07-08 08:46:51,822 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-08 08:47:50,232 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-08 08:48:36,796 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
