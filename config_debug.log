2025-05-13 17:44:02,134 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:04,816 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:13,858 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:45:08,898 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:47:09,658 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:25,110 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:27,289 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:32,158 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:12,353 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:14,623 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:18,531 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:38,268 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:40,507 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:44,663 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:52,037 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,081 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:55,096 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments, Mode: qa
2025-05-13 17:50:55,096 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,111 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:50:55,639 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:50:55,869 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:50:55,941 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:50:56,046 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,133 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,134 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:50:56,134 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "company_id": 1,
  "bot_id": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "event_id": 154,
  "page_number": 1
}
2025-05-13 17:50:56,258 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,278 — INFO — bot — [MEMORY] Created new history for session a721808a-fe06-45d9-a2f6-2dd0e99318ad
2025-05-13 17:50:57,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:57,064 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop and strengthen emotional bonds?  ', 'What techniques can I use to foster attachment in relationships?']
2025-05-13 17:50:58,050 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,189 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:58,827 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,914 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:59,484 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:59,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:51:00,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:00,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:07,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:51:07,348 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:53:54,250 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:53:57,240 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:25,930 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:48,058 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,540 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:48,554 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:54:48,555 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,571 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:54:48,878 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:54:49,074 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:54:49,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:54:49,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,391 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:54:49,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:54:49,503 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "ocr_used": false,
  "company_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "author": "python-docx",
  "page_number": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "section_title": "Section 0"
}
2025-05-13 17:54:49,504 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,523 — INFO — bot — [MEMORY] Created new history for session 144ea97e-38d3-4b01-9f76-2f6f55a3d3b8
2025-05-13 17:54:51,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:51,031 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments in relationships?  ', 'How can I develop deeper emotional connections with others?  ', 'What strategies can I use to strengthen my bonds with people?']
2025-05-13 17:54:51,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,083 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,891 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:53,630 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:53,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:55:00,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:55:00,838 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:56:18,508 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:56:28,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,707 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:28,720 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:56:28,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,734 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:56:29,005 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:56:29,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:56:29,301 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:56:29,415 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,570 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:56:29,571 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,690 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:56:29,694 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "page_number": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "ocr_used": false,
  "section_title": "Section 0",
  "event_id": 154,
  "author": "python-docx",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_index": 0,
  "file_name": "How to Bond Attachments.pdf",
  "company_id": 1
}
2025-05-13 17:56:29,695 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,714 — INFO — bot — [MEMORY] Created new history for session 52a9194b-a7ad-41eb-89b2-c55f3d209860
2025-05-13 17:56:30,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:30,405 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:56:31,255 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:31,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,157 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,367 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,459 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:33,300 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:34,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:39,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:39,829 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:57:28,053 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:30,959 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:37,642 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:46,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:47,250 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:57:47,250 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,264 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:57:47,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:57:47,777 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:57:48,052 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:57:48,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:57:48,237 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "company_id": 1,
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_index": 0,
  "event_id": 154,
  "source_type": "manual_upload",
  "bot_id": 1,
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n"
}
2025-05-13 17:57:48,355 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,371 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 17:57:49,094 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:49,099 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:57:49,817 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:49,980 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:50,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:50,284 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:51,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:51,512 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:52,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:52,872 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:57,683 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:57,685 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:59:58,803 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:00:08,876 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,404 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:09,417 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 18:00:09,417 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,433 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:00:09,788 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:00:09,966 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:00:10,058 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:00:10,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,248 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,249 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:00:10,249 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,375 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_count": 2,
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "event_id": 154,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "company_id": 1,
  "creation_date": "D:20250505171151+00'00'"
}
2025-05-13 18:00:10,384 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,403 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:00:11,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:11,133 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-13 18:00:11,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:11,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,425 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,541 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,942 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:13,476 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:13,898 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:18,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:18,983 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:20:06,914 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:20:27,877 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,670 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:28,684 — INFO — bot — [CLASSIFIER] Question: what kind of composite do i use when bonding attachements?, Mode: qa
2025-05-13 18:20:28,684 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,701 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:20:29,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:20:29,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:20:29,462 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:20:29,655 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,790 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,791 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:20:29,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,912 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:20:29,918 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "ocr_used": false,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_index": 0,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:20:29,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,938 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:20:30,842 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:30,844 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of composite material is best for bonding attachments?  ', 'Which composite should I choose for attaching different components?  ', 'What are the recommended composites for securely bonding attachments?']
2025-05-13 18:20:31,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:32,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:33,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:33,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:34,299 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:34,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:36,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:36,556 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:22:51,849 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:23:05,977 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,415 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:06,426 — INFO — bot — [CLASSIFIER] Question: what all information do you have about bonding attachments?, Mode: qa
2025-05-13 18:23:06,426 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,440 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:23:06,680 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:23:06,870 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:23:06,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:23:07,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,190 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,191 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:23:07,191 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:23:07,312 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "bot_id": 1,
  "mime": "application/pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "company_id": 1,
  "page_count": 2,
  "author": "python-docx",
  "chunk_index": 0
}
2025-05-13 18:23:07,312 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,329 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:23:08,200 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:08,201 — INFO — langchain.retrievers.multi_query — Generated queries: ['What details can you provide regarding bonding attachments?  ', 'Can you share insights or data related to bonding attachments?  ', 'What information is available on the topic of bonding attachments?']
2025-05-13 18:23:08,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,045 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,434 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,811 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:10,224 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:10,677 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:23,059 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:23,062 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:24:27,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:28,381 — INFO — bot — [CLASSIFIER] Question: what do i do if they are missing 10 teeth while bonding attachements?, Mode: qa
2025-05-13 18:24:28,381 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,397 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:24:28,588 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:24:28,831 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:24:28,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:24:29,068 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,184 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,185 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:24:29,185 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:29,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:24:29,297 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 1,
  "page_number": 1,
  "chunk_index": 0,
  "source_type": "manual_upload",
  "page_count": 2,
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:24:29,301 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:30,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,617 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,619 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I take when bonding attachments for a patient with 10 missing teeth?  ', 'How can I effectively bond attachments in cases where a patient has lost 10 teeth?  ', 'What considerations should I keep in mind for bonding attachments in a patient with significant tooth loss (10 missing teeth)?']
2025-05-13 18:24:32,071 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:32,204 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:32,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:33,323 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:33,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:34,004 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:35,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:35,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:36,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:36,133 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:25:16,167 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,545 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:16,547 — INFO — bot — [CLASSIFIER] Question: what percentage phosphorice acid get do i use when bonding attahcments/, Mode: qa
2025-05-13 18:25:16,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,562 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:25:16,734 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:25:16,933 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:25:16,997 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:25:17,086 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,208 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:25:17,208 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,316 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "company_id": 1,
  "file_name": "How to Bond Attachments.pdf",
  "mime": "application/pdf",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "section_title": "Section 0",
  "bot_id": 1,
  "page_number": 1,
  "author": "python-docx",
  "ocr_used": false,
  "event_id": 154,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "page_count": 2
}
2025-05-13 18:25:17,352 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,936 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,184 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended concentration of phosphoric acid gel for bonding attachments?', 'How much phosphoric acid gel is typically used for effective bonding of attachments?', 'What is the ideal percentage of phosphoric acid gel to use when applying attachments?']
2025-05-13 18:25:19,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:19,711 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:20,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:20,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,097 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:24,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:25,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:26,488 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:26,491 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:34:09,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:35:47,135 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:36:05,382 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,084 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:06,099 — INFO — bot — [CLASSIFIER] Question: what sort of bonding agent has to be used?, Mode: qa
2025-05-13 18:36:06,099 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,113 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:06,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:06,793 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:06,880 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:07,012 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:07,092 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,192 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "page_count": 2,
  "company_id": 1,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154,
  "source_type": "manual_upload",
  "chunk_index": 0,
  "section_title": "Section 0",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "bot_id": 1
}
2025-05-13 18:36:07,197 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,219 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:36:08,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:08,291 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of adhesive should be utilized for this application?  ', 'Which bonding material is recommended for this specific purpose?  ', 'What kind of bonding agent is appropriate for this situation?']
2025-05-13 18:36:09,406 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:09,699 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:11,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:12,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:12,480 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:26,960 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,538 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:27,540 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand?, Mode: qa
2025-05-13 18:36:27,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:27,748 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:27,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:28,038 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:28,163 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:28,251 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:28,347 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "page_number": 1,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "page_count": 2,
  "event_id": 154,
  "ocr_used": false,
  "chunk_index": 0,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_name": "How to Bond Attachments.pdf"
}
2025-05-13 18:36:28,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:29,076 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,818 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for this application?  ', '2. Are there specific brands of bonding agents that are required for optimal results?  ', '3. Do I have to use a certain brand of bonding agent, or are there alternatives?']
2025-05-13 18:36:31,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:31,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:32,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:32,879 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:33,692 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:33,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:34,284 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:35,006 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:36,646 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:36,649 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:44,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,011 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:45,013 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand of bonding agent?, Mode: qa
2025-05-13 18:36:45,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,025 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:45,187 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:45,366 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:45,461 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:45,524 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,629 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,631 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:45,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:45,723 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "company_id": 1,
  "bot_id": 1,
  "ocr_used": false,
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "page_count": 2,
  "chunk_index": 0,
  "page_number": 1,
  "event_id": 154,
  "author": "python-docx"
}
2025-05-13 18:36:45,746 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:46,287 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,398 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for my project?  ', '2. Are there specific brands of bonding agents that are recommended or required?  ', '3. Can I use any brand of bonding agent, or do I need to stick to a specific one?']
2025-05-13 18:36:50,700 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:50,813 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:51,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:51,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,209 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:52,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,815 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:53,822 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:54,464 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:54,467 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:16,798 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,127 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:17,130 — INFO — bot — [CLASSIFIER] Question: how do we know if the template is seated correctly?, Mode: qa
2025-05-13 18:37:17,131 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,145 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:37:17,355 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:37:17,510 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:37:17,569 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:37:17,649 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,745 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:37:17,745 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:37:17,871 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "company_id": 1,
  "ocr_used": false,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "page_count": 2,
  "source_type": "manual_upload"
}
2025-05-13 18:37:17,898 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:18,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,240 — INFO — langchain.retrievers.multi_query — Generated queries: ['What methods can we use to verify that the template is properly positioned?  ', 'What steps should we follow to check if the template is aligned correctly?  ', 'How can we assess whether the template has been installed in the correct orientation?']
2025-05-13 18:37:20,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:20,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,750 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,890 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:22,439 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:22,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:24,434 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:24,438 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:58,739 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:00,064 — INFO — bot — [CLASSIFIER] Question: how long do i etch for when bonding attachments?, Mode: qa
2025-05-13 18:38:00,065 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,077 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:38:00,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:38:00,383 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:38:00,469 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:38:00,547 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,619 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:38:00,619 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:38:00,724 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "author": "python-docx",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "event_id": 154,
  "page_count": 2,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "company_id": 1,
  "source_type": "manual_upload"
}
2025-05-13 18:38:00,743 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:01,433 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,699 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,702 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended etching time for bonding dental attachments?  ', 'How long should the etching process be when preparing to bond attachments?  ', 'What is the ideal duration for etching before attaching dental components?']
2025-05-13 18:38:03,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:03,282 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:04,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:04,393 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:05,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:05,290 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:06,143 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:06,551 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:07,533 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:07,534 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:39:59,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:39:59,852 — INFO — bot — [CLASSIFIER] Question: what are the best brands of composite?, Mode: qa
2025-05-13 18:39:59,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,866 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:40:07,011 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:40:07,230 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:40:07,326 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:40:07,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,551 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:40:07,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:07,637 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "file_name": "How to Bond Attachments.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "mime": "application/pdf",
  "source_type": "manual_upload",
  "company_id": 1,
  "chunk_index": 0,
  "page_count": 2,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154
}
2025-05-13 18:40:07,641 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:08,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,160 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,165 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the top-rated composite brands available in the market?  ', 'Which brands are considered the leading manufacturers of composite materials?  ', 'Can you list some of the most reputable composite brands?']
2025-05-13 18:40:09,637 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:09,788 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:10,015 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:10,117 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:11,688 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:11,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:12,918 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:13,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:14,761 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:14,763 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:02:26,708 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:03:29,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:30,209 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-14 07:03:30,210 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,225 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 07:03:30,655 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 07:03:30,857 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 07:03:30,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 07:03:31,039 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,125 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,127 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 07:03:31,127 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,266 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 07:03:31,271 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "mime": "application/pdf",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "bot_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "section_title": "Section 0",
  "company_id": 1,
  "ocr_used": false,
  "page_count": 2,
  "author": "python-docx"
}
2025-05-14 07:03:31,272 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,290 — INFO — bot — [MEMORY] Created new history for session web-028ed72b-33a6-4073-9afe-e19b1290d21a
2025-05-14 07:03:33,020 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:33,022 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-14 07:03:37,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:37,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,281 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,651 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:39,140 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:39,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:46,503 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:46,506 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:09:41,513 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:11:23,361 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:29:52,495 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:36:42,258 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:54,784 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:57,496 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 08:54:52,922 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:11:45,596 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:21:20,804 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:25:50,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:28:15,577 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:43:13,304 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:48:05,379 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:51:38,109 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:01:01,202 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:03:07,212 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:35:11,182 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:12:01,875 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:13:19,653 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:24:50,720 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:51,796 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:24:51,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,821 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:24:52,475 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:24:52,654 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:24:52,740 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:24:52,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,933 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,935 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:24:52,935 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,043 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "event_id": 190,
  "author": "Marty Bremer",
  "company_id": 3,
  "file_name": "Lucas Offices.pdf",
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:24:53,047 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,074 — INFO — bot — [MEMORY] Created new history for session web-0ff5cc6c-5f81-4589-9a01-54953af23929
2025-05-14 19:24:54,034 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:54,036 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:24:56,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,008 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,515 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,708 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:58,147 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:59,036 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:59,038 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:25:33,901 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:34,559 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:25:34,559 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,582 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:25:34,739 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:25:34,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:25:34,996 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:25:35,104 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,237 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,238 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:25:35,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,362 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 3,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "event_id": 190,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "source_type": "manual_upload",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "ocr_used": false,
  "file_name": "Lucas Offices.pdf",
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer"
}
2025-05-14 19:25:35,363 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,385 — INFO — bot — [MEMORY] Created new history for session web-7648e299-ba77-4b56-8fc7-8450afa3f31e
2025-05-14 19:25:36,320 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:36,322 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:25:37,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:37,521 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,171 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,276 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,643 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:39,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:39,228 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:27:21,853 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:27:29,690 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,265 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:31,275 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:31,275 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,298 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:31,555 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:31,738 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:31,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:31,931 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:32,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "mime": "application/pdf",
  "page_number": 1,
  "event_id": 190,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer",
  "bot_id": 1,
  "creation_date": "D:20250514213157+00'00'",
  "chunk_index": 0,
  "ocr_used": false,
  "company_id": 3,
  "page_count": 3
}
2025-05-14 19:27:32,118 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,145 — INFO — bot — [MEMORY] Created new history for session web-821a284f-27db-4c16-9a28-bde3d38d17c6
2025-05-14 19:27:33,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:33,128 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'Can you tell me when the Brentwood office starts operating?  ', 'At what time does the Brentwood office begin its services?']
2025-05-14 19:27:33,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:34,022 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:34,049 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
2025-05-14 19:27:45,989 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:46,315 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:46,315 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,337 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:46,628 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:46,856 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:46,939 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:47,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,136 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,137 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:47,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:47,234 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "creation_date": "D:20250514213157+00'00'",
  "company_id": 3,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "bot_id": 1,
  "page_number": 1,
  "mime": "application/pdf",
  "event_id": 190,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "author": "Marty Bremer",
  "ocr_used": false,
  "section_title": "Section 0",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:27:47,235 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,259 — INFO — bot — [MEMORY] Created new history for session web-3fe6ac9a-30bb-496d-b63c-0fd645f8d085
2025-05-14 19:27:48,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:48,561 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:27:49,268 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:49,448 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:49,463 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
