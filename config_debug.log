2025-05-13 17:44:02,134 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:04,816 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:44:13,858 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:45:08,898 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:47:09,658 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:25,110 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:27,289 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:48:32,158 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:12,353 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:14,623 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:49:18,531 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:38,268 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:40,507 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:44,663 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:50:52,037 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,081 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:55,096 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments, Mode: qa
2025-05-13 17:50:55,096 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:55,111 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:50:55,639 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:50:55,869 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:50:55,941 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:50:56,046 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,133 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:50:56,134 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:50:56,134 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:50:56,257 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:50:56,258 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "company_id": 1,
  "bot_id": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "event_id": 154,
  "page_number": 1
}
2025-05-13 17:50:56,258 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:50:56,278 — INFO — bot — [MEMORY] Created new history for session a721808a-fe06-45d9-a2f6-2dd0e99318ad
2025-05-13 17:50:57,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:50:57,064 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop and strengthen emotional bonds?  ', 'What techniques can I use to foster attachment in relationships?']
2025-05-13 17:50:58,050 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,189 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:58,827 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:58,914 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:50:59,484 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:50:59,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:51:00,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:00,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:51:07,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:51:07,348 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:53:54,250 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:53:57,240 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:25,930 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:54:48,058 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,540 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:48,554 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:54:48,555 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:48,571 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:54:48,878 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:54:49,074 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:54:49,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:54:49,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:54:49,391 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:54:49,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:54:49,503 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:54:49,504 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 2,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "ocr_used": false,
  "company_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "author": "python-docx",
  "page_number": 1,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "section_title": "Section 0"
}
2025-05-13 17:54:49,504 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:54:49,523 — INFO — bot — [MEMORY] Created new history for session 144ea97e-38d3-4b01-9f76-2f6f55a3d3b8
2025-05-13 17:54:51,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:54:51,031 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments in relationships?  ', 'How can I develop deeper emotional connections with others?  ', 'What strategies can I use to strengthen my bonds with people?']
2025-05-13 17:54:51,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,083 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:52,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:52,891 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:54:53,630 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:54:53,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:55:00,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:55:00,838 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:56:18,508 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:56:28,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,707 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:28,720 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:56:28,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:28,734 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:56:29,005 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:56:29,177 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:56:29,301 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:56:29,415 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:56:29,570 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:56:29,571 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,690 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:56:29,694 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:56:29,695 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "page_number": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "ocr_used": false,
  "section_title": "Section 0",
  "event_id": 154,
  "author": "python-docx",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_index": 0,
  "file_name": "How to Bond Attachments.pdf",
  "company_id": 1
}
2025-05-13 17:56:29,695 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:56:29,714 — INFO — bot — [MEMORY] Created new history for session 52a9194b-a7ad-41eb-89b2-c55f3d209860
2025-05-13 17:56:30,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:30,405 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:56:31,255 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:31,390 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,157 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:32,367 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:32,459 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:56:33,300 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:34,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:56:39,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:56:39,829 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:57:28,053 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:30,959 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:37,642 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 17:57:46,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:47,250 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 17:57:47,250 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:47,264 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 17:57:47,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 17:57:47,777 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 17:57:48,052 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 17:57:48,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 17:57:48,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 17:57:48,237 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 17:57:48,354 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "company_id": 1,
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_index": 0,
  "event_id": 154,
  "source_type": "manual_upload",
  "bot_id": 1,
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n"
}
2025-05-13 17:57:48,355 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 17:57:48,371 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 17:57:49,094 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:49,099 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for creating strong attachments?  ', 'How can I develop deeper emotional bonds with others?  ', 'What strategies can I use to strengthen my relationships and attachments?']
2025-05-13 17:57:49,817 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:49,980 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:50,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:50,284 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:51,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:51,512 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 17:57:52,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:52,872 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 17:57:57,683 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 17:57:57,685 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 17:59:58,803 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:00:08,876 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,404 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:09,417 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-13 18:00:09,417 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:09,433 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:00:09,788 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:00:09,966 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:00:10,058 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:00:10,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,248 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:00:10,249 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:00:10,249 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,375 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:00:10,383 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:00:10,384 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "author": "python-docx",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_count": 2,
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "event_id": 154,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "company_id": 1,
  "creation_date": "D:20250505171151+00'00'"
}
2025-05-13 18:00:10,384 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:00:10,403 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:00:11,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:11,133 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-13 18:00:11,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:11,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,425 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,541 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:12,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:12,942 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:00:13,476 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:13,898 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:00:18,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:00:18,983 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:20:06,914 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:20:27,877 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,670 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:28,684 — INFO — bot — [CLASSIFIER] Question: what kind of composite do i use when bonding attachements?, Mode: qa
2025-05-13 18:20:28,684 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:28,701 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:20:29,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:20:29,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:20:29,462 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:20:29,655 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,790 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:20:29,791 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:20:29,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,912 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:20:29,917 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:20:29,918 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "ocr_used": false,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "source_type": "manual_upload",
  "page_count": 2,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_index": 0,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:20:29,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:20:29,938 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:20:30,842 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:30,844 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of composite material is best for bonding attachments?  ', 'Which composite should I choose for attaching different components?  ', 'What are the recommended composites for securely bonding attachments?']
2025-05-13 18:20:31,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:32,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:32,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:33,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:33,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:20:34,299 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:34,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:20:36,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:20:36,556 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:22:51,849 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:23:05,977 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,415 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:06,426 — INFO — bot — [CLASSIFIER] Question: what all information do you have about bonding attachments?, Mode: qa
2025-05-13 18:23:06,426 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:06,440 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:23:06,680 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:23:06,870 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:23:06,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:23:07,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,190 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:23:07,191 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:23:07,191 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:23:07,311 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:23:07,312 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "event_id": 154,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "bot_id": 1,
  "mime": "application/pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "company_id": 1,
  "page_count": 2,
  "author": "python-docx",
  "chunk_index": 0
}
2025-05-13 18:23:07,312 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:23:07,329 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:23:08,200 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:08,201 — INFO — langchain.retrievers.multi_query — Generated queries: ['What details can you provide regarding bonding attachments?  ', 'Can you share insights or data related to bonding attachments?  ', 'What information is available on the topic of bonding attachments?']
2025-05-13 18:23:08,926 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,045 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,434 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:09,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:09,811 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:23:10,224 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:10,677 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:23:23,059 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:23:23,062 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:24:27,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:28,381 — INFO — bot — [CLASSIFIER] Question: what do i do if they are missing 10 teeth while bonding attachements?, Mode: qa
2025-05-13 18:24:28,381 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:28,397 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:24:28,588 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:24:28,831 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:24:28,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:24:29,068 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,184 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:24:29,185 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:24:29,185 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:29,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:24:29,296 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:24:29,297 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 1,
  "page_number": 1,
  "chunk_index": 0,
  "source_type": "manual_upload",
  "page_count": 2,
  "ocr_used": false,
  "creation_date": "D:20250505171151+00'00'",
  "file_name": "How to Bond Attachments.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "author": "python-docx",
  "event_id": 154
}
2025-05-13 18:24:29,301 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:24:30,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,617 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:31,619 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I take when bonding attachments for a patient with 10 missing teeth?  ', 'How can I effectively bond attachments in cases where a patient has lost 10 teeth?  ', 'What considerations should I keep in mind for bonding attachments in a patient with significant tooth loss (10 missing teeth)?']
2025-05-13 18:24:32,071 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:32,204 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:32,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:33,323 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:33,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:34,004 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:24:35,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:35,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:24:36,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:24:36,133 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:25:16,167 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,545 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:16,547 — INFO — bot — [CLASSIFIER] Question: what percentage phosphorice acid get do i use when bonding attahcments/, Mode: qa
2025-05-13 18:25:16,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:16,562 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:25:16,734 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:25:16,933 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:25:16,997 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:25:17,086 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:25:17,208 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:25:17,208 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,316 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:25:17,319 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "company_id": 1,
  "file_name": "How to Bond Attachments.pdf",
  "mime": "application/pdf",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "section_title": "Section 0",
  "bot_id": 1,
  "page_number": 1,
  "author": "python-docx",
  "ocr_used": false,
  "event_id": 154,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "page_count": 2
}
2025-05-13 18:25:17,352 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:25:17,936 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:19,184 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended concentration of phosphoric acid gel for bonding attachments?', 'How much phosphoric acid gel is typically used for effective bonding of attachments?', 'What is the ideal percentage of phosphoric acid gel to use when applying attachments?']
2025-05-13 18:25:19,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:19,711 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:20,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:20,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,097 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:24,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:25:24,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:25,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:25:26,488 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:25:26,491 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:34:09,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:35:47,135 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-13 18:36:05,382 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,084 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:06,099 — INFO — bot — [CLASSIFIER] Question: what sort of bonding agent has to be used?, Mode: qa
2025-05-13 18:36:06,099 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:06,113 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:06,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:06,793 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:06,880 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:07,012 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:07,092 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:07,092 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,192 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:07,196 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:07,197 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "mime": "application/pdf",
  "page_count": 2,
  "company_id": 1,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154,
  "source_type": "manual_upload",
  "chunk_index": 0,
  "section_title": "Section 0",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "bot_id": 1
}
2025-05-13 18:36:07,197 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:07,219 — INFO — bot — [MEMORY] Created new history for session web-session
2025-05-13 18:36:08,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:08,291 — INFO — langchain.retrievers.multi_query — Generated queries: ['What type of adhesive should be utilized for this application?  ', 'Which bonding material is recommended for this specific purpose?  ', 'What kind of bonding agent is appropriate for this situation?']
2025-05-13 18:36:09,406 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:09,699 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:10,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:10,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:11,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:12,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:12,480 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:26,960 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,538 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:27,540 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand?, Mode: qa
2025-05-13 18:36:27,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:27,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:27,748 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:27,945 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:28,038 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:28,163 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:28,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:28,251 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:28,347 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:28,350 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:28,351 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "page_number": 1,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "company_id": 1,
  "page_count": 2,
  "event_id": 154,
  "ocr_used": false,
  "chunk_index": 0,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "mime": "application/pdf",
  "file_name": "How to Bond Attachments.pdf"
}
2025-05-13 18:36:28,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:29,076 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:30,818 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for this application?  ', '2. Are there specific brands of bonding agents that are required for optimal results?  ', '3. Do I have to use a certain brand of bonding agent, or are there alternatives?']
2025-05-13 18:36:31,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:31,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:32,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:32,879 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:33,692 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:33,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:34,284 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:35,006 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:36,646 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:36,649 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:36:44,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,011 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:45,013 — INFO — bot — [CLASSIFIER] Question: does there have to be a specific brand of bonding agent?, Mode: qa
2025-05-13 18:36:45,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,025 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:36:45,187 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:36:45,366 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:36:45,461 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:36:45,524 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,629 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:36:45,631 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:36:45,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:45,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:36:45,723 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:36:45,724 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "manual_upload",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "creation_date": "D:20250505171151+00'00'",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "company_id": 1,
  "bot_id": 1,
  "ocr_used": false,
  "file_name": "How to Bond Attachments.pdf",
  "section_title": "Section 0",
  "page_count": 2,
  "chunk_index": 0,
  "page_number": 1,
  "event_id": 154,
  "author": "python-docx"
}
2025-05-13 18:36:45,746 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:36:46,287 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:50,398 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Is it necessary to use a particular brand of bonding agent for my project?  ', '2. Are there specific brands of bonding agents that are recommended or required?  ', '3. Can I use any brand of bonding agent, or do I need to stick to a specific one?']
2025-05-13 18:36:50,700 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:50,813 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:51,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:51,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,209 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:52,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:36:52,815 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:53,822 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:36:54,464 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:36:54,467 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:16,798 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,127 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:17,130 — INFO — bot — [CLASSIFIER] Question: how do we know if the template is seated correctly?, Mode: qa
2025-05-13 18:37:17,131 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,145 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:37:17,355 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:37:17,510 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:37:17,569 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:37:17,649 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:37:17,745 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:37:17,745 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:17,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:37:17,870 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:37:17,871 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "company_id": 1,
  "ocr_used": false,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "author": "python-docx",
  "creation_date": "D:20250505171151+00'00'",
  "page_count": 2,
  "source_type": "manual_upload"
}
2025-05-13 18:37:17,898 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:37:18,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:20,240 — INFO — langchain.retrievers.multi_query — Generated queries: ['What methods can we use to verify that the template is properly positioned?  ', 'What steps should we follow to check if the template is aligned correctly?  ', 'How can we assess whether the template has been installed in the correct orientation?']
2025-05-13 18:37:20,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:20,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:21,750 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:21,890 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:37:22,439 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:22,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:37:24,434 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:37:24,438 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:37:58,739 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:00,064 — INFO — bot — [CLASSIFIER] Question: how long do i etch for when bonding attachments?, Mode: qa
2025-05-13 18:38:00,065 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,077 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:38:00,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:38:00,383 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:38:00,469 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:38:00,547 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:38:00,619 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:38:00,619 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:00,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:38:00,724 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:38:00,725 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "mime": "application/pdf",
  "section_title": "Section 0",
  "creation_date": "D:20250505171151+00'00'",
  "author": "python-docx",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "bot_id": 1,
  "event_id": 154,
  "page_count": 2,
  "page_number": 1,
  "file_name": "How to Bond Attachments.pdf",
  "ocr_used": false,
  "company_id": 1,
  "source_type": "manual_upload"
}
2025-05-13 18:38:00,743 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:38:01,433 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,699 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:02,702 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the recommended etching time for bonding dental attachments?  ', 'How long should the etching process be when preparing to bond attachments?  ', 'What is the ideal duration for etching before attaching dental components?']
2025-05-13 18:38:03,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:03,282 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:04,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:04,393 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:05,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:05,290 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:38:06,143 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:06,551 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:38:07,533 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:38:07,534 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-13 18:39:59,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:39:59,852 — INFO — bot — [CLASSIFIER] Question: what are the best brands of composite?, Mode: qa
2025-05-13 18:39:59,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:39:59,866 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-13 18:40:07,011 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-13 18:40:07,230 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-13 18:40:07,326 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-13 18:40:07,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-13 18:40:07,551 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-13 18:40:07,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:07,637 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-13 18:40:07,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "author": "python-docx",
  "file_name": "How to Bond Attachments.pdf",
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "mime": "application/pdf",
  "source_type": "manual_upload",
  "company_id": 1,
  "chunk_index": 0,
  "page_count": 2,
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "section_title": "Section 0",
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "page_number": 1,
  "bot_id": 1,
  "creation_date": "D:20250505171151+00'00'",
  "ocr_used": false,
  "event_id": 154
}
2025-05-13 18:40:07,641 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-13 18:40:08,124 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,160 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:09,165 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the top-rated composite brands available in the market?  ', 'Which brands are considered the leading manufacturers of composite materials?  ', 'Can you list some of the most reputable composite brands?']
2025-05-13 18:40:09,637 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:09,788 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:10,015 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:10,117 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:11,688 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:11,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-13 18:40:12,918 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:13,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-13 18:40:14,761 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 18:40:14,763 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:02:26,708 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:03:29,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:30,209 — INFO — bot — [CLASSIFIER] Question: how do i bond attachments?, Mode: qa
2025-05-14 07:03:30,210 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:30,225 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 07:03:30,655 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 07:03:30,857 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 07:03:30,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 07:03:31,039 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,125 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 07:03:31,127 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 07:03:31,127 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,266 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 07:03:31,271 — INFO — retriever — [RETRIEVER] Initialized BM25 with 35 documents
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 07:03:31,272 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "How to Bond Attachments.pdf",
  "page_number": 1,
  "mime": "application/pdf",
  "creation_date": "D:20250505171151+00'00'",
  "chunk_index": 0,
  "event_id": 154,
  "file_document_id": "hp6zawg0gx74en0uttdj774n",
  "storage_key": "7efdb25edb07b6e11d84b98680170061b81124b8e68c355f8f16aee864abdfe6.pdf",
  "bot_id": 1,
  "chunk_id": "ee91e1c6-b2d3-4a64-b61a-8c6db5e4186c",
  "source_type": "manual_upload",
  "section_title": "Section 0",
  "company_id": 1,
  "ocr_used": false,
  "page_count": 2,
  "author": "python-docx"
}
2025-05-14 07:03:31,272 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 07:03:31,290 — INFO — bot — [MEMORY] Created new history for session web-028ed72b-33a6-4073-9afe-e19b1290d21a
2025-05-14 07:03:33,020 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:33,022 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are effective methods for strengthening emotional attachments?  ', 'How can I create deeper connections with my attachments?  ', 'What strategies can I use to enhance the bonding process with my attachments?']
2025-05-14 07:03:37,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:37,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,281 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:38,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:38,651 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 07:03:39,140 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:39,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 07:03:46,503 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 07:03:46,506 — INFO — bot — [RETRIEVAL] Sources: ['How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'How to Bond Attachments.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf', 'Modified_Schedule_2_3_2025_11_33_49_AM_0efcb30c5f.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 07:09:41,513 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:11:23,361 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:29:52,495 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:36:42,258 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:54,784 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 07:56:57,496 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 08:54:52,922 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:11:45,596 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:21:20,804 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:25:50,441 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:28:15,577 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:43:13,304 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:48:05,379 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 09:51:38,109 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:01:01,202 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:03:07,212 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 12:35:11,182 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:12:01,875 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 17:13:19,653 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:24:50,720 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:51,796 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:24:51,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:51,821 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:24:52,475 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:24:52,654 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:24:52,740 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:24:52,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,933 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:24:52,935 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:24:52,935 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,043 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:24:53,046 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:24:53,047 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "bot_id": 1,
  "section_title": "Section 0",
  "ocr_used": false,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "event_id": 190,
  "author": "Marty Bremer",
  "company_id": 3,
  "file_name": "Lucas Offices.pdf",
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:24:53,047 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:24:53,074 — INFO — bot — [MEMORY] Created new history for session web-0ff5cc6c-5f81-4589-9a01-54953af23929
2025-05-14 19:24:54,034 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:54,036 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:24:56,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,008 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,515 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:57,708 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:57,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:24:58,147 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:24:59,036 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:24:59,038 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:25:33,901 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:34,559 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:25:34,559 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:34,582 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:25:34,739 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:25:34,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:25:34,996 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:25:35,104 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,237 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:25:35,238 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:25:35,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,362 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:25:35,362 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:25:35,363 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "page_count": 3,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "creation_date": "D:20250514213157+00'00'",
  "page_number": 1,
  "event_id": 190,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "source_type": "manual_upload",
  "bot_id": 1,
  "section_title": "Section 0",
  "mime": "application/pdf",
  "ocr_used": false,
  "file_name": "Lucas Offices.pdf",
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer"
}
2025-05-14 19:25:35,363 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:25:35,385 — INFO — bot — [MEMORY] Created new history for session web-7648e299-ba77-4b56-8fc7-8450afa3f31e
2025-05-14 19:25:36,320 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:36,322 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:25:37,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:37,521 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,171 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,276 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:38,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:25:38,643 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 200 OK"
2025-05-14 19:25:39,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:25:39,228 — INFO — bot — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-05-14 19:27:21,853 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-05-14 19:27:29,690 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,265 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:31,275 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:31,275 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:31,298 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:31,555 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:31,738 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:31,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:31,931 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:32,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:32,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,115 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:32,117 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:32,118 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "section_title": "Section 0",
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "mime": "application/pdf",
  "page_number": 1,
  "event_id": 190,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349",
  "author": "Marty Bremer",
  "bot_id": 1,
  "creation_date": "D:20250514213157+00'00'",
  "chunk_index": 0,
  "ocr_used": false,
  "company_id": 3,
  "page_count": 3
}
2025-05-14 19:27:32,118 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:32,145 — INFO — bot — [MEMORY] Created new history for session web-821a284f-27db-4c16-9a28-bde3d38d17c6
2025-05-14 19:27:33,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:33,128 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'Can you tell me when the Brentwood office starts operating?  ', 'At what time does the Brentwood office begin its services?']
2025-05-14 19:27:33,812 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:34,022 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:34,049 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
2025-05-14 19:27:45,989 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:46,315 — INFO — bot — [CLASSIFIER] Question: what time does the brentwood office opeN?, Mode: qa
2025-05-14 19:27:46,315 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:46,337 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-05-14 19:27:46,628 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-05-14 19:27:46,856 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-05-14 19:27:46,939 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-05-14 19:27:47,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,136 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-05-14 19:27:47,137 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-05-14 19:27:47,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/get "HTTP/1.1 200 OK"
2025-05-14 19:27:47,234 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-05-14 19:27:47,235 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "creation_date": "D:20250514213157+00'00'",
  "company_id": 3,
  "file_document_id": "f328fro1fernr7k0ekxr6jqe",
  "bot_id": 1,
  "page_number": 1,
  "mime": "application/pdf",
  "event_id": 190,
  "storage_key": "Lucas_Offices_826788fe89.pdf",
  "author": "Marty Bremer",
  "ocr_used": false,
  "section_title": "Section 0",
  "chunk_index": 0,
  "source_type": "manual_upload",
  "file_name": "Lucas Offices.pdf",
  "page_count": 3,
  "chunk_id": "5bf169f8-4280-4866-b369-3565a5978349"
}
2025-05-14 19:27:47,235 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-05-14 19:27:47,259 — INFO — bot — [MEMORY] Created new history for session web-3fe6ac9a-30bb-496d-b63c-0fd645f8d085
2025-05-14 19:27:48,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-14 19:27:48,561 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the opening hours for the Brentwood office?  ', 'When does the Brentwood office start its operations for the day?  ', 'Can you tell me the opening time of the Brentwood office?']
2025-05-14 19:27:49,268 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-14 19:27:49,448 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/2445246f-639c-4de6-81ef-0ecaf8dcbc9b/query "HTTP/1.1 400 Bad Request"
2025-05-14 19:27:49,463 — ERROR — bot — [BOT] Error processing question: Collection expecting embedding with dimension of 1536, got 3072
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/bot.py", line 190, in ask_question
    result = await asyncio.to_thread(
             ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3034, in invoke
    input = context.run(step.invoke, input, config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4757, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1930, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 4626, in _invoke
    output = output.invoke(
        input,
    ...<4 lines>...
        ),
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5416, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 167, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 159, in _call
    docs = self._get_docs(new_question, inputs, run_manager=_run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/chains/conversational_retrieval/base.py", line 396, in _get_docs
    docs = self.retriever.invoke(
        question, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/contextual_compression.py", line 44, in _get_relevant_documents
    docs = self.base_retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 114, in invoke
    raise e
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 111, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/ensemble.py", line 219, in rank_fusion
    retriever.invoke(
    ~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<2 lines>...
        ),
        ^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 172, in _get_relevant_documents
    documents = self.retrieve_documents(queries, run_manager)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain/retrievers/multi_query.py", line 210, in retrieve_documents
    docs = self.retriever.invoke(
        query, config={"callbacks": run_manager.get_child()}
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/retrievers.py", line 258, in invoke
    result = self._get_relevant_documents(
        input, run_manager=run_manager, **_kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/vectorstores/base.py", line 1079, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **_kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 350, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
        query, k, filter=filter, **kwargs
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 440, in similarity_search_with_score
    results = self.__query_collection(
        query_embeddings=[query_embedding],
    ...<3 lines>...
        **kwargs,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_core/utils/utils.py", line 54, in wrapper
    return func(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/vectorstores/chroma.py", line 157, in __query_collection
    return self._collection.query(
           ~~~~~~~~~~~~~~~~~~~~~~^
        query_texts=query_texts,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 221, in query
    query_results = self._client._query(
        collection_id=self.id,
    ...<7 lines>...
        database=self.database,
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 150, in wrapper
    return f(*args, **kwargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 603, in _query
    resp_json = self._make_request(
        "post",
    ...<10 lines>...
        },
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/fastapi.py", line 106, in _make_request
    BaseHTTPClient._raise_chroma_error(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/chromadb/api/base_http_client.py", line 96, in _raise_chroma_error
    raise chroma_error
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 1536, got 3072
2025-06-09 09:45:09,072 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:45:09,085 — INFO — __main__ — Testing retrieval for: 'who is Jennifer Franklin'
2025-06-09 09:45:09,085 — INFO — __main__ — Company ID: 3, Bot ID: 1
2025-06-09 09:45:09,085 — INFO — __main__ — ✅ CHROMA_URL: https://knowledge-bot-chroma.onrender.com
2025-06-09 09:45:09,085 — INFO — __main__ — ✅ OPENAI_API_KEY: *************************************************************************************************************************************************************2CrsY9kLQA
2025-06-09 09:45:09,085 — INFO — __main__ — 🔄 Initializing RetrieverService...
2025-06-09 09:45:09,085 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:09,223 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:45:09,223 — INFO — __main__ — 🔄 Building retriever...
2025-06-09 09:45:09,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:10,106 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:10,192 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:10,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:10,570 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:10,570 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:45:10,571 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:10,729 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:45:10,732 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "modified_time": 1749478239.9438937,
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "event_id": 432
}
2025-06-09 09:45:10,732 — INFO — __main__ — 🔄 Testing retrieval...
2025-06-09 09:45:12,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:45:12,470 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is she known for in her field?']
2025-06-09 09:45:13,302 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:13,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:14,006 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:14,140 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:14,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:14,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:15,053 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:15,282 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:15,331 — INFO — __main__ — 📊 Retrieved 0 documents
2025-06-09 09:45:15,331 — WARNING — __main__ — ⚠️  No documents retrieved! This explains why the bot can't answer.
2025-06-09 09:45:15,331 — INFO — __main__ — 🔄 Testing vectorstore directly...
2025-06-09 09:45:15,500 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:15,712 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:15,799 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:15,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:15,942 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:16,102 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:45:16,103 — INFO — __main__ — 📊 Total documents in collection for company_id=3, bot_id=1: 2
2025-06-09 09:45:16,103 — INFO — __main__ — 📄 Sample document metadata:
2025-06-09 09:45:16,103 — INFO — __main__ —   Document 1: {'created_time': 1749478239.9448938, 'source_page': 1, 'mime_type': 'application/pdf', 'structure_type': 'paragraph', 'timestamp': '2025-06-09T14:10:53.351471', 'file_size': 372750, 'source': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'event_id': 432, 'content_type': 'unstructured_text', 'source_type': 'pdf', 'chunk_index': 0, 'file_name': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf', 'company_id': 3, 'document_id': 'i2ud14ezv2szsrfcc62kr73s', 'chunk_type': 'semantic', 'bot_id': 1, 'storage_key': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'modified_time': 1749478239.9438937, 'file_type': '.pdf', 'mime': 'application/pdf'}
2025-06-09 09:45:16,103 — INFO — __main__ —   Document 2: {'storage_key': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'source': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf', 'content_type': 'unstructured_text', 'event_id': 432, 'modified_time': 1749478239.9438937, 'chunk_type': 'semantic', 'company_id': 3, 'file_type': '.pdf', 'created_time': 1749478239.9448938, 'source_type': 'pdf', 'bot_id': 1, 'mime': 'application/pdf', 'timestamp': '2025-06-09T14:10:53.351491', 'document_id': 'i2ud14ezv2szsrfcc62kr73s', 'mime_type': 'application/pdf', 'structure_type': 'paragraph', 'file_size': 372750, 'chunk_index': 1, 'source_page': 1, 'file_name': 'Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf'}
2025-06-09 09:45:16,104 — INFO — __main__ — 🔄 Testing similarity search without retriever...
2025-06-09 09:45:16,504 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:16,759 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:45:16,760 — INFO — __main__ — 📊 Direct similarity search returned 2 documents
2025-06-09 09:45:16,760 — INFO — __main__ —   Doc 1: Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf - # Cornelia Municipal Complex Overview

## Project Details
- **Project Name:** Cornelia Municipal Com...
2025-06-09 09:45:16,761 — INFO — __main__ —   Doc 2: Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf - ### Drive-Through Bays Information

- **Total Number of Bays**: 4
- **Drive-Through Bays**: 2
- **De...
2025-06-09 09:45:16,761 — INFO — __main__ — 🔄 Testing embedding generation for the question...
2025-06-09 09:45:16,952 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:45:16,996 — INFO — __main__ — 📊 Generated embedding with 3072 dimensions
2025-06-09 09:45:54,399 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:45:54,408 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:45:54,515 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:45:54,904 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:45:55,192 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:45:55,266 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:45:55,364 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:56,692 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:45:56,795 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:41,833 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:46:41,838 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:41,929 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:46:42,408 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:42,611 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:42,740 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:42,844 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:42,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:43,854 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:44,182 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:44,319 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:44,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:44,726 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:45,030 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:45,129 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:45,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:45,363 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:45,363 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:45,364 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:45,460 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:45,580 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:45,580 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:46:45,604 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:46:45,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "event_id": 432,
  "source_page": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s"
}
2025-06-09 09:46:46,939 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:46,956 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:46:47,328 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:47,541 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:47,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:47,982 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:48,249 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:48,511 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:49,263 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:50,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:50,801 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:50,964 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:51,134 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:51,233 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:51,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:51,327 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:51,327 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:51,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:46:51,523 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "bot_id": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "event_id": 432,
  "chunk_type": "semantic",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:46:53,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:53,460 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:46:54,526 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:54,799 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,048 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:55,213 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,430 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:55,538 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:55,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:56,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:56,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:46:56,490 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:46:56,572 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:46:56,659 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:56,765 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:46:56,766 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:46:56,766 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:46:56,984 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:46:56,985 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "source_page": 1,
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "company_id": 3,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_size": 372750,
  "source_type": "pdf"
}
2025-06-09 09:46:57,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:46:57,854 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is her significance?']
2025-06-09 09:46:59,253 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:59,520 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:46:59,743 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:46:59,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:00,092 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:00,438 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:00,959 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:01,152 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:01,268 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:01,339 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:01,425 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:01,426 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:01,426 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:01,542 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.3
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.3
2025-06-09 09:47:01,544 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "bot_id": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:47:02,808 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:02,809 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is her significance?']
2025-06-09 09:47:03,031 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:03,238 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:03,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:03,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:03,934 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:04,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:04,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:04,954 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:05,156 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:05,480 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:05,542 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:05,610 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:05,677 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:05,678 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:05,678 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:05,814 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:05,815 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.4
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.4
2025-06-09 09:47:05,816 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "file_size": 372750,
  "source_type": "pdf",
  "company_id": 3,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_type": ".pdf",
  "modified_time": 1749478239.9438937
}
2025-06-09 09:47:07,575 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:07,577 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:47:07,911 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:08,453 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,583 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:08,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:08,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:09,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:10,950 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:11,242 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:47:11,581 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:47:11,653 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:47:11,767 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:11,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:47:11,859 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:47:11,860 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:47:11,978 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.5
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.5
2025-06-09 09:47:11,980 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749478239.9448938,
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "event_id": 432,
  "file_size": 372750,
  "source_page": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "company_id": 3,
  "timestamp": "2025-06-09T14:10:53.351471",
  "bot_id": 1,
  "source_type": "pdf"
}
2025-06-09 09:47:13,341 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:47:13,343 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is her significance in her field?']
2025-06-09 09:47:13,571 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:13,865 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:14,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:14,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:14,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:14,725 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:47:15,000 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:47:15,841 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:01,330 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:50:01,344 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:01,501 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:50:01,827 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:02,030 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:02,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:02,240 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:02,304 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:02,305 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:02,306 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:02,456 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:02,458 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:02,459 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_type": "semantic",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_index": 0,
  "structure_type": "paragraph",
  "modified_time": 1749478239.9438937,
  "timestamp": "2025-06-09T14:10:53.351471",
  "bot_id": 1,
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "mime": "application/pdf",
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:03,524 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:03,540 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:50:04,155 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:04,417 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:04,775 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:04,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:05,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:05,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:05,855 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:06,157 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:06,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:06,546 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:06,679 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:06,871 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:06,982 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:06,983 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:06,983 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:07,210 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:07,211 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:07,211 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:07,212 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:07,212 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749478239.9438937,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_size": 372750,
  "source_page": 1,
  "source_type": "pdf",
  "chunk_index": 0,
  "created_time": 1749478239.9448938,
  "chunk_type": "semantic",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "event_id": 432,
  "company_id": 3,
  "file_type": ".pdf"
}
2025-06-09 09:50:09,152 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:09,154 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much funding is required for the project?  ', 'Can you provide details on the financial expenses associated with the project?']
2025-06-09 09:50:09,549 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:09,872 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:10,109 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:10,354 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:10,744 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:10,907 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:11,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:11,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:11,591 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:11,790 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:11,927 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:12,017 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:12,111 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:12,112 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:12,112 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:12,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:12,245 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "company_id": 3,
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "file_size": 372750,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 432,
  "chunk_index": 0,
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "chunk_type": "semantic",
  "structure_type": "paragraph"
}
2025-06-09 09:50:13,602 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:13,685 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:13,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:14,234 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:14,546 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:14,736 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:15,071 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:15,261 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:15,500 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:15,787 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:16,120 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:16,379 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:16,472 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:16,645 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:16,715 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:16,721 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:16,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:16,927 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:16,929 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "mime_type": "application/pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "event_id": 432,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "created_time": 1749478239.9448938
}
2025-06-09 09:50:18,082 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:18,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the typical timeline for a construction project?  ', 'Can you provide an overview of the stages involved in a construction timeline?  ', 'How long does it usually take to complete different phases of construction?']
2025-06-09 09:50:18,456 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:18,739 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:18,928 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:19,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:19,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:19,563 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:19,786 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:20,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:20,402 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:20,662 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:20,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:21,050 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:21,117 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:21,118 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:21,118 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:21,362 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:21,363 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.05
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.05
2025-06-09 09:50:21,364 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "bot_id": 1,
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "created_time": 1749478239.9448938,
  "mime": "application/pdf",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "structure_type": "paragraph"
}
2025-06-09 09:50:25,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:25,120 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:50:25,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:25,714 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:25,912 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,077 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:26,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,471 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:26,665 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:26,886 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:27,131 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:27,401 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:27,517 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:27,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:27,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:27,716 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:27,716 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:27,851 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:27,853 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "timestamp": "2025-06-09T14:10:53.351471",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "modified_time": 1749478239.9438937,
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "source_page": 1,
  "chunk_type": "semantic",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "bot_id": 1
}
2025-06-09 09:50:29,455 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:29,620 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person known as Jennifer Franklin and what are her notable achievements?']
2025-06-09 09:50:29,863 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:30,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,421 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:30,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:30,903 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:31,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:31,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:31,725 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:32,013 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:32,104 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:32,206 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:32,374 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:32,375 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:32,375 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:32,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:32,592 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:32,593 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "chunk_index": 0,
  "company_id": 3,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "mime_type": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "content_type": "unstructured_text",
  "source_page": 1,
  "bot_id": 1,
  "source_type": "pdf",
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf"
}
2025-06-09 09:50:33,585 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:33,588 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 09:50:33,811 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,066 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:34,341 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:34,715 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:34,858 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:35,080 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:35,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:35,512 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:35,687 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:35,780 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:35,907 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:36,041 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:36,042 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:36,043 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:36,172 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:36,173 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:36,173 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:36,174 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:36,174 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "modified_time": 1749478239.9438937,
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_type": "semantic",
  "file_size": 372750,
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_page": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:37,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:37,369 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:37,693 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:37,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:38,078 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:38,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:38,396 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:38,520 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:39,055 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:39,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:39,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:39,737 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:39,825 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:39,922 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:40,028 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:40,029 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:40,029 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:40,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:40,249 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:40,250 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 372750,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "created_time": 1749478239.9448938,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "bot_id": 1
}
2025-06-09 09:50:41,545 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:41,576 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the typical timeline for a construction project?  ', 'Can you provide an overview of the stages involved in a construction timeline?  ', 'How long does it usually take to complete different phases of construction?']
2025-06-09 09:50:41,813 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,066 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:42,423 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:42,859 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:42,949 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:43,471 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:43,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:44,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:44,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:44,430 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:44,519 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:44,620 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:44,621 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:44,621 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:44,731 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:50:44,733 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 432,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "mime_type": "application/pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_page": 1,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "created_time": 1749478239.9448938,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:50:46,005 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:46,007 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential elements found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:50:46,395 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:46,716 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:46,935 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:47,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:47,622 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:47,796 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:48,111 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:48,350 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:48,716 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:48,936 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:48,998 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:49,150 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:49,340 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:49,342 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:49,343 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:49,540 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:49,542 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:49,543 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "event_id": 432,
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_size": 372750,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s"
}
2025-06-09 09:50:50,589 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:50,593 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:50:50,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:51,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:51,774 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:51,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:52,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:52,688 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:53,010 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:53,172 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:53,239 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:53,345 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:53,420 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:53,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:53,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:53,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:53,603 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:53,603 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:53,604 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:53,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 372750,
  "mime_type": "application/pdf",
  "created_time": 1749478239.9448938,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "modified_time": 1749478239.9438937,
  "structure_type": "paragraph",
  "company_id": 3,
  "content_type": "unstructured_text",
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf"
}
2025-06-09 09:50:54,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:54,586 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', "Can you provide an overview of the project's financial requirements?"]
2025-06-09 09:50:54,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:55,108 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:55,440 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:55,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:55,960 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:56,072 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:50:56,518 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:56,741 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:57,202 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:50:57,398 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:50:57,533 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:50:57,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:57,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:50:57,724 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:50:57,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:50:57,927 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:50:57,929 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:50:57,930 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_type": ".pdf",
  "file_size": 372750,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "bot_id": 1,
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938
}
2025-06-09 09:50:59,146 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:50:59,150 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:50:59,462 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:50:59,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:00,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:00,173 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:10,913 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,311 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:11,564 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,745 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:11,965 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:12,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:12,291 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:12,370 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:12,445 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:12,449 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:12,449 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:12,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:12,745 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:12,746 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:51:12,746 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:51:12,747 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "event_id": 432,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "created_time": 1749478239.9448938,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "source_page": 1,
  "structure_type": "paragraph"
}
2025-06-09 09:51:14,064 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:14,170 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the key phases involved in a construction project timeline?  ', '2. Can you provide an overview of the typical schedule for a construction project?  ', '3. What are the major milestones and their durations in a construction timeline?']
2025-06-09 09:51:14,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:14,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:14,842 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:15,030 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:15,252 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:15,551 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:15,892 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:16,107 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:16,286 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:16,530 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:16,603 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:16,681 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:16,804 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:16,805 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:16,805 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:17,035 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:17,036 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:17,036 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 09:51:17,037 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.15
2025-06-09 09:51:17,037 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_type": ".pdf",
  "bot_id": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "source_page": 1,
  "created_time": 1749478239.9448938,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "modified_time": 1749478239.9438937,
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471"
}
2025-06-09 09:51:18,125 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:18,126 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential elements found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:51:18,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:19,167 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:19,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:19,695 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:19,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:20,088 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:20,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:21,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:21,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:21,484 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:21,576 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:21,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:21,822 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:21,822 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:21,822 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:21,950 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:21,954 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "event_id": 432,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_size": 372750,
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "modified_time": 1749478239.9438937,
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "source_page": 1,
  "bot_id": 1
}
2025-06-09 09:51:22,984 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:22,986 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 09:51:23,162 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:23,435 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:23,623 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:23,769 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:23,977 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,141 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:24,370 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,612 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:24,881 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:25,082 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:25,190 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:25,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:25,431 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:25,432 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:25,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:25,546 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:25,549 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:25,550 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "source_type": "pdf",
  "modified_time": 1749478239.9438937,
  "chunk_index": 0,
  "file_type": ".pdf",
  "company_id": 3,
  "source_page": 1,
  "content_type": "unstructured_text"
}
2025-06-09 09:51:26,693 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:26,752 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 09:51:26,965 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:27,186 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:27,433 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:27,607 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:28,144 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:28,335 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:28,734 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:29,073 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:29,520 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:29,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:29,743 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:29,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:29,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:29,896 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:29,896 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:30,044 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:30,046 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:30,047 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 432,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_page": 1,
  "modified_time": 1749478239.9438937,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf",
  "created_time": 1749478239.9448938,
  "file_type": ".pdf",
  "company_id": 3,
  "file_size": 372750,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "chunk_index": 0,
  "structure_type": "paragraph"
}
2025-06-09 09:51:31,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:31,090 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:51:31,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:31,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:31,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:31,869 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:32,147 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:32,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:32,663 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:32,821 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:33,053 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:33,293 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:33,380 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:33,469 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:33,578 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:33,579 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:33,579 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:33,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:33,809 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:33,810 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "file_size": 372750,
  "company_id": 3,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "event_id": 432,
  "structure_type": "paragraph",
  "modified_time": 1749478239.9438937,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf"
}
2025-06-09 09:51:35,676 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:35,677 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What is the typical timeline for a construction project from start to finish?  ', '2. How long does it usually take to complete different phases of construction?  ', '3. What are the key milestones and their durations in a construction schedule?']
2025-06-09 09:51:35,857 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,045 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:36,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:36,856 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:36,976 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:37,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:37,679 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:38,033 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:38,219 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:38,278 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:38,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:38,503 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:38,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:38,505 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:38,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.2
2025-06-09 09:51:38,671 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.2
2025-06-09 09:51:38,672 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "structure_type": "paragraph",
  "file_size": 372750,
  "source_type": "pdf",
  "chunk_type": "semantic",
  "event_id": 432,
  "timestamp": "2025-06-09T14:10:53.351471",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "modified_time": 1749478239.9438937,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "chunk_index": 0,
  "file_type": ".pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf"
}
2025-06-09 09:51:39,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:39,872 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:51:40,106 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:40,298 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:40,661 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:40,928 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:41,149 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:41,267 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:41,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:41,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:42,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:42,361 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:42,458 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:42,627 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:42,699 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:42,700 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:42,701 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:42,810 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:42,811 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:42,812 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "event_id": 432,
  "modified_time": 1749478239.9438937,
  "bot_id": 1,
  "created_time": 1749478239.9448938,
  "source_page": 1,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "company_id": 3,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_type": "pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_size": 372750,
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "file_type": ".pdf"
}
2025-06-09 09:51:43,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:43,826 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the person named Jennifer Franklin?  ', 'Who is the individual known as Jennifer Franklin?']
2025-06-09 09:51:44,095 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:44,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:45,117 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:45,348 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:45,546 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:45,670 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:46,294 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:46,470 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:46,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:46,956 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:47,089 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:47,218 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:47,344 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:47,345 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:47,345 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:47,466 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:47,467 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "file_type": ".pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "modified_time": 1749478239.9438937,
  "file_size": 372750,
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "timestamp": "2025-06-09T14:10:53.351471",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "created_time": 1749478239.9448938,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "company_id": 3,
  "chunk_type": "semantic",
  "event_id": 432
}
2025-06-09 09:51:48,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:48,400 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much funding is required for the project?  ', 'Can you provide details on the financial expenses associated with the project?']
2025-06-09 09:51:48,615 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:48,799 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:48,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,154 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:49,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:49,797 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:49,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:50,220 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:50,486 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:50,572 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:50,661 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:50,723 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:50,724 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:50,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:50,861 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:50,864 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "content_type": "unstructured_text",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "created_time": 1749478239.9448938,
  "file_size": 372750,
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "event_id": 432,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "modified_time": 1749478239.9438937
}
2025-06-09 09:51:51,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:51,846 — INFO — langchain.retrievers.multi_query — Generated queries: ['What information is available about the Cornelia Municipal Complex?  ', 'Can you provide details on the facilities and services offered at the Cornelia Municipal Complex?  ', 'What are the key features and functions of the Cornelia Municipal Complex?']
2025-06-09 09:51:52,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:52,275 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:52,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:52,728 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:52,894 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:53,307 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:53,827 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:53,991 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:54,167 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:54,247 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:54,307 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:54,309 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:54,309 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:54,449 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:54,450 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:54,451 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "mime": "application/pdf",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "modified_time": 1749478239.9438937,
  "file_size": 372750,
  "chunk_index": 0,
  "event_id": 432,
  "company_id": 3,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "timestamp": "2025-06-09T14:10:53.351471"
}
2025-06-09 09:51:55,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:51:56,011 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the key phases involved in a construction project timeline?  ', '2. Can you provide an overview of the typical schedule for a construction project?  ', '3. What is the usual timeline for completing various stages of construction?']
2025-06-09 09:51:56,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:56,528 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:56,862 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:57,040 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:57,210 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:57,423 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:51:57,707 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:58,355 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:51:58,557 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:51:58,879 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:51:58,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:51:59,042 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:59,109 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:51:59,109 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:51:59,110 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:51:59,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:51:59,256 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.25
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.25
2025-06-09 09:51:59,257 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-09T14:10:53.351471",
  "created_time": 1749478239.9448938,
  "company_id": 3,
  "content_type": "unstructured_text",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "structure_type": "paragraph",
  "event_id": 432,
  "bot_id": 1,
  "file_type": ".pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749478239.9438937,
  "source_type": "pdf",
  "source_page": 1,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "file_size": 372750
}
2025-06-09 09:52:00,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:52:00,254 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the key characteristics of a fire station?  ', 'Can you describe the essential components and facilities found in a fire station?  ', 'What features should be included in the design of a fire station?']
2025-06-09 09:52:00,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:00,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:00,983 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:01,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:01,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:01,638 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:01,892 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:02,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:56,577 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 09:52:56,583 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:52:56,676 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 09:52:56,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 09:52:57,210 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 09:52:57,295 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 09:52:57,369 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:52:57,462 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 09:52:57,463 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 09:52:57,463 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 09:52:57,593 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER] Initialized BM25 with 2 documents
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 09:52:57,595 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 09:52:57,596 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "file_size": 372750,
  "source_type": "pdf",
  "structure_type": "paragraph",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "source_page": 1,
  "bot_id": 1,
  "file_type": ".pdf",
  "created_time": 1749478239.9448938,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749478239.9438937,
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "timestamp": "2025-06-09T14:10:53.351471",
  "source": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "storage_key": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d_32d09c5afe.pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "event_id": 432,
  "chunk_type": "semantic"
}
2025-06-09 09:52:58,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 09:52:58,810 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Can you provide information about Jennifer Franklin and her background?  ', '2. What are the notable achievements or contributions of Jennifer Franklin?  ', '3. Who is Jennifer Franklin, and what is her significance in her field?']
2025-06-09 09:52:59,351 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:52:59,580 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:52:59,865 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:00,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:53:00,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:00,499 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 09:53:00,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 09:53:01,166 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:41,603 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:03:41,616 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:03:41,725 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:03:42,222 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:03:42,567 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:03:42,642 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:03:42,736 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:42,840 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,002 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:03:43,201 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:03:43,397 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:03:43,530 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:03:43,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,783 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:03:43,783 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:03:43,784 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:03:44,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:03:44,062 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:03:44,063 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-09T14:58:45.745565",
  "source_type": "pdf",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "chunk_id": "updated_3_1_i2ud14ezv2szsrfcc62kr73s_0_1749481125",
  "update_timestamp": "2025-06-09T14:58:45.745574",
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_update",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "company_id": 3,
  "event_id": 433,
  "mime": "application/pdf",
  "validation_status": "passed",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "source": "update_59963119-1b72-4a1c-8a4b-4353df8fa290_e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "bot_id": 1,
  "source_page": 1,
  "storage_key": "e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "processing_document_id": "d1f11bc8-4a3b-4b13-b6db-878960956c16",
  "timestamp": "2025-06-09T14:58:25.931000"
}
2025-06-09 10:03:45,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:03:45,787 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:03:46,543 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:46,842 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,201 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:47,360 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,604 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:47,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:03:47,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:03:48,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:38,082 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:04:38,086 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:04:38,158 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:04:38,432 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:04:38,695 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:04:38,810 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:04:38,974 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:39,112 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:39,220 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:04:39,396 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:04:39,635 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:04:39,713 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:04:39,817 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:40,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:04:40,027 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:04:40,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:04:40,153 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:04:40,155 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:04:40,156 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "update_timestamp": "2025-06-09T14:58:45.745574",
  "storage_key": "e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "event_id": 433,
  "timestamp": "2025-06-09T14:58:25.931000",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_update",
  "chunk_index": 0,
  "chunk_id": "updated_3_1_i2ud14ezv2szsrfcc62kr73s_0_1749481125",
  "mime": "application/pdf",
  "document_id": "i2ud14ezv2szsrfcc62kr73s",
  "content_type": "unstructured_text",
  "source": "update_59963119-1b72-4a1c-8a4b-4353df8fa290_e5100d118a9b4f4136247b2b3144dec7bb281fe5b7379338f11972257b4e2bc8.pdf",
  "company_id": 3,
  "bot_id": 1,
  "structure_type": "paragraph",
  "validation_status": "passed",
  "ingestion_timestamp": "2025-06-09T14:58:45.745565",
  "file_name": "Cornelia_Municipal_Complex_Abstract_Info_25b004954d.pdf",
  "processing_document_id": "d1f11bc8-4a3b-4b13-b6db-878960956c16",
  "source_page": 1,
  "file_type": ".pdf"
}
2025-06-09 10:04:41,766 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:04:41,780 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:04:42,467 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:42,671 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:43,318 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:43,431 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:43,620 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:43,825 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:04:44,351 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:04:44,644 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:00,801 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:37:00,817 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:00,904 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:37:01,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:02,121 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:02,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:02,388 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:02,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:02,610 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:02,676 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:02,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:03,165 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:03,398 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:03,681 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:03,774 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:03,853 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:03,957 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:03,958 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:37:03,958 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:04,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:04,171 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:37:04,171 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:37:04,172 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:37:04,172 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_index": 0,
  "modified_time": 1749483059.7660072,
  "company_id": 3,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749483059.7660072,
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_size": 43838,
  "event_id": 435
}
2025-06-09 10:37:05,149 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:37:05,221 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the opening times for the Brentwood office?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:37:06,052 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:06,360 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:06,598 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:06,860 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:07,235 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:07,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:07,760 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:07,927 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:53,863 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:37:53,868 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:53,939 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:37:54,290 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:37:54,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:37:54,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:37:54,705 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:54,795 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:37:54,795 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:37:54,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:37:55,026 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:37:55,029 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "modified_time": 1749483059.7660072,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "event_id": 435,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "company_id": 3,
  "file_name": "Lucas Offices.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "source_type": "pdf",
  "mime": "application/pdf",
  "created_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_page": 1
}
2025-06-09 10:37:56,210 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:37:56,223 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:37:56,830 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,044 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:57,446 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,597 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:57,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:57,990 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:37:58,306 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:37:58,931 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:38:56,498 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:38:56,510 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:38:56,596 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:38:56,924 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:38:57,110 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:38:57,197 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:38:57,289 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:38:57,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:38:57,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:38:57,366 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:38:57,501 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:38:57,505 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:38:57,505 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:38:57,506 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:38:57,506 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "created_time": 1749483059.7660072,
  "source_type": "pdf",
  "file_type": ".pdf",
  "file_size": 43838,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "modified_time": 1749483059.7660072,
  "event_id": 435
}
2025-06-09 10:38:58,769 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:38:58,821 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 10:38:59,689 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:38:59,863 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,046 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:00,202 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:00,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:39:00,824 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:39:01,179 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:16,678 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 10:40:16,688 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:16,783 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 10:40:17,308 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:17,516 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:17,608 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:17,800 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:17,893 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:17,894 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:17,894 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:18,091 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:18,093 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:18,093 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:18,094 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:18,094 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_size": 43838,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_type": "pdf",
  "bot_id": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "created_time": 1749483059.7660072,
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "event_id": 435,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "modified_time": 1749483059.7660072
}
2025-06-09 10:40:20,202 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:20,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:40:21,034 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:21,235 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:21,459 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:21,611 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:21,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:22,005 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:23,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:23,657 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:23,988 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:24,165 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:24,277 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:24,383 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:24,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:24,516 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:24,517 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:24,619 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:24,620 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:24,621 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "event_id": 435,
  "file_type": ".pdf",
  "file_size": 43838,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source_type": "pdf",
  "modified_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "mime": "application/pdf",
  "created_time": 1749483059.7660072,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "company_id": 3
}
2025-06-09 10:40:25,432 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:25,433 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'Can you provide details on the financial requirements for the project?  ', 'What are the anticipated expenses associated with the project?']
2025-06-09 10:40:25,654 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:25,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,094 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:26,208 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,491 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:26,619 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:26,867 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:27,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:27,388 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:27,664 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:27,772 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:27,862 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:27,960 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:27,961 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:27,961 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:28,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:28,067 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 435,
  "company_id": 3,
  "modified_time": 1749483059.7660072,
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "created_time": 1749483059.7660072,
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "bot_id": 1,
  "file_size": 43838,
  "mime_type": "application/pdf"
}
2025-06-09 10:40:29,231 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:29,233 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:40:29,398 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:29,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:29,816 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:29,959 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:30,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:30,445 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:30,811 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:31,332 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:31,548 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:31,723 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:31,853 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:31,964 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:32,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:32,073 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:32,073 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:32,199 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:32,201 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "created_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_name": "Lucas Offices.pdf",
  "modified_time": 1749483059.7660072,
  "source_type": "pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 435,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "source_page": 1,
  "bot_id": 1
}
2025-06-09 10:40:33,142 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:33,148 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:40:33,425 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:33,573 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:33,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:34,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:34,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:34,588 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:35,052 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:35,356 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:35,561 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:35,713 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:35,835 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:35,902 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:35,969 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:35,970 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:35,970 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:36,074 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:36,075 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:36,075 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 10:40:36,076 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=20, threshold=0.1
2025-06-09 10:40:36,076 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "created_time": 1749483059.7660072,
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749483059.7660072,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "timestamp": "2025-06-09T15:31:27.217362",
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "event_id": 435
}
2025-06-09 10:40:37,566 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:37,567 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:40:37,833 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:38,031 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:38,492 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:38,635 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:38,889 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:39,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:39,937 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:40,114 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:40,175 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:40,320 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:40,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:40,452 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:40,452 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:40,639 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:40,640 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:40,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "file_size": 43838,
  "bot_id": 1,
  "company_id": 3,
  "created_time": 1749483059.7660072,
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "mime": "application/pdf",
  "modified_time": 1749483059.7660072,
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "event_id": 435,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "content_type": "unstructured_text"
}
2025-06-09 10:40:41,531 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:41,533 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:40:41,691 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:41,864 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:42,075 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:42,302 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:42,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:42,735 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:43,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:43,371 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:43,684 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:43,944 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:44,124 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:44,193 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:44,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:44,309 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:44,309 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:44,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:44,410 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:44,411 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_type": "semantic",
  "timestamp": "2025-06-09T15:31:27.217362",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "event_id": 435,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "structure_type": "paragraph",
  "modified_time": 1749483059.7660072,
  "file_size": 43838,
  "bot_id": 1,
  "source_page": 1,
  "chunk_index": 0,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "content_type": "unstructured_text",
  "created_time": 1749483059.7660072,
  "source_type": "pdf"
}
2025-06-09 10:40:45,419 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:45,421 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', "Can you provide an overview of the project's financial requirements?"]
2025-06-09 10:40:45,909 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:46,097 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:46,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:46,609 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:46,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:47,054 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:47,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:47,820 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:48,065 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:48,203 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:48,337 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:48,407 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:48,508 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:48,510 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:48,510 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:48,614 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:48,616 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-09T15:31:27.217362",
  "file_name": "Lucas Offices.pdf",
  "event_id": 435,
  "chunk_type": "semantic",
  "modified_time": 1749483059.7660072,
  "file_size": 43838,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "created_time": 1749483059.7660072,
  "source_page": 1,
  "structure_type": "paragraph",
  "company_id": 3
}
2025-06-09 10:40:50,084 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:50,085 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:40:50,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:50,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:50,830 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:51,029 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:51,293 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:51,462 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:51,985 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:52,177 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:52,345 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:52,508 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:52,597 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:52,702 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:52,800 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:52,801 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:52,801 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:53,034 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:53,035 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:53,035 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:53,036 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:53,036 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 435,
  "company_id": 3,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "modified_time": 1749483059.7660072,
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_size": 43838,
  "structure_type": "paragraph",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf"
}
2025-06-09 10:40:53,980 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:53,982 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:40:54,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:54,414 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:54,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:54,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:55,167 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:55,320 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:55,653 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:55,943 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:56,369 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:40:56,573 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:40:56,708 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:40:56,794 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:56,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:40:56,894 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:40:56,895 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:40:57,100 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.15
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.15
2025-06-09 10:40:57,102 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_size": 43838,
  "created_time": 1749483059.7660072,
  "event_id": 435,
  "mime": "application/pdf",
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_type": "semantic",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "company_id": 3,
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf"
}
2025-06-09 10:40:58,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:40:58,471 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:40:58,649 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:58,991 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:59,331 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:59,428 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:40:59,690 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:40:59,851 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:00,139 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:00,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:00,796 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:01,056 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:01,137 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:01,200 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:01,421 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:01,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:01,422 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:01,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:01,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:01,534 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:01,535 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:01,535 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749483059.7660072,
  "bot_id": 1,
  "event_id": 435,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "modified_time": 1749483059.7660072,
  "company_id": 3,
  "chunk_type": "semantic",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 43838,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-09T15:31:27.217362",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf"
}
2025-06-09 10:41:02,477 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:02,478 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-09 10:41:02,807 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,029 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:03,253 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,387 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:03,717 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:03,832 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:04,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:04,568 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:04,714 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:04,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:04,907 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:04,985 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:05,097 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:05,098 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:05,098 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:05,242 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:05,244 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "event_id": 435,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "company_id": 3,
  "file_type": ".pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "modified_time": 1749483059.7660072,
  "source_page": 1,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "created_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "structure_type": "paragraph",
  "bot_id": 1
}
2025-06-09 10:41:06,869 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:06,871 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the estimated budget for the project?  ', 'How much will the project expenses amount to?  ', 'Can you provide the total cost associated with the project?']
2025-06-09 10:41:07,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:07,304 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:07,475 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:07,798 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:07,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:08,139 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:08,474 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:08,821 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:09,014 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:09,158 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:09,285 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:09,352 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:09,418 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:09,419 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:09,419 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:09,530 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:09,532 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_type": "semantic",
  "event_id": 435,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "company_id": 3,
  "source_type": "pdf",
  "timestamp": "2025-06-09T15:31:27.217362",
  "source_page": 1,
  "file_size": 43838,
  "mime": "application/pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "bot_id": 1,
  "modified_time": 1749483059.7660072,
  "structure_type": "paragraph",
  "mime_type": "application/pdf"
}
2025-06-09 10:41:10,909 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:10,916 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 10:41:11,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,416 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:11,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,719 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:11,871 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:11,999 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:12,384 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:12,652 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:12,818 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:13,011 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:13,091 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:13,186 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:13,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:13,257 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:13,257 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:13,391 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:13,392 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:13,393 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749483059.7660072,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-09T15:31:27.217362",
  "chunk_type": "semantic",
  "source_page": 1,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "chunk_index": 0,
  "created_time": 1749483059.7660072,
  "mime": "application/pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "company_id": 3,
  "event_id": 435,
  "source_type": "pdf"
}
2025-06-09 10:41:14,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:14,246 — INFO — langchain.retrievers.multi_query — Generated queries: ['What steps should I follow to set up an appointment?  ', 'Can you guide me on the process of booking an appointment?  ', 'What are the best practices for scheduling an appointment?']
2025-06-09 10:41:14,469 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:14,650 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:14,848 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:14,984 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:16,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:16,379 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:16,727 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:16,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:17,166 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 10:41:17,346 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 10:41:17,432 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 10:41:17,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:17,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 10:41:17,585 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 10:41:17,585 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 10:41:17,791 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/get "HTTP/1.1 200 OK"
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.12
2025-06-09 10:41:17,793 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=10, threshold=0.12
2025-06-09 10:41:17,794 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "file_size": 43838,
  "chunk_type": "semantic",
  "created_time": 1749483059.7660072,
  "storage_key": "Lucas_Offices_e28c0ab46e.pdf",
  "file_name": "Lucas Offices.pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "event_id": 435,
  "modified_time": 1749483059.7660072,
  "source": "Lucas_Offices_e28c0ab46e.pdf",
  "document_id": "cdu969faj4ducvyi9bo07l6v",
  "bot_id": 1,
  "source_page": 1,
  "timestamp": "2025-06-09T15:31:27.217362",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-09 10:41:18,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 10:41:18,868 — INFO — langchain.retrievers.multi_query — Generated queries: ['What types of insurance plans are accepted?  ', 'Which insurance providers do you work with?  ', 'Can you list the insurance options that you accept?']
2025-06-09 10:41:19,141 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:19,438 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:19,588 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:19,755 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:19,964 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:20,086 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/1cb5778a-462d-4d89-b069-58b22df6e888/query "HTTP/1.1 200 OK"
2025-06-09 10:41:20,390 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 10:41:20,698 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:04:41,694 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:06:41,858 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:06:44,727 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:45,296 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:45,329 — INFO — bot — [CLASSIFIER] Question: when is the brentwood office open?, Mode: qa
2025-06-09 21:06:45,329 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:45,367 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:45,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:06:45,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:06:46,026 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:06:46,194 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:46,328 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:46,328 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:06:46,329 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:46,465 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:06:46,468 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:06:46,469 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.815,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_update",
  "validation_status": "passed",
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "event_id": 451,
  "mime": "application/pdf",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "file_name": "School Schedule.pdf",
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "timestamp": "2025-06-10T02:01:24.124487",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "chunk_index": 0,
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "structure_type": "paragraph",
  "company_id": 3,
  "document_id": "qao3hkc6uocd213soq7usz4u"
}
2025-06-09 21:06:46,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:46,500 — INFO — bot — [MEMORY] Created new history for session 6ab33443-32c3-4d2d-bad1-ccb4c0eedacd
2025-06-09 21:06:47,799 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:47,896 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the schedule for when the Brentwood office is open?  ', 'What time does the Brentwood office start and end its business hours?']
2025-06-09 21:06:48,420 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:48,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,010 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:49,182 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,350 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:49,585 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:49,999 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:50,219 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:52,031 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:52,038 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:06:52,039 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:53,179 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:53,182 — INFO — bot — [CLASSIFIER] Question: Where is it located?, Mode: qa
2025-06-09 21:06:53,182 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:53,214 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:53,425 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:06:53,600 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:06:53,683 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:06:53,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:53,954 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:06:53,958 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:06:53,958 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:54,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:06:54,093 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T02:01:24.124487",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "structural_density": 0.815,
  "event_id": 451,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "file_type": ".pdf",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "file_name": "School Schedule.pdf",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "mime": "application/pdf",
  "validation_status": "passed",
  "bot_id": 1,
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_update",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "chunk_type": "semantic"
}
2025-06-09 21:06:54,093 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:54,950 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:55,881 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:55,884 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'Where can I find the Brentwood office?']
2025-06-09 21:06:56,221 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:56,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:56,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:56,786 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:57,155 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:57,273 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:06:57,607 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:57,922 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:06:58,956 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:58,966 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:06:58,966 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:59,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:06:59,619 — INFO — bot — [CLASSIFIER] Question: Where is the Brentwood office located?, Mode: qa
2025-06-09 21:06:59,619 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:06:59,649 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:06:59,824 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:00,138 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:00,221 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:00,308 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:00,375 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:00,376 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:00,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:00,561 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:00,562 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:00,563 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T02:01:24.124487",
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "processing_method": "hybrid_5_stage_update",
  "mime": "application/pdf",
  "file_name": "School Schedule.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "validation_status": "passed",
  "event_id": 451,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "file_type": ".pdf"
}
2025-06-09 21:07:00,563 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:01,523 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:02,586 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:02,589 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'In which area can I find the Brentwood office?']
2025-06-09 21:07:03,000 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:03,285 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:03,507 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:03,724 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:04,018 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:04,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:04,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:04,666 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:05,498 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:05,515 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:07:05,515 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:05,543 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:05,716 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:05,905 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:05,971 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:06,111 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:06,239 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:06,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:41,955 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 21:07:44,524 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:45,120 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:45,130 — INFO — bot — [CLASSIFIER] Question: when is the brentwood office open?, Mode: qa
2025-06-09 21:07:45,130 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:45,159 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:45,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:45,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:45,888 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:46,022 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:46,171 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:46,171 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:46,172 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:46,274 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:46,276 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:46,277 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T02:01:24.124487",
  "source_page": 1,
  "source_type": "pdf",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "bot_id": 1,
  "file_type": ".pdf",
  "event_id": 451,
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_update",
  "file_name": "School Schedule.pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "validation_status": "passed",
  "chunk_index": 0,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "ingestion_timestamp": "2025-06-10T02:01:45.405476"
}
2025-06-09 21:07:46,277 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:46,309 — INFO — bot — [MEMORY] Created new history for session 185feb69-7053-4fde-abf2-5c0c6443367a
2025-06-09 21:07:48,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:48,266 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the operating hours for the Brentwood office?  ', 'Can you tell me the opening times of the Brentwood office?  ', 'What time does the Brentwood office start and close each day?']
2025-06-09 21:07:48,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,051 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:49,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:49,731 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:49,963 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:50,200 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:50,587 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:52,991 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:52,994 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 21:07:52,994 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:53,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:53,543 — INFO — bot — [CLASSIFIER] Question: Where is it located?, Mode: qa
2025-06-09 21:07:53,543 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:53,570 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 21:07:53,744 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 21:07:54,034 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 21:07:54,122 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 21:07:54,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:54,350 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 21:07:54,351 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 21:07:54,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:54,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 21:07:54,554 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "chunk_id": "updated_3_1_qao3hkc6uocd213soq7usz4u_0_1749520905",
  "structure_type": "paragraph",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T02:01:45.405476",
  "event_id": 451,
  "structural_density": 0.815,
  "source": "update_09d8f8c9-0dfa-4621-9efa-c69618a3e6ce_edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf",
  "file_name": "School Schedule.pdf",
  "processing_method": "hybrid_5_stage_update",
  "timestamp": "2025-06-10T02:01:24.124487",
  "mime": "application/pdf",
  "document_id": "qao3hkc6uocd213soq7usz4u",
  "chunk_type": "semantic",
  "validation_status": "passed",
  "update_timestamp": "2025-06-10T02:01:45.405487",
  "chunk_index": 0,
  "company_id": 3,
  "processing_document_id": "b4ee74a5-b0d5-45a8-877d-ba99a6fc7270",
  "source_type": "pdf",
  "bot_id": 1,
  "storage_key": "edba96b6d538e556cf12ecd7b0cbd808fadcb4f3e1c1273980a1fd488bfe08c6.pdf"
}
2025-06-09 21:07:54,554 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 21:07:55,096 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:56,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:56,530 — INFO — langchain.retrievers.multi_query — Generated queries: ['What is the address of the Brentwood office?  ', 'Can you tell me the location of the Brentwood office?  ', 'Where can I find the Brentwood office?']
2025-06-09 21:07:56,875 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:57,412 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,527 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:57,671 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:57,856 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 21:07:58,191 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:58,532 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 21:07:59,621 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 21:07:59,627 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 22:20:53,843 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:21:43,630 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:22:49,419 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:22:57,252 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-09 22:22:57,254 — INFO — bot — [WIDGET] Received question: test, company_id: 3, bot_id: 1, session_id: test123
2025-06-09 22:22:57,254 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:58,122 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:22:58,137 — INFO — bot — [CLASSIFIER] Question: test, Mode: qa
2025-06-09 22:22:58,137 — INFO — bot — [BOT] Detected mode: qa
2025-06-09 22:22:58,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:58,170 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 22:22:58,595 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 22:22:58,753 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 22:22:58,844 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 22:22:58,983 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:22:59,119 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:22:59,120 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 22:22:59,120 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:59,256 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 22:22:59,258 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 22:22:59,259 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T03:07:50.023934",
  "chunk_index": 0,
  "structural_density": 0.7210000000000001,
  "mime": "application/pdf",
  "event_id": 456,
  "file_name": "School Schedule.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "document_id": "e16a3qdmojib3gef0g8dqus9",
  "created_time": 1749524775.8242135,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "modified_time": 1749524775.8242135,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "file_size": 458459,
  "bot_id": 1,
  "storage_key": "School_Schedule_65e04feca8.pdf",
  "company_id": 3,
  "source": "School_Schedule_65e04feca8.pdf",
  "source_page": 1
}
2025-06-09 22:22:59,259 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:22:59,296 — INFO — bot — [MEMORY] Created new history for session test123
2025-06-09 22:23:00,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:23:00,036 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are some effective methods for conducting a test?  ', 'Can you provide examples of different types of tests and their purposes?  ', 'How can I evaluate the results of a test effectively?']
2025-06-09 22:23:00,587 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:00,881 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:01,108 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:01,338 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:01,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:02,000 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/query "HTTP/1.1 200 OK"
2025-06-09 22:23:02,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:02,884 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-09 22:23:03,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:23:03,544 — INFO — bot — [RETRIEVAL] Sources: ['School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-09 22:31:56,942 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:02,082 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:05,096 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:32:07,647 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-09 22:42:44,398 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-09 22:42:44,416 — INFO — bot — [API] Received question: test, company_id: 3, bot_id: 1, session_id: test123
2025-06-09 22:42:44,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:45,369 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 22:42:45,382 — INFO — bot — [CLASSIFIER] Question: test, Mode: qa
2025-06-09 22:42:45,383 — INFO — bot — [BOT] Detected mode: qa
2025-06-09 22:42:45,383 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:45,411 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-09 22:42:45,997 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-09 22:42:46,320 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-09 22:42:46,422 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-09 22:42:46,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:42:46,563 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-09 22:42:46,564 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-09 22:42:46,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-09 22:42:46,760 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/94d89f32-cc21-499b-b91c-21bf9a15dcde/get "HTTP/1.1 200 OK"
2025-06-09 22:42:46,762 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-09 22:42:46,763 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-09 22:42:46,764 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-09 22:42:46,764 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "file_size": 458459,
  "file_name": "School Schedule.pdf",
  "storage_key": "School_Schedule_65e04feca8.pdf",
  "file_type": ".pdf",
  "created_time": 1749524775.8242135,
  "source_page": 1,
  "modified_time": 1749524775.8242135,
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T03:07:50.023934",
  "company_id": 3,
  "content_type": "unstructured_text",
  "source": "School_Schedule_65e04feca8.pdf",
  "structural_density": 0.7210000000000001,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "mime": "application/pdf",
  "source_type": "pdf",
  "document_id": "e16a3qdmojib3gef0g8dqus9",
  "event_id": 456,
  "bot_id": 1
}
2025-06-09 22:42:46,764 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:17,647 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:39:33,242 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:33,333 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:39:33,868 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:39:34,094 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:39:34,206 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:39:34,305 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:39:34,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:39:34,595 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:39:34,595 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:39:34,750 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:39:34,754 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:39:34,754 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:39:34,755 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:39:34,756 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_page": 1,
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "company_id": 3,
  "file_size": 1205340,
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "event_id": 468,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "structural_density": 0.8210000000000001
}
2025-06-10 08:39:39,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:39:39,652 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the typical office hours for businesses in my area?  ', 'Can you provide information on standard office hours for different industries?  ', 'What are the common office hours for various types of organizations?']
2025-06-10 08:39:40,175 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:39:40,489 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:39:40,686 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:39:40,727 — ERROR — app — [TEST] Chroma test failed: [SSL: SSLV3_ALERT_BAD_RECORD_MAC] ssl/tls alert bad record mac (_ssl.c:2648)
2025-06-10 08:40:03,732 — INFO — app — [DIRECT] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 588142fe-7279-42db-ae26-07f34563bd87
2025-06-10 08:40:03,732 — INFO — app — [BOT] Using mode: qa (fast mode)
2025-06-10 08:40:03,732 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:03,766 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:40:04,016 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:40:04,188 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:40:04,334 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:40:04,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:40:04,539 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:40:04,539 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:40:04,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:04,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:40:04,638 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:40:04,639 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".pdf",
  "contains_image_text": true,
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "file_size": 1205340
}
2025-06-10 08:40:04,639 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:40:04,678 — INFO — app — [MEMORY] Created new history for session 588142fe-7279-42db-ae26-07f34563bd87
2025-06-10 08:40:05,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:40:05,382 — INFO — openai._base_client — Retrying request to /chat/completions in 0.437962 seconds
2025-06-10 08:40:20,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:40:20,504 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-10 08:40:20,816 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:21,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:21,297 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:21,449 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:22,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:22,573 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:40:23,008 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:24,042 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:40:45,133 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:40:45,135 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:43:22,513 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:44:20,167 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:44:36,176 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:44:36,178 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: c790dbeb-063c-42ea-b937-0a8f7c08f19f
2025-06-10 08:44:36,178 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:44:36,178 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:44:36,258 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:44:36,601 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:44:36,867 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:44:36,953 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:44:37,056 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:44:37,122 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:44:37,122 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:44:37,122 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:44:37,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER] Initialized BM25 with 9 documents
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:44:37,335 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:44:37,336 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "company_id": 3,
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "source_page": 1,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 08:44:37,336 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:50:48,280 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:51:10,556 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:51:10,558 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 0b4a48f2-c750-49ff-9688-444caa79dc96
2025-06-10 08:51:10,558 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:51:10,558 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:10,652 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:51:11,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:51:11,555 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:51:11,722 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:51:11,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:51:11,947 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:51:11,948 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:51:11,948 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:12,120 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:51:12,124 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:51:12,125 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 468,
  "contains_image_text": true,
  "file_size": 1205340,
  "source_type": "pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "source_page": 1,
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3
}
2025-06-10 08:51:12,126 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:51:12,164 — INFO — app — [MEMORY] Created new history for session 0b4a48f2-c750-49ff-9688-444caa79dc96
2025-06-10 08:51:24,553 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:51:24,580 — INFO — langchain.retrievers.multi_query — Generated queries: ['What can you tell me about Jennifer Franklin?  ', 'Can you provide information on the background of Jennifer Franklin?  ', 'Who is the person named Jennifer Franklin and what is she known for?']
2025-06-10 08:51:25,583 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:25,891 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:26,227 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:26,385 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:26,618 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:26,753 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:51:27,274 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:27,669 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:51:44,193 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:51:44,212 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:52:47,301 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:53:07,997 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:53:07,998 — INFO — app — [API] Received question: what projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 47b33339-c26b-4d06-bcba-8555b9eae0c8
2025-06-10 08:53:07,999 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:53:07,999 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:08,085 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:53:08,428 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:53:08,714 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:53:08,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:53:08,913 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:53:09,002 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:53:09,006 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:53:09,006 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:09,138 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:53:09,147 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:53:09,147 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:53:09,148 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:53:09,148 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "extraction_methods": "standard,ocr_image",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "content_type": "unstructured_text",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614"
}
2025-06-10 08:53:09,148 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:53:09,179 — INFO — app — [MEMORY] Created new history for session 47b33339-c26b-4d06-bcba-8555b9eae0c8
2025-06-10 08:53:24,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:53:24,216 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the notable projects that Jennifer Franklin has been involved in?  ', 'Can you provide a list of projects associated with Jennifer Franklin?  ', 'What contributions has Jennifer Franklin made to various projects?']
2025-06-10 08:53:25,119 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:25,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:26,207 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:26,322 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:27,340 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:27,589 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:53:28,014 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:28,409 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:53:41,089 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:53:41,109 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,226 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,227 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,317 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,386 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,387 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,465 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,466 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,513 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,514 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,582 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,583 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,746 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,746 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,747 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,748 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,801 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,801 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,872 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,872 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,954 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:41,955 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,145 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,145 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,146 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,147 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,274 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,275 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,291 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,291 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,396 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,397 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,469 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,469 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,562 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,562 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,635 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,636 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,792 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,793 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,811 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,811 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,962 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:42,963 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,069 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,070 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,182 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,182 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,216 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,217 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,328 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,328 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,408 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,408 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,472 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,473 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,553 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,554 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,711 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,712 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,845 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,846 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,932 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:43,932 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,028 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,028 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,123 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,123 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,245 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,246 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,366 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,366 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,403 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,403 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,543 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,544 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,757 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,757 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,898 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,898 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,982 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:44,982 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,090 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,091 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,286 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,414 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,415 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,451 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,451 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,565 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,566 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,658 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,658 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,718 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,719 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,836 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,836 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,944 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,945 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:45,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,111 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,112 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,199 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,201 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,351 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,352 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,371 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,374 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,470 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,471 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,558 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,559 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,652 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,655 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,794 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,795 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,989 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:46,989 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,093 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,108 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,175 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,175 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,236 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,236 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,381 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,383 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,384 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,519 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,520 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,605 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,606 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,699 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,700 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,767 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,768 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,850 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,850 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,949 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:47,949 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,186 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,187 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,238 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,239 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,429 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,430 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,563 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,563 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,581 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,582 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,648 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,649 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,724 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,879 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,879 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,943 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:48,943 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,088 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,088 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,120 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,196 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,197 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,287 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,288 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,389 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,390 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,495 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,495 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,608 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,609 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,694 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,694 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,761 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,838 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,838 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,913 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:49,914 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,035 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,137 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,137 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,230 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,231 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,392 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,393 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,534 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,534 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,653 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,653 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,742 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,742 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,758 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,759 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,827 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,844 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,886 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,886 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,960 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:50,961 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,036 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,038 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,184 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,185 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,203 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,204 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,284 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,285 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,373 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,374 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,461 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,462 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,574 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,575 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,575 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,576 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,710 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,711 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,720 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,720 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,797 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,798 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,867 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,868 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,967 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:51,968 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,113 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,114 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,126 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,126 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,229 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,230 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,356 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,357 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,460 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,461 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,529 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,530 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,634 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,634 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,763 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,764 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,764 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,818 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,819 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,892 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,893 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:52,978 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,043 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,044 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,121 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,278 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,279 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,316 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,379 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,380 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,453 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,453 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,805 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,806 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,902 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,902 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,986 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:53,987 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,172 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,173 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,333 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,384 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,385 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,489 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,490 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,580 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,580 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,723 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,761 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,762 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,854 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,855 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,922 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:54,923 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,018 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,019 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,110 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,111 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,189 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,189 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,287 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,288 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,382 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,516 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,517 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,777 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,777 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,900 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:55,901 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,004 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,004 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,148 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,148 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,259 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,260 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,427 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,427 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,553 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,554 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,601 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,817 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,818 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,819 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,820 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,954 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:56,955 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,021 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,021 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,058 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,058 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,149 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,149 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,242 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,242 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,345 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,346 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,473 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,474 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,602 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,626 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,639 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,868 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,869 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,869 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:57,870 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,003 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,003 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,062 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,062 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,221 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,221 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,335 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,336 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,522 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,540 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,540 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,541 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_new_token callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,542 — WARNING — langchain_core.callbacks.manager — Error in EventStreamHandler.on_llm_end callback: RuntimeError('no running event loop')
2025-06-10 08:53:58,544 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 08:54:40,863 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 08:55:02,070 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 08:55:02,072 — INFO — app — [API] Received question: what is Jennifer Franklin famous for?, company_id: 3, bot_id: 1, session_id: 2649ee15-9047-4d95-9863-4a024c6b6c8a
2025-06-10 08:55:02,072 — INFO — app — [BOT] Using mode: qa
2025-06-10 08:55:02,072 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:02,168 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 08:55:02,583 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 08:55:02,748 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 08:55:02,829 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 08:55:02,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:55:02,998 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 08:55:02,999 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 08:55:02,999 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:03,272 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 08:55:03,276 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 08:55:03,277 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "event_id": 468,
  "company_id": 3,
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "extraction_methods": "standard,ocr_image",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 08:55:03,277 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 08:55:03,308 — INFO — app — [MEMORY] Created new history for session 2649ee15-9047-4d95-9863-4a024c6b6c8a
2025-06-10 08:55:17,837 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:55:17,851 — INFO — langchain.retrievers.multi_query — Generated queries: ['What are the notable achievements of Jennifer Franklin?  ', 'In what areas has Jennifer Franklin gained recognition?  ', "Can you provide information on Jennifer Franklin's contributions or accomplishments?"]
2025-06-10 08:55:18,577 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:18,848 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:19,260 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:19,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:20,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:20,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 08:55:21,273 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:21,652 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 08:55:23,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:55:23,068 — INFO — openai._base_client — Retrying request to /chat/completions in 0.474511 seconds
2025-06-10 08:55:24,773 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 08:55:24,773 — INFO — openai._base_client — Retrying request to /chat/completions in 0.951177 seconds
2025-06-10 08:55:37,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 08:55:37,545 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:05:51,961 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:06:09,834 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:06:09,835 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: f2d6f191-374a-40a2-93b7-4f1c9169cd88
2025-06-10 09:06:09,836 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:06:09,836 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:06:09,933 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:06:10,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:06:10,501 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:06:10,601 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:06:10,694 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:06:10,784 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:06:10,784 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:06:10,852 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:06:10,856 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "chunk_index": 0,
  "source_type": "pdf",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "source_page": 1,
  "file_size": 1205340
}
2025-06-10 09:06:10,857 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:06:10,891 — INFO — app — [MEMORY] Created new history for session f2d6f191-374a-40a2-93b7-4f1c9169cd88
2025-06-10 09:06:11,647 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:11,887 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:06:12,173 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:12,800 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:06:24,023 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:06:30,028 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:10:38,677 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:10:59,435 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:10:59,438 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 8a53ac98-0edf-4f35-a45c-10c12aa4a5e2
2025-06-10 09:10:59,439 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:10:59,439 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:10:59,573 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:10:59,985 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:11:00,272 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:11:00,356 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:11:00,454 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:00,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:00,632 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:11:00,632 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:11:00,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:11:00,783 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structure_type": "paragraph",
  "event_id": 468,
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "file_type": ".pdf",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 09:11:00,784 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:00,814 — INFO — app — [MEMORY] Created new history for session 8a53ac98-0edf-4f35-a45c-10c12aa4a5e2
2025-06-10 09:11:01,681 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:01,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:02,209 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:02,459 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:13,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:11:19,157 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:11:31,370 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:11:31,370 — INFO — app — [API] Received question: what notable projects has Jennifer worked on?, company_id: 3, bot_id: 1, session_id: 39f48449-54b4-471b-a8ae-4818ac8c23e0
2025-06-10 09:11:31,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:11:31,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:31,405 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:11:31,666 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:11:31,832 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:11:31,967 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:11:32,089 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:32,192 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:11:32,192 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:11:32,192 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:11:32,192 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:32,356 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:11:32,361 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "bot_id": 1,
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "source_page": 1,
  "company_id": 3
}
2025-06-10 09:11:32,362 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:11:32,391 — INFO — app — [MEMORY] Created new history for session 39f48449-54b4-471b-a8ae-4818ac8c23e0
2025-06-10 09:11:37,498 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:11:37,502 — INFO — openai._base_client — Retrying request to /chat/completions in 0.436190 seconds
2025-06-10 09:11:50,967 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:11:50,978 — INFO — langchain.retrievers.multi_query — Generated queries: ['What significant projects has Jennifer been involved in?  ', 'Can you list some key initiatives that Jennifer has contributed to?  ', 'What are some of the major works or accomplishments of Jennifer?']
2025-06-10 09:11:51,483 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:51,781 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,027 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:52,216 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:52,556 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:11:52,957 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:53,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:11:54,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:11:54,190 — INFO — openai._base_client — Retrying request to /chat/completions in 0.426569 seconds
2025-06-10 09:12:00,601 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:12:00,602 — INFO — openai._base_client — Retrying request to /chat/completions in 0.898723 seconds
2025-06-10 09:12:01,981 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-10 09:12:02,010 — ERROR — app — [STREAM] Error in chain: Error code: 500 - {'error': {'message': 'The server had an error while processing your request. Sorry about that!', 'type': 'server_error', 'param': None, 'code': None}}
2025-06-10 09:13:43,941 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:14:08,936 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:14:08,938 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 62714f6f-167b-49e4-a10a-f9b048d4933e
2025-06-10 09:14:08,939 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:14:08,939 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:14:08,939 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:09,033 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:14:09,538 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:14:09,768 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:14:09,899 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:14:09,972 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:10,060 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:10,060 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:14:10,060 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:14:10,136 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:14:10,142 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_index": 0,
  "source_type": "pdf",
  "structural_density": 0.8210000000000001,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "event_id": 468,
  "file_size": 1205340
}
2025-06-10 09:14:10,143 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:10,178 — INFO — app — [MEMORY] Created new history for session 62714f6f-167b-49e4-a10a-f9b048d4933e
2025-06-10 09:14:10,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:11,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:11,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:11,682 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:22,095 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:14:26,976 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:14:40,478 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:14:40,478 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience, company_id: 3, bot_id: 1, session_id: f4d1aed5-d010-47d5-a8f9-ed47be940e1c
2025-06-10 09:14:40,479 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:14:40,479 — INFO — app — [BOT] Auto-selected retrieval strategy: MultiQuery (enhanced coverage)
2025-06-10 09:14:40,479 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:40,508 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:14:40,680 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:14:40,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:14:41,032 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:14:41,244 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:41,366 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:14:41,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:14:41,367 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:14:41,367 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:41,558 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER] Initialized BM25 with 18 documents
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=5, threshold=0.1
2025-06-10 09:14:41,561 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-10 09:14:41,561 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:14:41,592 — INFO — app — [MEMORY] Created new history for session f4d1aed5-d010-47d5-a8f9-ed47be940e1c
2025-06-10 09:14:53,596 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:14:53,606 — INFO — langchain.retrievers.multi_query — Generated queries: ['What projects has Jennifer Franklin worked on, and what is her professional experience?', "Can you provide details on Jennifer Franklin's work history and the projects she has been involved in?", "What are the key projects and experiences that define Jennifer Franklin's career?"]
2025-06-10 09:14:54,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:54,616 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:54,872 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:54,998 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:55,190 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:55,302 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:14:57,504 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:14:57,832 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:15:04,429 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:15:29,295 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:17:50,934 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:22:49,137 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:23:08,413 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:23:08,414 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: 72bb7fb1-31a0-4b86-ad5a-5ea888c5589d
2025-06-10 09:23:08,415 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:23:08,415 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:23:08,415 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:23:08,490 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:23:08,925 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:23:09,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:23:09,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:23:09,293 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:23:09,416 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:23:09,416 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:23:09,417 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:23:09,528 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:23:09,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_index": 0,
  "company_id": 3,
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_type": "pdf"
}
2025-06-10 09:23:09,535 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:23:09,566 — INFO — app — [MEMORY] Created new history for session 72bb7fb1-31a0-4b86-ad5a-5ea888c5589d
2025-06-10 09:23:10,349 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:10,535 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:23:10,880 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:11,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:23:22,409 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:23:27,961 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:33:43,851 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:33:58,451 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:33:58,453 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: test_fix_session
2025-06-10 09:33:58,454 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:33:58,454 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:33:58,454 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:33:58,551 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:33:58,946 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:33:59,099 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:33:59,217 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:33:59,281 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:33:59,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:33:59,393 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:33:59,394 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:33:59,505 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:33:59,511 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:33:59,512 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "contains_image_text": true,
  "company_id": 3,
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "file_type": ".pdf"
}
2025-06-10 09:33:59,512 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:34:00,345 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:00,586 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:34:00,977 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:01,340 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:34:12,166 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:34:17,758 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:37:00,413 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:37:11,257 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:37:11,259 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: conv_test_session
2025-06-10 09:37:11,259 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:37:11,259 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:37:11,259 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:11,346 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:37:11,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:37:12,159 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:37:12,248 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:37:12,371 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:12,494 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:12,494 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:37:12,494 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:37:12,590 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:37:12,595 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:37:12,595 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:37:12,596 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:37:12,596 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "company_id": 3,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340,
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "file_type": ".pdf",
  "source_page": 1,
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_type": "pdf"
}
2025-06-10 09:37:12,596 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:12,631 — INFO — app — [MEMORY] Created new history for session conv_test_session
2025-06-10 09:37:13,556 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:13,932 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:37:14,309 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:14,783 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:26,685 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:37:31,970 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:37:40,644 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:37:40,645 — INFO — app — [API] Received question: what is her email address?, company_id: 3, bot_id: 1, session_id: conv_test_session
2025-06-10 09:37:40,645 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:37:40,645 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:37:40,645 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:40,681 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:37:40,973 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:37:41,445 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:37:41,511 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:37:41,632 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:41,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:37:41,718 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:37:41,718 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:37:41,836 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:37:41,839 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:37:41,839 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:37:41,840 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:37:41,840 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "event_id": 468,
  "mime": "application/pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 09:37:41,840 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:37:42,231 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:42,495 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:37:42,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:43,278 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:37:44,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:37:46,424 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:39:00,670 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:39:00,671 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: perf_test_1749566340
2025-06-10 09:39:00,671 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:39:00,671 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:39:00,672 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:39:00,709 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:39:00,929 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:39:01,159 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:39:01,296 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:39:01,423 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:39:01,593 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:39:01,593 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:39:01,593 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:39:01,668 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:39:01,676 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:39:01,676 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:39:01,677 — INFO — retriever — [RETRIEVER] Hybrid retriever ready — k=12, threshold=0.1
2025-06-10 09:39:01,677 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 1205340,
  "source_type": "pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "structural_density": 0.8210000000000001,
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 09:39:01,677 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:39:01,706 — INFO — app — [MEMORY] Created new history for session perf_test_1749566340
2025-06-10 09:39:02,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:02,824 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:39:04,229 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:04,415 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:39:14,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:39:19,653 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:40:16,071 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:40:31,086 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:40:31,088 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: speed_test_1749566431
2025-06-10 09:40:31,088 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:40:31,088 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:40:31,089 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:40:31,181 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:40:31,763 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:40:32,098 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:40:32,229 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:40:32,312 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:40:32,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:40:32,426 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:40:32,426 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:40:32,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=12
2025-06-10 09:40:32,532 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "event_id": 468,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "company_id": 3
}
2025-06-10 09:40:32,533 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:40:32,565 — INFO — app — [MEMORY] Created new history for session speed_test_1749566431
2025-06-10 09:40:33,352 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:40:33,731 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:40:45,037 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:40:50,586 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:41:12,291 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:41:12,291 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: context_test
2025-06-10 09:41:12,292 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:41:12,292 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:41:12,292 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:41:12,320 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:41:12,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:41:12,781 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:41:12,861 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:41:12,995 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:41:13,129 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:41:13,129 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:41:13,130 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:41:13,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=5
2025-06-10 09:41:13,212 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "file_type": ".pdf",
  "contains_image_text": true,
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 09:41:13,212 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:41:13,240 — INFO — app — [MEMORY] Created new history for session context_test
2025-06-10 09:41:13,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:41:13,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:41:25,077 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:41:32,157 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:45:06,883 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:45:20,108 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:45:20,110 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: perf_optimized_1749566720
2025-06-10 09:45:20,110 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:45:20,110 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:45:20,110 — INFO — app — [BOT] Optimized k=3 for simple query
2025-06-10 09:45:20,110 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:45:20,196 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:45:20,722 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:45:20,891 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:45:21,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:45:21,201 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:45:21,314 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:45:21,315 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:45:21,315 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:45:21,393 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:45:21,399 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:45:21,400 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=3
2025-06-10 09:45:21,400 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "bot_id": 1,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_type": ".pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "source_type": "pdf",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059"
}
2025-06-10 09:45:21,400 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:45:21,430 — INFO — app — [MEMORY] Created new history for session perf_optimized_1749566720
2025-06-10 09:45:22,400 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:45:22,666 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:45:34,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:45:38,488 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 09:46:36,833 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:46:51,779 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:46:51,780 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: ultra_fast_1749566811
2025-06-10 09:46:51,781 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:46:51,781 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:46:51,781 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:46:51,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:46:51,862 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:46:52,325 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:46:52,545 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:46:52,711 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:46:52,841 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:46:52,935 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:46:52,936 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:46:52,936 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:46:53,035 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:46:53,041 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:46:53,041 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:46:53,042 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "created_time": 1749562180.2579546,
  "source_page": 1,
  "contains_image_text": true,
  "file_size": 1205340,
  "event_id": 468,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "bot_id": 1,
  "structure_type": "paragraph",
  "file_type": ".pdf"
}
2025-06-10 09:46:53,042 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:46:53,042 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:46:53,071 — INFO — app — [MEMORY] Created new history for session ultra_fast_1749566811
2025-06-10 09:46:53,901 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:46:54,082 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:46:54,509 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:46:54,817 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:47:50,412 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:47:50,412 — INFO — app — [API] Received question: who is Jennifer Franklin?, company_id: 3, bot_id: 1, session_id: conversation_test
2025-06-10 09:47:50,413 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:47:50,414 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:47:50,414 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:47:50,414 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:47:50,448 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:47:50,630 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:47:50,800 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:47:50,892 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:47:50,990 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:47:51,059 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:47:51,061 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:47:51,061 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:47:51,171 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:47:51,179 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "source_type": "pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "company_id": 3,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/pdf",
  "event_id": 468,
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "file_size": 1205340
}
2025-06-10 09:47:51,180 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:47:51,180 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:47:51,207 — INFO — app — [MEMORY] Created new history for session conversation_test
2025-06-10 09:47:51,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:47:52,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:47:52,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:47:53,795 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:48:04,883 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:48:04,884 — INFO — app — [API] Received question: what is her email address?, company_id: 3, bot_id: 1, session_id: conversation_test
2025-06-10 09:48:04,885 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:48:04,885 — INFO — app — [BOT] Auto-selected retrieval strategy: Direct (maximum speed)
2025-06-10 09:48:04,885 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:48:04,885 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:04,927 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:48:05,311 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:48:05,563 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:48:05,729 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:48:05,831 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:06,006 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:06,006 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:48:06,006 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:48:06,249 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:48:06,253 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "structure_type": "paragraph",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf"
}
2025-06-10 09:48:06,254 — INFO — app — [BOT] Using gpt-3.5-turbo for maximum speed on simple query
2025-06-10 09:48:06,254 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:06,595 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:06,780 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:07,363 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:08,872 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:48:20,483 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:48:20,484 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience, company_id: 3, bot_id: 1, session_id: intelligence_test
2025-06-10 09:48:20,485 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:48:20,485 — INFO — app — [BOT] Auto-selected retrieval strategy: MultiQuery (enhanced coverage)
2025-06-10 09:48:20,485 — INFO — app — [BOT] Optimized k=8 for complex query
2025-06-10 09:48:20,485 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:20,525 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:48:21,123 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:48:21,327 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:48:21,455 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:48:21,553 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:21,648 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:48:21,649 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:48:21,649 — INFO — retriever — [RETRIEVER] Using MultiQueryRetriever for enhanced coverage
2025-06-10 09:48:21,649 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:21,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:48:21,849 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:48:21,850 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.1
2025-06-10 09:48:21,851 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=8, threshold=0.1
2025-06-10 09:48:21,851 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "event_id": 468,
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structure_type": "paragraph",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic"
}
2025-06-10 09:48:21,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:48:21,881 — INFO — app — [MEMORY] Created new history for session intelligence_test
2025-06-10 09:48:24,465 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:24,489 — INFO — langchain.retrievers.multi_query — Generated queries: ['What projects has Jennifer Franklin worked on, and what is her professional experience?', "Can you provide details on Jennifer Franklin's work history and the projects she has been involved in?", "What are the key projects and experiences that define Jennifer Franklin's career?"]
2025-06-10 09:48:24,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:25,232 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:25,651 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:25,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:26,180 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:26,270 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:48:27,222 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:27,492 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:48:28,989 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:48:41,913 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:55:24,238 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:55:36,313 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:55:36,314 — INFO — app — [API] Received question: what is Jennifer Franklin email?, company_id: 3, bot_id: 1, session_id: simple_test_1749567336
2025-06-10 09:55:36,315 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:55:36,315 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 09:55:36,315 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 09:55:36,315 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:36,387 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:55:36,853 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:55:37,053 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:55:37,160 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:55:37,254 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:37,347 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:37,350 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:55:37,350 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:55:37,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 09:55:37,431 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "structural_density": 0.8210000000000001,
  "mime": "application/pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "file_size": 1205340,
  "source_type": "pdf"
}
2025-06-10 09:55:37,432 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 09:55:37,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:37,461 — INFO — app — [MEMORY] Created new history for session simple_test_1749567336
2025-06-10 09:55:38,601 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:55:38,829 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:55:39,261 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:55:39,346 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 09:55:49,897 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:55:49,898 — INFO — app — [API] Received question: what projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: medium_test_1749567349
2025-06-10 09:55:49,899 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:55:49,899 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 09:55:49,899 — INFO — app — [BOT] Optimized k=4 for medium query
2025-06-10 09:55:49,899 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:49,928 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:55:50,140 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:55:50,400 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:55:50,479 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:55:50,549 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:50,665 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:55:50,666 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:55:50,666 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 09:55:50,791 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:55:50,795 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:55:50,795 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 09:55:50,796 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "source_page": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "content_type": "unstructured_text",
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "file_size": 1205340,
  "mime": "application/pdf",
  "structural_density": 0.8210000000000001
}
2025-06-10 09:55:50,797 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 09:55:50,797 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:55:50,824 — INFO — app — [MEMORY] Created new history for session medium_test_1749567349
2025-06-10 09:55:51,074 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:55:51,444 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:55:51,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:55:52,921 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:56:05,669 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:56:05,670 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience background, company_id: 3, bot_id: 1, session_id: complex_test_1749567365
2025-06-10 09:56:05,670 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:56:05,670 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 09:56:05,670 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 09:56:05,670 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:05,698 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:56:05,993 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:56:06,224 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:56:06,295 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:56:06,368 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:56:06,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:56:06,522 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:56:06,522 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 09:56:06,523 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:06,621 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 09:56:06,628 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "file_size": 1205340,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime": "application/pdf",
  "bot_id": 1
}
2025-06-10 09:56:06,629 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 09:56:06,629 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:56:06,656 — INFO — app — [MEMORY] Created new history for session complex_test_1749567365
2025-06-10 09:56:08,104 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:56:08,113 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are some of the projects that Jennifer Franklin has worked on and what is her background in terms of experience?', "2. Can you provide information on Jennifer Franklin's professional projects and experience background?", "3. I'm interested in learning more about Jennifer Franklin's background in terms of projects and experience. Can you provide some details?"]
2025-06-10 09:56:08,408 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:08,616 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:08,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:09,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:09,497 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:09,663 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:10,385 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:10,538 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:56:10,871 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:11,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:56:11,780 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:56:28,934 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 09:57:31,888 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 09:57:57,612 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 09:57:57,627 — INFO — app — [API] Received question: tell me about Jennifer Franklin projects and experience background, company_id: 3, bot_id: 1, session_id: final_complex_test_1749567477
2025-06-10 09:57:57,627 — INFO — app — [BOT] Using mode: qa
2025-06-10 09:57:57,627 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 09:57:57,627 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 09:57:57,627 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:57,716 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 09:57:58,085 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 09:57:58,348 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 09:57:58,408 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 09:57:58,484 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:57:58,550 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 09:57:58,551 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 09:57:58,551 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 09:57:58,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:58,745 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 09:57:58,749 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 09:57:58,749 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 09:57:58,750 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 09:57:58,750 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "created_time": 1749562180.2579546,
  "mime": "application/pdf",
  "modified_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "event_id": 468,
  "company_id": 3,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001
}
2025-06-10 09:57:58,750 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 09:57:58,750 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 09:57:58,780 — INFO — app — [MEMORY] Created new history for session final_complex_test_1749567477
2025-06-10 09:57:59,792 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:57:59,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are some of the notable projects Jennifer Franklin has worked on and what is her professional background?', "2. Can you provide information on Jennifer Franklin's past experiences and the projects she has been involved in?"]
2025-06-10 09:58:00,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:00,839 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:58:01,126 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:01,273 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 09:58:01,604 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:02,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 09:58:03,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:58:28,609 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:01:19,763 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:01:41,258 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:01:41,259 — INFO — app — [API] Received question: What is the doctor appointment time?, company_id: 3, bot_id: 1, session_id: fa4de22b-9ca1-4ce8-8a85-c0ef43232bd5
2025-06-10 10:01:41,260 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:01:41,260 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:01:41,260 — INFO — app — [BOT] Optimized k=2 for simple query
2025-06-10 10:01:41,260 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:01:41,338 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:01:41,684 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:01:41,998 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:01:42,083 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:01:42,334 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:01:42,410 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:01:42,411 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:01:42,411 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:01:42,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:01:42,527 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:01:42,527 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:01:42,528 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_type": ".pdf",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "bot_id": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "company_id": 3,
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 10:01:42,528 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:01:42,528 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:01:42,557 — INFO — app — [MEMORY] Created new history for session fa4de22b-9ca1-4ce8-8a85-c0ef43232bd5
2025-06-10 10:01:43,760 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:01:44,099 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:01:44,509 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:01:44,651 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A']
2025-06-10 10:02:07,618 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:07,619 — INFO — app — [API] Received question: What are your loan rates and fees?, company_id: 3, bot_id: 1, session_id: fa5423c3-23b2-413a-851d-eb31b71e8d89
2025-06-10 10:02:07,619 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:07,619 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:02:07,620 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 10:02:07,620 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:07,651 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:07,996 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:08,153 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:08,240 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:08,343 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:08,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:08,406 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:08,406 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:02:08,406 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:08,527 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:08,533 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:08,533 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:02:08,534 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:02:08,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "event_id": 468,
  "contains_image_text": true,
  "company_id": 3,
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "chunk_type": "semantic"
}
2025-06-10 10:02:08,534 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:02:08,534 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:08,563 — INFO — app — [MEMORY] Created new history for session fa5423c3-23b2-413a-851d-eb31b71e8d89
2025-06-10 10:02:10,012 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:10,021 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What is the interest rate for loans and what additional fees are associated with borrowing money?', '2. Can you provide information on the cost of borrowing, including both the interest rates and any fees involved in taking out a loan?']
2025-06-10 10:02:10,482 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:10,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:10,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:11,061 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:11,522 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:12,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:23,288 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:23,443 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_text.txt', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:02:37,889 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:37,889 — INFO — app — [API] Received question: List all the software features available, company_id: 3, bot_id: 1, session_id: 9e1b9f28-17f6-4aa0-b8e7-a8b7e5212a59
2025-06-10 10:02:37,890 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:37,890 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:02:37,891 — INFO — app — [BOT] Optimized k=4 for medium query
2025-06-10 10:02:37,891 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:37,925 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:38,121 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:38,264 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:38,321 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:38,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:38,513 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:38,514 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:38,514 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:02:38,648 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:38,652 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:38,653 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:02:38,653 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "event_id": 468,
  "source_type": "pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:02:38,653 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:02:38,653 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:38,682 — INFO — app — [MEMORY] Created new history for session 9e1b9f28-17f6-4aa0-b8e7-a8b7e5212a59
2025-06-10 10:02:38,999 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:39,250 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:39,738 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:40,200 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:02:51,969 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:02:51,970 — INFO — app — [API] Received question: Analyze the competitive landscape and provide strategic recommendations for market expansion, company_id: 3, bot_id: 1, session_id: 514e53ad-5a18-4198-a800-b7b2366fbfa4
2025-06-10 10:02:51,971 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:02:51,971 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:02:51,971 — INFO — app — [BOT] Optimized k=6 for complex query
2025-06-10 10:02:51,971 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:52,018 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:02:52,349 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:02:52,627 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:02:52,688 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:02:52,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:52,902 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:02:52,905 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:02:52,905 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:02:52,905 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:53,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:02:53,224 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:02:53,225 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:02:53,225 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:02:53,226 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structural_density": 0.8210000000000001,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_size": 1205340,
  "mime": "application/pdf",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059"
}
2025-06-10 10:02:53,226 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:02:53,226 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:02:53,291 — INFO — app — [MEMORY] Created new history for session 514e53ad-5a18-4198-a800-b7b2366fbfa4
2025-06-10 10:02:54,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:54,246 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Evaluate the market competition and suggest strategies for expanding market presence', '2. Examine the competitive environment and propose tactics for increasing market reach and growth opportunities']
2025-06-10 10:02:54,678 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:54,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:55,528 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:55,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:02:56,251 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:56,788 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:02:57,418 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:02:57,691 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:06:26,233 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:06:38,430 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:06:38,432 — INFO — app — [API] Received question: What is Jennifer phone number?, company_id: 3, bot_id: 1, session_id: 19a791ff-0d2e-430b-9469-05bc1702af71
2025-06-10 10:06:38,432 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:06:38,432 — INFO — app — [BOT] Hardcoded complexity detection: simple (took 0.000s)
2025-06-10 10:06:38,432 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:06:38,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:06:38,503 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:06:38,970 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:06:39,143 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:06:39,200 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:06:39,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:06:39,492 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:06:39,493 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:06:39,493 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:06:39,604 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:06:39,699 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "company_id": 3,
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source_type": "pdf"
}
2025-06-10 10:06:39,700 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:06:39,700 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:06:39,728 — INFO — app — [MEMORY] Created new history for session 19a791ff-0d2e-430b-9469-05bc1702af71
2025-06-10 10:06:40,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:06:40,740 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:06:41,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:06:41,435 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:06:59,330 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:07:11,484 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:07:11,485 — INFO — app — [API] Received question: What is Jennifer phone number?, company_id: 3, bot_id: 1, session_id: a80f421a-76e9-4ca7-b49a-a10504f3175d
2025-06-10 10:07:11,485 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:07:11,485 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:15,168 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:15,352 — INFO — app — [LLM] Classification: simple (took 3.867s)
2025-06-10 10:07:15,352 — INFO — app — [BOT] LLM complexity detection: simple (took 3.867s)
2025-06-10 10:07:15,352 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:07:15,353 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:15,391 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:07:15,633 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:07:15,820 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:07:15,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:07:16,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:16,189 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:16,190 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:07:16,190 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:07:16,291 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:07:16,303 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:07:16,303 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:07:16,304 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "extraction_methods": "standard,ocr_image"
}
2025-06-10 10:07:16,304 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:07:16,304 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:16,339 — INFO — app — [MEMORY] Created new history for session a80f421a-76e9-4ca7-b49a-a10504f3175d
2025-06-10 10:07:17,454 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:17,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:18,181 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:18,282 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:07:31,203 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:07:31,205 — INFO — app — [API] Received question: I need help understanding the best approach for improving our customer satisfaction metrics, company_id: 3, bot_id: 1, session_id: 8d585cc4-39f4-4854-9eff-932a0b5c2f7b
2025-06-10 10:07:31,207 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:07:31,207 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:31,740 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:31,742 — INFO — app — [LLM] Classification: complex (took 0.535s)
2025-06-10 10:07:31,742 — INFO — app — [BOT] LLM complexity detection: complex (took 0.535s)
2025-06-10 10:07:31,742 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:07:31,742 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:31,771 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:07:31,915 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:07:32,128 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:07:32,256 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:07:32,356 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:32,415 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:07:32,416 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:07:32,416 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:07:32,417 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:32,522 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:07:32,537 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:07:32,537 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:07:32,538 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:07:32,539 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "source_page": 1,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "bot_id": 1,
  "contains_image_text": true,
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime_type": "application/pdf"
}
2025-06-10 10:07:32,539 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:07:32,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:07:32,570 — INFO — app — [MEMORY] Created new history for session 8d585cc4-39f4-4854-9eff-932a0b5c2f7b
2025-06-10 10:07:33,311 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:33,319 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What strategies can be implemented to enhance customer satisfaction metrics?', '2. How can we optimize customer satisfaction metrics within our organization?']
2025-06-10 10:07:33,881 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:34,106 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:34,393 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:34,514 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:07:34,877 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:35,133 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:07:35,775 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:07:36,049 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_table.csv', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:07:51,101 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:08:05,786 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:08:05,788 — INFO — app — [API] Received question: I need help understanding the best approach for improving our customer satisfaction metrics, company_id: 3, bot_id: 1, session_id: 4e4611cd-d567-4441-a884-8fb713bcc902
2025-06-10 10:08:05,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:08:05,788 — INFO — app — [BOT] Hardcoded complexity detection: medium (took 0.000s)
2025-06-10 10:08:05,789 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:08:05,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:08:05,872 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:08:06,231 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:08:06,427 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:08:06,563 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:08:06,751 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:08:08,178 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:08:08,180 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:08:08,180 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:08:08,329 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:08:08,334 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:08:08,334 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:08:08,335 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "source_type": "pdf",
  "extraction_methods": "standard,ocr_image",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "bot_id": 1,
  "company_id": 3,
  "event_id": 468,
  "chunk_index": 0,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "chunk_type": "semantic",
  "content_type": "unstructured_text"
}
2025-06-10 10:08:08,335 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:08:08,335 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:08:08,363 — INFO — app — [MEMORY] Created new history for session 4e4611cd-d567-4441-a884-8fb713bcc902
2025-06-10 10:08:09,374 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:08:09,575 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:08:10,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:08:10,759 — INFO — app — [RETRIEVAL] Sources: ['sample_powerpoint.pptx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_table.csv'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:13:10,730 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:13:24,441 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:24,442 — INFO — app — [API] Received question: What is Jennifer email address?, company_id: 3, bot_id: 1, session_id: 82edffe4-00d7-44e0-90bf-8e4f95651061
2025-06-10 10:13:24,443 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:24,443 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:13:24,443 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:24,531 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:25,171 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:25,333 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:25,473 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:25,567 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:25,691 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:25,691 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:25,692 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:13:25,768 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:25,773 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:25,774 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:13:25,774 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_index": 0,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "event_id": 468,
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "contains_image_text": true
}
2025-06-10 10:13:25,774 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:13:25,774 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:25,805 — INFO — app — [MEMORY] Created new history for session 82edffe4-00d7-44e0-90bf-8e4f95651061
2025-06-10 10:13:26,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:27,094 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:27,600 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:27,785 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A']
2025-06-10 10:13:41,837 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:41,837 — INFO — app — [API] Received question: List all the services you offer, company_id: 3, bot_id: 1, session_id: dc00ac27-6b9c-439c-8d0c-8cc06f21757a
2025-06-10 10:13:41,838 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:41,838 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:13:41,838 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:41,874 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:42,075 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:42,396 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:42,489 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:42,615 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:42,709 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:42,710 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:42,710 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:13:42,776 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:13:42,782 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "bot_id": 1,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "event_id": 468
}
2025-06-10 10:13:42,783 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:13:42,783 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:42,813 — INFO — app — [MEMORY] Created new history for session dc00ac27-6b9c-439c-8d0c-8cc06f21757a
2025-06-10 10:13:43,457 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:43,611 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:44,238 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:44,507 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:13:55,033 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:13:55,047 — INFO — app — [API] Received question: Tell me about Jennifer experience and qualifications, company_id: 3, bot_id: 1, session_id: 9a96f269-0a18-4ace-88bf-9fc3bf02ef37
2025-06-10 10:13:55,048 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:13:55,048 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:13:55,048 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,082 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:13:55,245 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:13:55,386 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:13:55,515 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:13:55,586 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:55,681 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:13:55,682 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:13:55,683 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:13:55,684 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,787 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:13:55,793 — INFO — retriever — [RETRIEVER] Initialized BM25 with 26 documents
2025-06-10 10:13:55,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:13:55,799 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:13:55,800 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "company_id": 3,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "source_page": 1,
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "event_id": 468,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 10:13:55,800 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:13:55,800 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:13:55,838 — INFO — app — [MEMORY] Created new history for session 9a96f269-0a18-4ace-88bf-9fc3bf02ef37
2025-06-10 10:13:56,575 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:13:56,606 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are Jennifer's professional qualifications and work experience?", "2. Can you provide information on Jennifer's background, skills, and previous roles?"]
2025-06-10 10:13:56,994 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:57,275 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:57,510 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:57,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:13:58,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:13:58,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:14:14,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:14:30,953 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:31:54,800 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:31:54,816 — INFO — app — [API] Received question: What are the operating hours for all Lucas offices?, company_id: 3, bot_id: 1, session_id: 00c3426c-f03c-4073-9da6-1146281b8b5d
2025-06-10 10:31:54,821 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:31:54,823 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:31:54,825 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:31:54,903 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:31:55,194 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:31:55,412 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:31:55,532 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:31:55,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:31:55,732 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:31:55,733 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:31:55,733 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:31:55,820 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:31:55,842 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:31:55,842 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:31:55,843 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structural_density": 0.8210000000000001,
  "bot_id": 1,
  "file_size": 1205340,
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structure_type": "paragraph",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "event_id": 468
}
2025-06-10 10:31:55,843 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:31:55,843 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:31:56,001 — INFO — app — [MEMORY] Created new history for session 00c3426c-f03c-4073-9da6-1146281b8b5d
2025-06-10 10:31:57,181 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:31:57,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:31:58,369 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:00,352 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:32:16,784 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:32:16,784 — INFO — app — [API] Received question: What are the hours for the downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 2712dd31-1933-49ad-91d4-1b0e7c995546
2025-06-10 10:32:16,785 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:32:16,785 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:32:16,785 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:16,812 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:32:17,105 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:32:17,277 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:32:17,342 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:32:17,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:17,555 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:17,556 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:32:17,556 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:32:17,637 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:32:17,661 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "bot_id": 1,
  "source_type": "pdf",
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime": "application/pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "event_id": 468,
  "file_type": ".pdf"
}
2025-06-10 10:32:17,661 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:32:17,661 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:17,688 — INFO — app — [MEMORY] Created new history for session 2712dd31-1933-49ad-91d4-1b0e7c995546
2025-06-10 10:32:18,809 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:32:19,001 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:32:19,658 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:20,573 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:32:39,346 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:32:39,346 — INFO — app — [API] Received question: Show me the operating hours for each Lucas office location, company_id: 3, bot_id: 1, session_id: 5990393f-5e9c-483f-9cb3-236ca93f0276
2025-06-10 10:32:39,347 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:32:39,347 — INFO — app — [BOT] Auto-detected complexity: simple → Direct (maximum speed)
2025-06-10 10:32:39,347 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:39,390 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:32:39,805 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:32:40,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:32:40,186 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:32:40,283 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:40,376 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:32:40,376 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:32:40,376 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:32:40,523 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=2
2025-06-10 10:32:40,538 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "source_page": 1,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "source_type": "pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 10:32:40,538 — INFO — app — [BOT] Using gpt-3.5-turbo for simple query optimization
2025-06-10 10:32:40,538 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:32:40,567 — INFO — app — [MEMORY] Created new history for session 5990393f-5e9c-483f-9cb3-236ca93f0276
2025-06-10 10:32:41,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:32:41,401 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:32:41,756 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:32:43,319 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A']
2025-06-10 10:33:02,814 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:33:02,814 — INFO — app — [API] Received question: List all Lucas office locations and their operating schedules, company_id: 3, bot_id: 1, session_id: fe1f931e-51ab-4bfd-a0c1-694d87bc5394
2025-06-10 10:33:02,814 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:33:02,816 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:33:02,816 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:02,850 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:33:03,038 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:33:03,363 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:33:03,422 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:33:03,516 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:33:03,582 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:33:03,583 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:33:03,583 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:33:03,584 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:03,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:33:03,791 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:33:03,793 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:33:03,797 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:33:03,797 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "file_type": ".pdf",
  "file_size": 1205340,
  "mime_type": "application/pdf",
  "source_page": 1,
  "chunk_index": 0,
  "source_type": "pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "modified_time": 1749562180.2579546,
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:33:03,798 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:33:03,798 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:33:03,827 — INFO — app — [MEMORY] Created new history for session fe1f931e-51ab-4bfd-a0c1-694d87bc5394
2025-06-10 10:33:04,797 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:33:04,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the addresses and hours of operation for Lucas offices?', '2. Where can I find a comprehensive list of Lucas office locations and their opening hours?']
2025-06-10 10:33:05,325 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:05,614 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:33:05,853 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:06,062 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:33:06,576 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:09,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:33:24,953 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:05,035 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:34:21,366 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:34:21,366 — INFO — app — [API] Received question: List all Lucas office locations and their operating schedules, company_id: 3, bot_id: 1, session_id: ded15d21-7b7a-4b0a-b437-5441e1605e46
2025-06-10 10:34:21,367 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:34:21,367 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:34:21,367 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:21,403 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:34:21,693 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:34:21,965 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:34:22,097 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:34:22,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:34:22,336 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:34:22,337 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:34:22,337 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:34:22,337 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:22,436 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:34:22,450 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:34:22,451 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:34:22,451 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:34:22,452 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "mime": "application/pdf",
  "event_id": 468,
  "contains_image_text": true,
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 10:34:22,452 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:34:22,452 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:34:22,484 — INFO — app — [MEMORY] Created new history for session ded15d21-7b7a-4b0a-b437-5441e1605e46
2025-06-10 10:34:23,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:23,185 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. What are the addresses and hours of operation for Lucas offices?', '2. Where can I find a list of Lucas office locations and their opening hours?']
2025-06-10 10:34:23,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:23,776 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:34:24,013 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:24,135 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:34:24,714 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:25,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:34:25,632 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:34:40,557 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:35:50,946 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:36:03,872 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:36:03,873 — INFO — app — [API] Received question: What are the hours for the downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 09207023-ab88-44a9-8951-d385b1e10f4c
2025-06-10 10:36:03,873 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:36:03,874 — INFO — app — [BOT] Auto-detected complexity: medium → Enhanced Direct (balanced speed+quality)
2025-06-10 10:36:03,874 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:36:03,949 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:36:04,448 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:36:04,663 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:36:04,745 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:36:04,886 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:36:04,991 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:36:04,992 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:36:04,992 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:36:05,103 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=4
2025-06-10 10:36:05,108 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "company_id": 3,
  "file_size": 1205340,
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "contains_image_text": true,
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "structural_density": 0.8210000000000001,
  "mime": "application/pdf",
  "chunk_index": 0,
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf"
}
2025-06-10 10:36:05,109 — INFO — app — [BOT] Using gpt-3.5-turbo for medium query optimization
2025-06-10 10:36:05,109 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:36:05,137 — INFO — app — [MEMORY] Created new history for session 09207023-ab88-44a9-8951-d385b1e10f4c
2025-06-10 10:36:06,151 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:36:06,947 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:36:07,366 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:36:07,497 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:46:11,418 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:46:11,425 — INFO — app — [API] Received question: Tell me about Jennifer experience and projects, company_id: 3, bot_id: 1, session_id: 4ce09e8a-7324-4af9-abec-481f2e251315
2025-06-10 10:46:11,428 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:46:11,428 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (comprehensive coverage)
2025-06-10 10:46:11,429 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:11,492 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:46:11,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:46:12,068 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:46:12,178 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:46:12,269 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:46:12,342 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:46:12,342 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:46:12,343 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:46:12,344 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:12,569 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:46:12,577 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:46:12,578 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:46:12,583 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:46:12,583 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "company_id": 3,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "event_id": 468,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "contains_image_text": true,
  "mime_type": "application/pdf",
  "bot_id": 1,
  "chunk_type": "semantic"
}
2025-06-10 10:46:12,586 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:46:12,586 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:46:12,616 — INFO — app — [MEMORY] Created new history for session 4ce09e8a-7324-4af9-abec-481f2e251315
2025-06-10 10:46:13,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:46:13,388 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are some of Jennifer's notable projects and accomplishments?", "2. Can you provide information on Jennifer's professional experience and successful projects?"]
2025-06-10 10:46:13,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:14,187 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:46:14,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:14,665 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:46:15,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:15,511 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:46:16,143 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:46:25,064 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:47:51,454 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:48:04,355 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:48:04,357 — INFO — app — [API] Received question: Tell me about Jennifer experience and projects, company_id: 3, bot_id: 1, session_id: e7e6fc21-1f84-4286-bc82-2823948d61a6
2025-06-10 10:48:04,357 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:48:04,357 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:48:04,357 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:04,430 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:48:04,894 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:48:05,112 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:48:05,183 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:48:05,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:05,513 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:05,514 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:48:05,514 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:48:05,618 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:48:05,625 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:48:05,626 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:48:05,626 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "event_id": 468,
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_page": 1,
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_index": 0,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "modified_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001
}
2025-06-10 10:48:05,626 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:48:05,626 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:05,677 — INFO — app — [MEMORY] Created new history for session e7e6fc21-1f84-4286-bc82-2823948d61a6
2025-06-10 10:48:06,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:48:06,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:48:07,164 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:48:12,619 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:48:35,188 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:48:48,511 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:48:48,513 — INFO — app — [API] Received question: What is Jennifer email?, company_id: 3, bot_id: 1, session_id: 012ddc54-5d07-4178-9b33-78559c37fcd0
2025-06-10 10:48:48,513 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:48:48,513 — INFO — app — [BOT] FORCE_ALL_COMPLEX enabled → All queries complex
2025-06-10 10:48:48,513 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:48:48,513 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:48,567 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:48:49,036 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:48:49,215 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:48:49,303 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:48:49,466 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:49,561 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:48:49,562 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:48:49,562 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:48:49,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:48:49,679 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:48:49,680 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:48:49,680 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "modified_time": 1749562180.2579546,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "contains_image_text": true,
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "source_type": "pdf"
}
2025-06-10 10:48:49,680 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:48:49,680 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:48:49,710 — INFO — app — [MEMORY] Created new history for session 012ddc54-5d07-4178-9b33-78559c37fcd0
2025-06-10 10:48:50,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:48:51,146 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:48:51,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:48:52,437 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:49:06,478 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:49:06,478 — INFO — app — [API] Received question: What are the hours for downtown Lucas office?, company_id: 3, bot_id: 1, session_id: 6c1f4054-5cff-4f9b-b233-bc886f2d49da
2025-06-10 10:49:06,479 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:49:06,479 — INFO — app — [BOT] FORCE_ALL_COMPLEX enabled → All queries complex
2025-06-10 10:49:06,479 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:49:06,479 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:49:06,506 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:49:06,808 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:49:07,090 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:49:07,193 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:49:07,341 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:49:07,481 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:49:07,482 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:49:07,482 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:49:07,552 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:49:07,570 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_type": ".pdf",
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340
}
2025-06-10 10:49:07,570 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:49:07,570 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:49:07,599 — INFO — app — [MEMORY] Created new history for session 6c1f4054-5cff-4f9b-b233-bc886f2d49da
2025-06-10 10:49:08,574 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:49:08,861 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:49:09,784 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:49:09,915 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:50:36,309 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:50:51,483 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:50:51,484 — INFO — app — [API] Received question: Tell me about Jennifers professional background, experience, and major achievements, company_id: 3, bot_id: 1, session_id: 1f03a65d-23cb-4a02-ad7a-e6fbef9b97ca
2025-06-10 10:50:51,484 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:50:51,484 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:50:51,484 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:50:51,556 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:50:51,850 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:50:52,021 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:50:52,141 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:50:52,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:50:52,316 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:50:52,317 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:50:52,318 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:50:52,427 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:50:52,432 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "company_id": 3,
  "bot_id": 1,
  "structural_density": 0.8210000000000001,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "created_time": 1749562180.2579546,
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "contains_image_text": true,
  "source_page": 1,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_size": 1205340,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph"
}
2025-06-10 10:50:52,432 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:50:52,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:50:52,462 — INFO — app — [MEMORY] Created new history for session 1f03a65d-23cb-4a02-ad7a-e6fbef9b97ca
2025-06-10 10:50:53,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:50:53,327 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:51:01,789 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:51:15,400 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:51:41,130 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:51:56,001 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:51:56,003 — INFO — app — [API] Received question: Tell me about Jennifers professional background, experience, and major achievements, company_id: 3, bot_id: 1, session_id: 2656e9e1-c775-4144-a816-507cf545ecf6
2025-06-10 10:51:56,003 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:51:56,003 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (original comprehensive)
2025-06-10 10:51:56,003 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:56,078 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:51:56,358 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:51:56,629 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:51:56,720 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:51:56,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:51:56,948 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:51:56,949 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:51:56,949 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:51:56,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:57,051 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:51:57,156 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "chunk_index": 0,
  "event_id": 468,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "file_size": 1205340,
  "contains_image_text": true,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "company_id": 3,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "created_time": 1749562180.2579546,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:51:57,157 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:51:57,157 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:51:57,184 — INFO — app — [MEMORY] Created new history for session 2656e9e1-c775-4144-a816-507cf545ecf6
2025-06-10 10:51:58,802 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:51:58,813 — INFO — langchain.retrievers.multi_query — Generated queries: ["1. What are Jennifer's qualifications, work history, and notable accomplishments in her career?", "2. Can you provide information on Jennifer's professional resume, past roles, and significant contributions in her field?"]
2025-06-10 10:51:59,376 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:51:59,639 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:51:59,873 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:00,001 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:00,569 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:01,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:02,077 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:08,691 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:52:30,341 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:52:30,342 — INFO — app — [API] Received question: Compare the operational differences between Lucas office locations including their schedules, staffing, and service capabilities, company_id: 3, bot_id: 1, session_id: 95a6b232-8a74-439d-9cd7-5a118318e26d
2025-06-10 10:52:30,342 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:52:30,342 — INFO — app — [BOT] Auto-detected complexity: complex → MultiQuery (original comprehensive)
2025-06-10 10:52:30,342 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:30,372 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:52:30,717 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:52:30,901 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:52:31,002 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:52:31,100 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:52:31,229 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:52:31,230 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:52:31,230 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:52:31,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:31,425 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:52:31,430 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.8210000000000001,
  "chunk_index": 0,
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1
}
2025-06-10 10:52:31,431 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:52:31,431 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:52:31,464 — INFO — app — [MEMORY] Created new history for session 95a6b232-8a74-439d-9cd7-5a118318e26d
2025-06-10 10:52:32,283 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:32,284 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the operational variations among Lucas office branches in terms of their working hours, team composition, and range of services offered', '2. Analyze the differences in operations across Lucas office sites, considering factors such as opening hours, staffing levels, and service capacities']
2025-06-10 10:52:32,996 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:33,198 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:33,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:33,617 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:52:34,045 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:34,378 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:52:36,343 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:52:43,451 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_word.docx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:53:06,764 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:53:22,272 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:53:22,273 — INFO — app — [API] Received question: Compare the operational differences between Lucas office locations including their schedules, staffing, and service capabilities, company_id: 3, bot_id: 1, session_id: 9383943f-4c31-4a5f-aea9-690f013e0211
2025-06-10 10:53:22,273 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:53:22,274 — INFO — app — [BOT] Auto-detected complexity: complex → Fast Comprehensive (3-5s streaming)
2025-06-10 10:53:22,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:53:22,347 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:53:22,801 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:53:23,009 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:53:23,142 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:53:23,326 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:53:23,411 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:53:23,412 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:53:23,413 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:53:23,529 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:53:23,535 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "structural_density": 0.8210000000000001,
  "contains_image_text": true,
  "chunk_type": "semantic",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "file_size": 1205340,
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546
}
2025-06-10 10:53:23,535 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:53:23,535 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:53:23,567 — INFO — app — [MEMORY] Created new history for session 9383943f-4c31-4a5f-aea9-690f013e0211
2025-06-10 10:53:24,187 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:53:24,378 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:53:25,136 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:53:46,011 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:56:36,271 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 10:56:48,236 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:56:48,238 — INFO — app — [API] Received question: Compare the schedules and services of different Lucas office locations, company_id: 3, bot_id: 1, session_id: 65878bc1-3568-4505-81a3-0aaabf10d35a
2025-06-10 10:56:48,238 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:56:48,238 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-06-10 10:56:48,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:48,307 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:56:48,659 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:56:48,843 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:56:49,043 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:56:49,173 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:56:49,246 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:56:49,248 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:56:49,248 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 10:56:49,248 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:49,392 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 10:56:49,399 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "modified_time": 1749562180.2579546,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "file_size": 1205340,
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "source_type": "pdf",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "event_id": 468,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "extraction_methods": "standard,ocr_image",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr"
}
2025-06-10 10:56:49,399 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:56:49,400 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:56:49,426 — INFO — app — [MEMORY] Created new history for session 65878bc1-3568-4505-81a3-0aaabf10d35a
2025-06-10 10:56:50,788 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:56:50,803 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Contrast the operating hours and amenities offered at various Lucas office branches', '2. Analyze the timetables and facilities available at different Lucas office sites']
2025-06-10 10:56:51,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:51,475 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:56:51,804 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:51,910 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:56:52,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:52,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:56:53,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:57:04,959 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 10:57:19,794 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 10:57:19,794 — INFO — app — [API] Received question: Tell me about Jennifers professional background and her major achievements in architecture, company_id: 3, bot_id: 1, session_id: 49c62166-75f8-4c36-909b-35697ae16d5f
2025-06-10 10:57:19,795 — INFO — app — [BOT] Using mode: qa
2025-06-10 10:57:19,795 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (standard complex)
2025-06-10 10:57:19,795 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:57:19,823 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 10:57:20,016 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 10:57:20,252 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 10:57:20,322 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 10:57:20,408 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:57:20,504 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 10:57:20,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 10:57:20,504 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 10:57:20,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 10:57:20,637 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 10:57:20,637 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 10:57:20,638 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "file_size": 1205340,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "contains_image_text": true,
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "bot_id": 1
}
2025-06-10 10:57:20,638 — INFO — app — [BOT] Using gpt-4o-mini for complex query optimization
2025-06-10 10:57:20,638 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 10:57:20,671 — INFO — app — [MEMORY] Created new history for session 49c62166-75f8-4c36-909b-35697ae16d5f
2025-06-10 10:57:21,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 10:57:21,276 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 10:57:21,838 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 10:57:27,888 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:01:05,834 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:01:17,525 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:01:17,527 — INFO — app — [API] Received question: What is Jennifers phone number?, company_id: 3, bot_id: 1, session_id: 7ddd960a-264f-4f7d-8222-09047fb2189d
2025-06-10 11:01:17,528 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:01:17,528 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:01:17,529 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:01:17,529 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:17,611 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:01:18,031 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:01:18,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:01:18,343 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:01:18,429 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:18,568 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:18,569 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:01:18,569 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:01:18,698 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:01:18,703 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "chunk_index": 0,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "source_page": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "modified_time": 1749562180.2579546,
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "contains_image_text": true,
  "file_size": 1205340,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1
}
2025-06-10 11:01:18,704 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:01:18,704 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:18,736 — INFO — app — [MEMORY] Created new history for session 7ddd960a-264f-4f7d-8222-09047fb2189d
2025-06-10 11:01:19,655 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:19,936 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:20,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:21,178 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:01:32,817 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:01:32,817 — INFO — app — [API] Received question: Compare the office hours between different Lucas locations, company_id: 3, bot_id: 1, session_id: 15bed77f-2d17-4055-adfe-f15994c8bdcf
2025-06-10 11:01:32,818 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:01:32,818 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:01:32,818 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-06-10 11:01:32,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:32,853 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:01:33,029 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:01:33,196 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:01:33,306 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:01:33,388 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:33,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:01:33,451 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:01:33,451 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-06-10 11:01:33,451 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:33,642 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-06-10 11:01:33,650 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-06-10 11:01:33,651 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "source_page": 1,
  "timestamp": "2025-06-10T13:33:24.941614",
  "created_time": 1749562180.2579546,
  "source_type": "pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "event_id": 468,
  "mime": "application/pdf",
  "contains_image_text": true,
  "file_type": ".pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "chunk_type": "semantic",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "content_type": "unstructured_text"
}
2025-06-10 11:01:33,651 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:01:33,651 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:01:33,680 — INFO — app — [MEMORY] Created new history for session 15bed77f-2d17-4055-adfe-f15994c8bdcf
2025-06-10 11:01:34,225 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:34,233 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Contrast the operating hours at various Lucas branches', '2. Analyze the differences in office hours across multiple Lucas offices']
2025-06-10 11:01:34,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:34,774 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:35,891 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:36,054 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:01:36,847 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:37,283 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:01:37,767 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:01:45,272 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_excel.xlsx', 'sample_table.csv', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:20:16,088 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:20:16,103 — INFO — app — [API] Received question: Show me the raw content from one Jennifer document chunk, company_id: 3, bot_id: 1, session_id: c2d38b5e-c81d-4470-9c4a-2021e028ca70
2025-06-10 11:20:16,118 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:20:16,119 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:20:16,119 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:20:16,121 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:16,266 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:20:16,622 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:20:16,858 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:20:16,954 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:20:17,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:17,215 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:17,216 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:20:17,217 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:20:17,352 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:20:17,370 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "contains_image_text": true,
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "structure_type": "paragraph",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "mime_type": "application/pdf",
  "chunk_index": 0,
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "semantic",
  "bot_id": 1,
  "mime": "application/pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "content_type": "unstructured_text"
}
2025-06-10 11:20:17,371 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:20:17,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:17,407 — INFO — app — [MEMORY] Created new history for session c2d38b5e-c81d-4470-9c4a-2021e028ca70
2025-06-10 11:20:17,875 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:20:18,092 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:20:18,733 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:20:18,812 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'sample_text.txt', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:20:31,673 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:20:31,674 — INFO — app — [API] Received question: What projects has Jennifer worked on?, company_id: 3, bot_id: 1, session_id: b6028930-6217-49b1-ab1b-1b6b3cbfd648
2025-06-10 11:20:31,674 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:20:31,674 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:20:31,674 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:20:31,674 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:31,709 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:20:31,894 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:20:32,131 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:20:32,198 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:20:32,306 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:32,402 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:20:32,403 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:20:32,403 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:20:32,555 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:20:32,563 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:20:32,564 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:20:32,564 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "structure_type": "paragraph",
  "file_size": 1205340,
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "bot_id": 1,
  "extraction_methods": "standard,ocr_image",
  "modified_time": 1749562180.2579546,
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "company_id": 3,
  "mime": "application/pdf",
  "source_page": 1
}
2025-06-10 11:20:32,564 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:20:32,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:20:32,653 — INFO — app — [MEMORY] Created new history for session b6028930-6217-49b1-ab1b-1b6b3cbfd648
2025-06-10 11:20:33,241 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:20:33,459 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:20:35,385 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:20:42,286 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:21:06,748 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:21:19,394 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:21:19,396 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 7ba764e0-4e68-452e-9851-ad1dc327e956
2025-06-10 11:21:19,397 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:21:19,397 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:21:19,397 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:21:19,397 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:21:19,484 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:21:19,834 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:21:20,189 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:21:20,359 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:21:20,473 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:21:20,588 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:21:20,589 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:21:20,589 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:21:20,783 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:21:20,788 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:21:20,788 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:21:20,789 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "mime": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "structure_type": "paragraph",
  "file_size": 1205340,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime_type": "application/pdf",
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "event_id": 468,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "company_id": 3,
  "chunk_index": 0,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "bot_id": 1
}
2025-06-10 11:21:20,789 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:21:20,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:21:20,821 — INFO — app — [MEMORY] Created new history for session 7ba764e0-4e68-452e-9851-ad1dc327e956
2025-06-10 11:21:21,485 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:21:21,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:21:22,354 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:22:29,400 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:22:41,405 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:22:41,407 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 8fd65f6a-c912-4571-98b7-5e5e7bfa2118
2025-06-10 11:22:41,408 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:22:41,408 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:22:41,408 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:22:41,408 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:22:41,488 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:22:41,914 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:22:42,246 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:22:42,443 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:22:42,572 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:22:42,761 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:22:42,761 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:22:42,762 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:22:42,964 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:22:42,969 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "bot_id": 1,
  "chunk_type": "semantic",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "mime": "application/pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "source_page": 1,
  "created_time": 1749562180.2579546,
  "file_size": 1205340,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "modified_time": 1749562180.2579546,
  "file_type": ".pdf",
  "event_id": 468,
  "structural_density": 0.8210000000000001
}
2025-06-10 11:22:42,969 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:22:42,969 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:22:42,997 — INFO — app — [MEMORY] Created new history for session 8fd65f6a-c912-4571-98b7-5e5e7bfa2118
2025-06-10 11:22:43,663 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:22:44,019 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:22:44,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:22:56,717 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:27:19,456 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:27:32,755 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:27:32,756 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 63e4b4ec-03f4-4f44-8087-538181161dd3
2025-06-10 11:27:32,756 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:27:32,756 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:27:32,756 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:27:32,756 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:27:32,825 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:27:33,310 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:27:33,619 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:27:33,715 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:27:33,833 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:27:33,901 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:27:33,902 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:27:33,902 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:27:34,070 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:27:34,077 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:27:34,078 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:27:34,078 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749562180.2579546,
  "file_size": 1205340,
  "created_time": 1749562180.2579546,
  "chunk_index": 0,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "structural_density": 0.8210000000000001,
  "event_id": 468,
  "extraction_methods": "standard,ocr_image",
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_page": 1,
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "source_type": "pdf"
}
2025-06-10 11:27:34,078 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:27:34,078 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:27:34,108 — INFO — app — [MEMORY] Created new history for session 63e4b4ec-03f4-4f44-8087-538181161dd3
2025-06-10 11:27:35,116 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:27:35,292 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:27:35,712 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:27:41,603 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:28:59,333 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:28:59,335 — INFO — app — [API] Received question: Tell me about Jennifer Franklin, company_id: 3, bot_id: 1, session_id: d03a6e3d-2a55-44a4-8546-7ad6a5f19e59
2025-06-10 11:28:59,337 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:28:59,338 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:28:59,338 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:28:59,338 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:28:59,390 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:28:59,733 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:28:59,918 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:29:00,069 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:29:00,166 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:00,258 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:00,259 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:29:00,259 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:29:00,406 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:29:00,420 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:29:00,421 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:29:00,421 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "chunk_type": "semantic",
  "modified_time": 1749562180.2579546,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "event_id": 468,
  "source_page": 1,
  "file_size": 1205340,
  "extraction_methods": "standard,ocr_image",
  "structural_density": 0.8210000000000001,
  "created_time": 1749562180.2579546,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime": "application/pdf",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf"
}
2025-06-10 11:29:00,421 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:29:00,421 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:00,452 — INFO — app — [MEMORY] Created new history for session d03a6e3d-2a55-44a4-8546-7ad6a5f19e59
2025-06-10 11:29:00,828 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:29:01,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:29:01,462 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:29:08,125 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'Lucas Offices.xlsx', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:29:19,508 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:29:19,508 — INFO — app — [API] Received question: What is Jennifer Franklin job title and experience?, company_id: 3, bot_id: 1, session_id: 3c6ab8de-41da-4b63-bfb0-9ddbf1211c6a
2025-06-10 11:29:19,509 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:29:19,509 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:29:19,509 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:29:19,509 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:19,540 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:29:19,749 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:29:19,912 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:29:19,974 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:29:20,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:20,164 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:29:20,166 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:29:20,166 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:29:20,267 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:29:20,274 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 1205340,
  "event_id": 468,
  "modified_time": 1749562180.2579546,
  "source_page": 1,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "chunk_index": 0,
  "contains_image_text": true,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "extraction_methods": "standard,ocr_image",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "timestamp": "2025-06-10T13:33:24.941614",
  "company_id": 3,
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text"
}
2025-06-10 11:29:20,274 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:29:20,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:29:20,302 — INFO — app — [MEMORY] Created new history for session 3c6ab8de-41da-4b63-bfb0-9ddbf1211c6a
2025-06-10 11:29:20,701 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:29:20,909 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:29:21,593 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:29:23,377 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:33:28,565 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:33:39,786 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:33:39,788 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: 096a99ea-c05f-4c24-8f11-95c1fb9976ba
2025-06-10 11:33:39,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:33:39,789 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:33:39,789 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:33:39,789 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:33:39,939 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:33:40,877 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:33:41,172 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:33:41,276 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:33:41,404 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:33:41,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:33:41,533 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:33:41,533 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:33:41,671 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:33:41,676 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:33:41,676 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:33:41,677 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "event_id": 468,
  "file_size": 1205340,
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "company_id": 3,
  "chunk_index": 0,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T13:33:24.941614",
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_type": ".pdf",
  "bot_id": 1,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf"
}
2025-06-10 11:33:41,677 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:33:41,677 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:33:41,711 — INFO — app — [MEMORY] Created new history for session 096a99ea-c05f-4c24-8f11-95c1fb9976ba
2025-06-10 11:33:42,598 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:33:42,901 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:33:43,467 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:33:53,265 — INFO — app — [MARKDOWN] Post-processed response: 2085 → 1896 chars
2025-06-10 11:33:53,266 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:34:38,819 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:34:49,369 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:34:49,371 — INFO — app — [API] Received question: What is Jennifer Franklin job title and experience?, company_id: 3, bot_id: 1, session_id: 7602563e-1089-431b-83b5-9463dcd6a56c
2025-06-10 11:34:49,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:34:49,371 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:34:49,371 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:34:49,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:34:49,463 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:34:50,006 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:34:50,232 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:34:50,361 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:34:50,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:34:50,524 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:34:50,525 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:34:50,525 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:34:50,625 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:34:50,633 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:34:50,633 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:34:50,634 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "source_page": 1,
  "extraction_methods": "standard,ocr_image",
  "event_id": 468,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".pdf",
  "timestamp": "2025-06-10T13:33:24.941614",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "contains_image_text": true,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "company_id": 3,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "structural_density": 0.8210000000000001,
  "structure_type": "paragraph",
  "modified_time": 1749562180.2579546,
  "mime_type": "application/pdf",
  "file_size": 1205340
}
2025-06-10 11:34:50,634 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:34:50,634 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:34:50,662 — INFO — app — [MEMORY] Created new history for session 7602563e-1089-431b-83b5-9463dcd6a56c
2025-06-10 11:34:51,416 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:34:51,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:34:52,130 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:34:54,662 — INFO — app — [MARKDOWN] Post-processed response: 517 → 486 chars
2025-06-10 11:34:54,663 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:37:18,628 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:37:32,735 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:37:32,736 — INFO — app — [API] Received question: What is Jennifer Franklin job title?, company_id: 3, bot_id: 1, session_id: 151e429a-2177-4d62-911f-deed83e215d8
2025-06-10 11:37:32,737 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:37:32,737 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:37:32,737 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:37:32,737 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:37:32,826 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:37:33,271 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:37:33,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:37:33,581 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:37:33,659 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:37:33,734 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:37:33,735 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:37:33,735 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:37:33,807 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:37:33,817 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:37:33,818 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:37:33,818 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structural_density": 0.8210000000000001,
  "extraction_methods": "standard,ocr_image",
  "file_size": 1205340,
  "file_type": ".pdf",
  "contains_image_text": true,
  "modified_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "source_type": "pdf",
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "structure_type": "paragraph",
  "chunk_index": 0,
  "timestamp": "2025-06-10T13:33:24.941614",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf"
}
2025-06-10 11:37:33,818 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:37:33,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:37:33,848 — INFO — app — [MEMORY] Created new history for session 151e429a-2177-4d62-911f-deed83e215d8
2025-06-10 11:37:34,984 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:37:35,207 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:37:35,835 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:37:36,570 — INFO — app — [MARKDOWN] Post-processed response: 190 → 182 chars
2025-06-10 11:37:36,571 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:38:01,449 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:38:13,032 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:38:13,033 — INFO — app — [API] Received question: What is Jennifer Franklin experience?, company_id: 3, bot_id: 1, session_id: 1c54a59c-afbe-4dc6-bf3d-1606b5518afd
2025-06-10 11:38:13,034 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:38:13,034 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:38:13,034 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:38:13,034 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:38:13,119 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:38:13,437 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:38:13,621 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:38:13,678 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:38:13,904 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:38:13,989 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:38:13,990 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:38:13,990 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:38:14,164 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:38:14,169 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "extraction_methods": "standard,ocr_image",
  "source_type": "pdf",
  "chunk_index": 0,
  "structural_density": 0.8210000000000001,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "created_time": 1749562180.2579546,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "company_id": 3,
  "contains_image_text": true,
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "bot_id": 1,
  "modified_time": 1749562180.2579546
}
2025-06-10 11:38:14,170 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:38:14,170 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:38:14,282 — INFO — app — [MEMORY] Created new history for session 1c54a59c-afbe-4dc6-bf3d-1606b5518afd
2025-06-10 11:38:15,121 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:38:15,443 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:38:16,119 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:38:26,508 — INFO — app — [MARKDOWN] Post-processed response: 2104 → 1917 chars
2025-06-10 11:38:26,509 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:43:59,083 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:44:14,102 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:44:14,103 — INFO — app — [API] Received question: What projects has Jennifer Franklin worked on?, company_id: 3, bot_id: 1, session_id: ae3b8a82-6860-4695-8919-864fca5a403e
2025-06-10 11:44:14,104 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:44:14,104 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:44:14,104 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:44:14,104 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:44:14,192 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:44:15,726 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:44:15,938 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:44:16,063 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:44:16,255 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:44:16,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:44:16,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:44:16,366 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:44:16,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:44:16,479 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "created_time": 1749562180.2579546,
  "contains_image_text": true,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T13:33:24.941614",
  "extraction_methods": "standard,ocr_image",
  "file_type": ".pdf",
  "source_type": "pdf",
  "structure_type": "paragraph",
  "company_id": 3,
  "file_size": 1205340,
  "event_id": 468,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "source_page": 1,
  "modified_time": 1749562180.2579546,
  "mime": "application/pdf"
}
2025-06-10 11:44:16,480 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:44:16,480 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:44:16,508 — INFO — app — [MEMORY] Created new history for session ae3b8a82-6860-4695-8919-864fca5a403e
2025-06-10 11:44:17,134 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:44:17,485 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:44:18,420 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:44:26,714 — INFO — app — [MARKDOWN] Completed streaming. Clean text for history: 1910 chars
2025-06-10 11:44:26,714 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 11:46:14,725 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 11:46:27,537 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 11:46:27,539 — INFO — app — [API] Received question: What is Jennifer Franklin title?, company_id: 3, bot_id: 1, session_id: a2f0be0c-6924-433a-9449-37758e8d4ab2
2025-06-10 11:46:27,539 — INFO — app — [BOT] Using mode: qa
2025-06-10 11:46:27,540 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 11:46:27,540 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 11:46:27,540 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:46:27,623 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 11:46:27,937 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 11:46:28,238 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 11:46:28,298 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 11:46:28,426 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:46:28,518 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 11:46:28,519 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 11:46:28,519 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 11:46:28,596 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/get "HTTP/1.1 200 OK"
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER] Initialized BM25 with 29 documents
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 11:46:28,627 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "contains_image_text": true,
  "created_time": 1749562180.2579546,
  "event_id": 468,
  "timestamp": "2025-06-10T13:33:24.941614",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T13:29:40.261059",
  "file_size": 1205340,
  "storage_key": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "structural_density": 0.8210000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_name": "FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf",
  "structure_type": "paragraph",
  "extraction_methods": "standard,ocr_image",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "company_id": 3,
  "document_id": "mzncxlmz2f40bpqxhzy1gswr",
  "source_page": 1,
  "source": "FDS_Jennifer_Franklin_Resume_b9fc0e516e_519c4c2c6f.pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749562180.2579546
}
2025-06-10 11:46:28,628 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 11:46:28,628 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 11:46:28,660 — INFO — app — [MEMORY] Created new history for session a2f0be0c-6924-433a-9449-37758e8d4ab2
2025-06-10 11:46:29,441 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 11:46:29,630 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/261f5616-3e6a-4b1d-90ac-103f902eadcb/query "HTTP/1.1 200 OK"
2025-06-10 11:46:30,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 11:46:30,980 — INFO — app — [MARKDOWN] Completed streaming. Clean text for history: 271 chars
2025-06-10 11:46:30,981 — INFO — app — [RETRIEVAL] Sources: ['FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf', 'FDS_Jennifer_Franklin_Resume_b9fc0e516e.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 12:50:59,154 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 12:59:08,671 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 12:59:08,678 — INFO — app — [API] Received question: What are the office locations?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 12:59:08,679 — INFO — app — [BOT] Using mode: qa
2025-06-10 12:59:08,679 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 12:59:08,680 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 12:59:08,680 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 12:59:08,836 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 12:59:09,382 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 12:59:09,557 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 12:59:09,682 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 12:59:09,789 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 12:59:09,854 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 12:59:09,856 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 12:59:09,856 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 12:59:09,936 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 12:59:09,941 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 12:59:09,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 12:59:09,943 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "timestamp": "2025-06-10T17:22:50.127037",
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "modified_time": 1749576143.324809,
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "file_type": ".pdf",
  "source_page": 1,
  "file_size": 43838,
  "created_time": 1749576143.324809,
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "company_id": 3,
  "source": "Lucas_Offices_6b36efc81e.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "event_id": 472,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 12:59:09,946 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 12:59:09,946 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 12:59:10,012 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 12:59:11,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 12:59:12,155 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 12:59:12,641 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 12:59:15,891 — INFO — app — [STREAM] Completed streaming. Clean text for history: 659 chars
2025-06-10 12:59:15,893 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:01:20,659 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:01:20,664 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:01:20,667 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:01:20,670 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:01:20,673 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:01:20,674 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:01:20,784 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:01:21,114 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:01:21,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:01:21,453 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:01:21,626 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:01:21,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:01:21,699 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:01:21,700 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:01:21,794 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:01:21,800 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:01:21,801 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:01:21,801 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "timestamp": "2025-06-10T17:22:50.127037",
  "bot_id": 1,
  "event_id": 472,
  "mime_type": "application/pdf",
  "source": "Lucas_Offices_6b36efc81e.pdf",
  "structure_type": "paragraph",
  "modified_time": 1749576143.324809,
  "source_page": 1,
  "source_type": "pdf",
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "created_time": 1749576143.324809,
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "chunk_index": 0,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "content_type": "unstructured_text",
  "structural_density": 0.815
}
2025-06-10 13:01:21,804 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:01:21,804 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:01:22,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:01:23,065 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:01:23,786 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:01:27,591 — INFO — app — [STREAM] Completed streaming. Clean text for history: 659 chars
2025-06-10 13:01:27,594 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:01:44,407 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:02:06,024 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:02:06,027 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:02:06,027 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:02:06,028 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:02:06,028 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:02:06,028 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:02:06,105 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:02:06,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:02:06,591 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:02:06,653 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:02:06,759 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:02:06,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:02:06,861 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:02:06,861 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:02:06,987 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:02:06,990 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:02:06,990 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:02:06,991 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "structural_density": 0.815,
  "storage_key": "Lucas_Offices_6b36efc81e.pdf",
  "modified_time": 1749576143.324809,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 472,
  "content_type": "unstructured_text",
  "file_size": 43838,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T17:22:50.127037",
  "source_type": "pdf",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "created_time": 1749576143.324809,
  "company_id": 3,
  "bot_id": 1,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T17:22:23.326768",
  "chunk_index": 0,
  "document_id": "zmj7mdu5oi5fm7bc03wk3f07",
  "source": "Lucas_Offices_6b36efc81e.pdf"
}
2025-06-10 13:02:06,991 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:02:06,991 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:02:07,354 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:02:07,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:02:09,392 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:02:12,558 — INFO — app — [STREAM] Completed streaming. Clean text for history: 663 chars
2025-06-10 13:02:12,559 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:03:48,047 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:04:38,166 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:04:38,174 — INFO — app — [API] Received question: are there any offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:04:38,181 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:04:38,181 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:04:38,181 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:04:38,182 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:04:38,647 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:04:39,184 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:04:39,615 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:04:39,695 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:04:39,827 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:04:39,951 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:04:39,951 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:04:39,952 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:04:40,105 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:04:40,108 — ERROR — retriever — [RETRIEVER] Error building retriever: division by zero
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 121, in build_retriever
    bm25 = BM25Retriever.from_texts(texts, metadatas=metadatas)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/retrievers/bm25.py", line 64, in from_texts
    vectorizer = BM25Okapi(texts_processed, **bm25_params)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 83, in __init__
    super().__init__(corpus, tokenizer)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 27, in __init__
    nd = self._initialize(corpus)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 52, in _initialize
    self.avgdl = num_doc / self.corpus_size
                 ~~~~~~~~^~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero
2025-06-10 13:04:40,113 — ERROR — app — [BOT] Error processing question: division by zero
Traceback (most recent call last):
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/app.py", line 182, in ask_question
    retriever = retriever_service.build_retriever(
        company_id=company_id,
    ...<3 lines>...
        use_multi_query=use_multi_query
    )
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 113, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/ratelimit/decorators.py", line 80, in wrapper
    return func(*args, **kargs)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/retriever.py", line 121, in build_retriever
    bm25 = BM25Retriever.from_texts(texts, metadatas=metadatas)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/langchain_community/retrievers/bm25.py", line 64, in from_texts
    vectorizer = BM25Okapi(texts_processed, **bm25_params)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 83, in __init__
    super().__init__(corpus, tokenizer)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 27, in __init__
    nd = self._initialize(corpus)
  File "/Users/martybremer/Library/CloudStorage/OneDrive-Latris/Projects/Knowledge Bot/Code Repository/knowledge-bot/knowledge-bot-retrieval/venv/lib/python3.13/site-packages/rank_bm25.py", line 52, in _initialize
    self.avgdl = num_doc / self.corpus_size
                 ~~~~~~~~^~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero
2025-06-10 13:04:40,122 — ERROR — app — [STREAM] Chain error: 500: Error processing question: division by zero
2025-06-10 13:05:10,680 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:05:10,680 — INFO — app — [API] Received question: are there any offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:05:10,681 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:05:10,681 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:05:10,681 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:05:10,681 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:10,739 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:05:11,046 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:05:11,247 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:05:11,372 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:05:11,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:05:11,594 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:05:11,595 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:05:11,595 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:05:11,695 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:05:11,698 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:05:11,699 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:05:11,699 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "company_id": 3,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "structural_density": 0.815,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "chunk_index": 0,
  "modified_time": 1749578644.434959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "event_id": 474,
  "file_size": 43838,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "created_time": 1749578644.435959
}
2025-06-10 13:05:11,700 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:05:11,701 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:11,750 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:05:12,552 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:05:12,729 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:05:13,099 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:05:25,946 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1704 chars
2025-06-10 13:05:25,947 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:05:59,385 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:05:59,389 — INFO — app — [API] Received question: when is the brentwood office open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:05:59,393 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:05:59,393 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:05:59,393 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:05:59,394 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:05:59,680 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:06:00,129 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:06:00,454 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:06:00,534 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:06:00,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:00,788 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:00,790 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:06:00,791 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:06:00,866 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:06:00,870 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:06:00,871 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:06:00,871 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 43838,
  "created_time": 1749578644.435959,
  "source_page": 1,
  "company_id": 3,
  "structure_type": "paragraph",
  "event_id": 474,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.815,
  "mime": "application/pdf",
  "chunk_index": 0,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_type": "semantic",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380"
}
2025-06-10 13:06:00,871 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:06:00,871 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:01,630 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:06:01,837 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:06:02,270 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:06:03,701 — INFO — app — [STREAM] Completed streaming. Clean text for history: 356 chars
2025-06-10 13:06:03,703 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:06:17,369 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:06:17,372 — INFO — app — [API] Received question: when is the belle meade office open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:06:17,375 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:06:17,375 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:06:17,376 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:06:17,376 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:17,520 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:06:17,781 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:06:18,092 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:06:18,165 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:06:18,265 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:18,335 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:06:18,336 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:06:18,337 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:06:18,419 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:06:18,422 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "structural_density": 0.815,
  "timestamp": "2025-06-10T18:04:30.540380",
  "bot_id": 1,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_index": 0,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "created_time": 1749578644.435959,
  "mime_type": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "content_type": "unstructured_text",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "file_size": 43838,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime": "application/pdf",
  "modified_time": 1749578644.434959,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 474,
  "company_id": 3
}
2025-06-10 13:06:18,424 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:06:18,424 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:06:19,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:06:19,359 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:06:20,183 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:06:21,266 — INFO — app — [STREAM] Completed streaming. Clean text for history: 297 chars
2025-06-10 13:06:21,267 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:06:26,362 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:08:08,909 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:08:08,914 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:08:08,918 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:08:08,920 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:08:08,920 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:08:08,920 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:08:09,024 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:08:09,365 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:08:09,674 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:08:09,796 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:08:09,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:08:10,053 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:08:10,054 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:08:10,055 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:08:10,188 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:08:10,211 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:08:10,214 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:08:10,214 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "event_id": 474,
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "company_id": 3,
  "bot_id": 1,
  "file_size": 43838,
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:08:10,216 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:08:10,217 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:08:10,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:08:11,102 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:08:11,573 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:08:23,147 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1783 chars
2025-06-10 13:08:23,152 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:10:38,683 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:10:38,686 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:10:38,689 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:10:38,692 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:10:38,693 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:10:38,693 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:10:38,785 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:10:39,187 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:10:39,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:10:39,706 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:10:39,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:10:40,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:10:40,097 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:10:40,098 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:10:40,252 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:10:40,256 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:10:40,257 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:10:40,257 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_page": 1,
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "company_id": 3,
  "modified_time": 1749578644.434959,
  "chunk_index": 0,
  "file_type": ".pdf"
}
2025-06-10 13:10:40,260 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:10:40,260 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:10:40,777 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:10:41,155 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:10:41,804 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:10:53,126 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1790 chars
2025-06-10 13:10:53,128 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:13:40,190 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:13:40,196 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:13:40,205 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:13:40,207 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:13:40,208 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:13:40,208 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:13:40,401 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:13:40,913 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:13:41,201 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:13:41,297 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:13:41,505 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:13:41,638 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:13:41,639 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:13:41,639 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:13:41,712 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:13:41,716 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:13:41,718 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:13:41,718 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "file_size": 43838,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "event_id": 474,
  "structure_type": "paragraph",
  "created_time": 1749578644.435959,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_type": "pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "source_page": 1,
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "bot_id": 1,
  "modified_time": 1749578644.434959
}
2025-06-10 13:13:41,719 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:13:41,719 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:13:42,178 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:13:42,391 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:13:42,862 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:13:53,476 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1819 chars
2025-06-10 13:13:53,510 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:19:40,187 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:19:40,216 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:19:40,225 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:19:40,228 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:19:40,229 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:19:40,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:19:40,434 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:19:40,675 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:19:40,955 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:19:41,042 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:19:41,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:19:41,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:19:41,366 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:19:41,367 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:19:41,433 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:19:41,442 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:19:41,443 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:19:41,443 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "bot_id": 1,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_index": 0,
  "mime": "application/pdf",
  "source_page": 1,
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "timestamp": "2025-06-10T18:04:30.540380",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_type": "pdf",
  "chunk_type": "semantic",
  "structural_density": 0.815,
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "modified_time": 1749578644.434959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "event_id": 474,
  "file_type": ".pdf"
}
2025-06-10 13:19:41,444 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:19:41,445 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:19:41,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:19:42,114 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:19:42,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:19:57,950 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1757 chars
2025-06-10 13:19:57,951 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:25:32,288 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:25:32,309 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:25:32,313 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:25:32,314 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:25:32,316 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:25:32,322 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:25:32,438 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:25:32,820 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:25:33,106 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:25:33,242 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:25:33,345 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:25:33,496 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:25:33,498 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:25:33,499 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:25:33,626 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:25:33,636 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:25:33,638 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:25:33,638 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749578644.434959,
  "file_size": 43838,
  "bot_id": 1,
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_type": ".pdf",
  "file_name": "Lucas Offices.pdf",
  "source_page": 1,
  "created_time": 1749578644.435959,
  "event_id": 474,
  "structure_type": "paragraph",
  "company_id": 3,
  "chunk_index": 0,
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 13:25:33,642 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:25:33,642 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:25:35,595 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:25:35,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:25:36,356 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:25:46,515 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1757 chars
2025-06-10 13:25:46,516 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:27:15,046 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:27:15,050 — INFO — app — [API] Received question: what hours is brentwood open?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:27:15,054 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:27:15,054 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:27:15,054 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:27:15,055 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:27:15,201 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:27:15,513 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:27:15,692 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:27:15,869 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:27:15,943 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:27:16,070 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:27:16,071 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:27:16,073 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:27:16,141 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:27:16,144 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:27:16,145 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:27:16,146 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "file_size": 43838,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1749578644.434959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "source_page": 1,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "timestamp": "2025-06-10T18:04:30.540380",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "structural_density": 0.815,
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "event_id": 474,
  "mime": "application/pdf"
}
2025-06-10 13:27:16,146 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:27:16,147 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:27:16,675 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:27:16,916 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:27:18,045 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:27:19,963 — INFO — app — [STREAM] Completed streaming. Clean text for history: 356 chars
2025-06-10 13:27:19,964 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:28:51,785 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:28:51,813 — INFO — app — [API] Received question: when is the brentwood office opeN?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:28:51,815 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:28:51,815 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:28:51,815 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:28:51,815 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:28:51,882 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:28:52,219 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:28:52,444 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:28:52,550 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:28:52,743 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:28:52,840 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:28:52,841 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:28:52,842 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:28:52,944 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:28:52,948 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:28:52,949 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:28:52,949 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "bot_id": 1,
  "source_type": "pdf",
  "file_size": 43838,
  "created_time": 1749578644.435959,
  "modified_time": 1749578644.434959,
  "source_page": 1,
  "structure_type": "paragraph",
  "company_id": 3,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "file_name": "Lucas Offices.pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "event_id": 474,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:28:52,953 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:28:52,953 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:28:54,128 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:28:54,330 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:28:54,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:28:56,231 — INFO — app — [STREAM] Completed streaming. Clean text for history: 346 chars
2025-06-10 13:28:56,232 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:31:11,113 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:32:07,534 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:32:45,692 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:32:45,695 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:32:45,696 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:32:45,696 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:32:45,696 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:32:45,696 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:32:45,900 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:32:47,412 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:32:47,642 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:32:47,751 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:32:47,867 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:32:47,963 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:32:47,964 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:32:47,964 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:32:48,032 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:32:48,035 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "file_type": ".pdf",
  "chunk_index": 0,
  "source_page": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_type": "pdf",
  "file_size": 43838,
  "file_name": "Lucas Offices.pdf",
  "structural_density": 0.815,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "event_id": 474,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1
}
2025-06-10 13:32:48,036 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:32:48,036 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:32:48,082 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:32:49,147 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:32:49,403 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:32:49,838 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:32:52,321 — INFO — app — [STREAM] Completed streaming. Clean text for history: 579 chars
2025-06-10 13:32:52,322 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:34:44,674 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:35:14,448 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:35:14,453 — INFO — app — [API] Received question: waht all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:35:14,455 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:35:14,455 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:35:14,455 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:35:14,455 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:35:14,674 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:35:15,284 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:35:15,461 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:35:15,560 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:35:15,655 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:35:15,725 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:35:15,727 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:35:15,729 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:35:15,823 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:35:15,829 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:35:15,830 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:35:15,830 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "file_type": ".pdf",
  "created_time": 1749578644.435959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_size": 43838,
  "mime_type": "application/pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "chunk_index": 0,
  "chunk_type": "semantic",
  "source_page": 1,
  "structural_density": 0.815,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "event_id": 474,
  "file_name": "Lucas Offices.pdf",
  "company_id": 3
}
2025-06-10 13:35:15,831 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:35:15,831 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:35:15,883 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:35:16,792 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:35:17,009 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:35:17,429 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:35:18,681 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:35:18,682 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:36:08,264 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:36:30,062 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:36:30,066 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:36:30,067 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:36:30,067 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:36:30,067 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:36:30,068 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:36:30,284 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:36:30,957 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:36:31,281 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:36:31,375 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:36:31,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:36:31,617 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:36:31,618 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:36:31,618 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:36:31,717 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:36:31,722 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:36:31,723 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:36:31,723 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "chunk_type": "semantic",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "event_id": 474,
  "modified_time": 1749578644.434959,
  "created_time": 1749578644.435959,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_size": 43838,
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "source_page": 1,
  "company_id": 3,
  "mime_type": "application/pdf",
  "mime": "application/pdf"
}
2025-06-10 13:36:31,725 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:36:31,725 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:36:31,812 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:36:33,009 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:36:33,378 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:36:33,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:36:36,857 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Offices Available\n\n- **Gallatin Office**\n  - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**\n  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**\n  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**\n  - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n- **Columbia Office**\n  - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Office**\n  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\nThis list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:36:36,857 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Offices Available

- **Gallatin Office**
  - Address: 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**
  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**
  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**
  - Address: 7004 Moores Ln, Brentwood, TN 37027

- **Columbia Office**
  - Address: 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Office**
  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

This list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:36:36,859 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:36:36,860 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:39:56,603 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:40:31,806 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:40:31,807 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:40:31,808 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:40:31,809 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:40:31,810 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:40:31,811 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:40:31,938 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:40:32,667 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:40:32,898 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:40:33,037 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:40:33,194 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:40:33,291 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:40:33,291 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:40:33,292 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:40:33,365 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:40:33,369 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "content_type": "unstructured_text",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "structure_type": "paragraph",
  "event_id": 474,
  "structural_density": 0.815,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "source_page": 1,
  "mime_type": "application/pdf",
  "created_time": 1749578644.435959,
  "mime": "application/pdf",
  "chunk_index": 0,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "bot_id": 1,
  "timestamp": "2025-06-10T18:04:30.540380",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:40:33,370 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:40:33,370 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:40:33,414 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 13:40:34,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:40:35,286 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:40:35,814 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:40:39,483 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Offices Available\n\n- **Gallatin Office**\n  - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**\n  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**\n  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**\n  - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n- **Columbia Office**\n  - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Office**\n  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\nThis list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:40:39,483 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Offices Available

- **Gallatin Office**
  - Address: 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**
  - Address: 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**
  - Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**
  - Address: 7004 Moores Ln, Brentwood, TN 37027

- **Columbia Office**
  - Address: 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Office**
  - Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

This list provides an overview of all the office locations available for patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:40:39,486 — INFO — app — [STREAM] Completed streaming. Clean text for history: 588 chars
2025-06-10 13:40:39,487 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:43:10,014 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:44:53,940 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:44:53,973 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:44:53,979 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:44:53,980 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:44:53,980 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:44:53,981 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:44:54,055 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:44:54,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:44:54,715 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:44:54,871 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:44:55,067 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:44:55,161 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:44:55,163 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:44:55,164 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:44:55,286 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:44:55,288 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:44:55,289 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:44:55,289 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749578644.434959,
  "created_time": 1749578644.435959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_size": 43838,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.pdf",
  "bot_id": 1,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "company_id": 3,
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "event_id": 474,
  "source_page": 1,
  "structural_density": 0.815,
  "source": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:44:55,289 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:44:55,289 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:44:56,167 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:44:56,448 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:44:57,269 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:45:10,304 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office:**  \n  Address: 1710 Nashville Pike, Gallatin, TN 37066  \n  Hours:  \n  - Monday: 7:30am - 4:30pm  \n  - Tuesday: 6:30am - 3:30pm  \n  - Wednesday: 7:30am - 4:30pm  \n  - Thursday: 7:30am - 4:30pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Belle Meade Office:**  \n  Address: 4525 Harding Pike Suite 110, Nashville, TN 37205  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Berry Farms Office:**  \n  Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Brentwood Office:**  \n  Address: 7004 Moores Ln, Brentwood, TN 37027  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Columbia Office:**  \n  Address: 1501 Nashville Hwy, Columbia, TN 38401  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\n- **Nolensville Office:**  \n  Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  \n  Hours:  \n  - Monday: 7:00am - 4:00pm  \n  - Tuesday: 7:00am - 4:00pm  \n  - Wednesday: 7:00am - 4:00pm  \n  - Thursday: 7:00am - 4:00pm  \n  Phone:  \n  - New Patients: 629-260-7397  \n  - Existing Patients: 615-377-7777  \n\nThis list provides a comprehensive overview of the available offices, their addresses, hours of operation, and contact information for new and existing patients.  \n[source: Lucas Offices.pdf#0]'
2025-06-10 13:45:10,306 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office:**  
  Address: 1710 Nashville Pike, Gallatin, TN 37066  
  Hours:  
  - Monday: 7:30am - 4:30pm  
  - Tuesday: 6:30am - 3:30pm  
  - Wednesday: 7:30am - 4:30pm  
  - Thursday: 7:30am - 4:30pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Belle Meade Office:**  
  Address: 4525 Harding Pike Suite 110, Nashville, TN 37205  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Berry Farms Office:**  
  Address: 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Brentwood Office:**  
  Address: 7004 Moores Ln, Brentwood, TN 37027  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Columbia Office:**  
  Address: 1501 Nashville Hwy, Columbia, TN 38401  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

- **Nolensville Office:**  
  Address: 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  
  Hours:  
  - Monday: 7:00am - 4:00pm  
  - Tuesday: 7:00am - 4:00pm  
  - Wednesday: 7:00am - 4:00pm  
  - Thursday: 7:00am - 4:00pm  
  Phone:  
  - New Patients: 629-260-7397  
  - Existing Patients: 615-377-7777  

This list provides a comprehensive overview of the available offices, their addresses, hours of operation, and contact information for new and existing patients.  
[source: Lucas Offices.pdf#0]
2025-06-10 13:45:10,310 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1672 chars
2025-06-10 13:45:10,312 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:45:46,594 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:46:53,115 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:46:53,122 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:46:53,125 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:46:53,127 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:46:53,127 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:46:53,128 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:46:53,198 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:46:53,623 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:46:53,847 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:46:53,949 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:46:54,055 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:46:54,235 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:46:54,237 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:46:54,239 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:46:54,305 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:46:54,310 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 474,
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "created_time": 1749578644.435959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "chunk_type": "semantic",
  "file_type": ".pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "bot_id": 1,
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.pdf",
  "file_size": 43838,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "modified_time": 1749578644.434959,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959"
}
2025-06-10 13:46:54,311 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:46:54,311 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:46:55,008 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:46:55,296 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:46:55,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:47:09,552 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\nThis list provides a comprehensive overview of the available office locations, their addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:47:09,553 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

This list provides a comprehensive overview of the available office locations, their addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:47:09,554 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1759 chars
2025-06-10 13:47:09,556 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:50:06,950 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:50:27,782 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:50:27,787 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:50:27,788 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:50:27,789 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:50:27,790 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:50:27,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:50:27,839 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:50:28,099 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:50:28,389 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:50:28,453 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:50:28,548 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:50:28,640 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:50:28,641 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:50:28,642 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:50:28,782 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:50:28,784 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:50:28,785 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:50:28,785 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "source_page": 1,
  "file_size": 43838,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "company_id": 3,
  "created_time": 1749578644.435959,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime_type": "application/pdf",
  "event_id": 474,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "timestamp": "2025-06-10T18:04:30.540380",
  "structural_density": 0.815,
  "modified_time": 1749578644.434959,
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "document_id": "edm6349xogyi7gmnc5uximnm"
}
2025-06-10 13:50:28,785 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:50:28,786 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:50:29,193 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:50:29,442 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:50:29,967 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:50:42,589 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\nThis information provides a comprehensive overview of the office locations, addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]'
2025-06-10 13:50:42,589 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm
- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777

This information provides a comprehensive overview of the office locations, addresses, hours of operation, and contact information for new and existing patients. [source: Lucas Offices.pdf#0]
2025-06-10 13:50:42,590 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1750 chars
2025-06-10 13:50:42,591 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:52:14,887 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:52:41,465 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:52:41,474 — INFO — app — [API] Received question: what are brentwoods hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:52:41,490 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:52:41,492 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:52:41,493 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:52:41,495 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:52:41,578 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:52:41,823 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:52:42,222 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:52:42,305 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:52:42,410 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:52:42,502 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:52:42,504 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:52:42,505 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:52:42,604 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:52:42,606 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:52:42,607 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:52:42,607 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "structure_type": "paragraph",
  "modified_time": 1749578644.434959,
  "chunk_index": 0,
  "source_type": "pdf",
  "structural_density": 0.815,
  "file_type": ".pdf",
  "event_id": 474,
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "company_id": 3,
  "file_size": 43838,
  "source_page": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "content_type": "unstructured_text",
  "created_time": 1749578644.435959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf"
}
2025-06-10 13:52:42,608 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:52:42,608 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:52:44,049 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:52:44,306 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:52:44,894 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:52:46,278 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n\n- **Tuesday:** 7:00am - 4:00pm\n\n- **Wednesday:** 7:00am - 4:00pm\n\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:52:46,279 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm

- **Tuesday:** 7:00am - 4:00pm

- **Wednesday:** 7:00am - 4:00pm

- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:52:46,279 — INFO — app — [STREAM] Completed streaming. Clean text for history: 163 chars
2025-06-10 13:52:46,279 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:54:16,313 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 13:54:34,908 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:54:34,916 — INFO — app — [API] Received question: what are brentwood's hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:54:34,917 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:54:34,917 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:54:34,918 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:54:34,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:34,983 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:54:35,521 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:54:35,783 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:54:35,905 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:54:36,038 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:36,151 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:36,312 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:54:36,313 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:54:36,386 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:54:36,388 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:54:36,389 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:54:36,389 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "paragraph",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "source_page": 1,
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "mime": "application/pdf",
  "source_type": "pdf",
  "created_time": 1749578644.435959,
  "event_id": 474,
  "file_size": 43838,
  "bot_id": 1,
  "company_id": 3,
  "source": "Lucas_Offices_e2bce0bf1f.pdf"
}
2025-06-10 13:54:36,390 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:54:36,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:36,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:54:37,218 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:54:37,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:54:38,899 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n\n- **Tuesday:** 7:00am - 4:00pm\n\n- **Wednesday:** 7:00am - 4:00pm\n\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:54:38,899 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm

- **Tuesday:** 7:00am - 4:00pm

- **Wednesday:** 7:00am - 4:00pm

- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:54:38,899 — INFO — app — [STREAM] Completed streaming. Clean text for history: 163 chars
2025-06-10 13:54:38,900 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:54:51,031 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:54:51,031 — INFO — app — [API] Received question: what all offices are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:54:51,032 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:54:51,032 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:54:51,032 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:54:51,032 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:51,082 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:54:51,356 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:54:51,503 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:54:51,597 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:54:51,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:51,757 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:54:51,764 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:54:51,764 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:54:51,884 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:54:51,885 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_size": 43838,
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "created_time": 1749578644.435959,
  "source_page": 1,
  "file_type": ".pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "chunk_index": 0,
  "modified_time": 1749578644.434959,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "mime_type": "application/pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T18:04:30.540380",
  "mime": "application/pdf",
  "file_name": "Lucas Offices.pdf",
  "event_id": 474,
  "structural_density": 0.815,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf"
}
2025-06-10 13:54:51,885 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:54:51,885 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:54:52,254 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:54:52,514 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:54:52,987 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:55:07,221 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n- **Phone:**\n  - New Patients: 629-260-7397\n  - Existing Patients: 615-377-7777\n\n\nThis overview provides a comprehensive list of all office locations, their addresses, hours of operation, and contact information for new and existing patients. \n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:55:07,221 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066

- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

- **Phone:**
  - New Patients: 629-260-7397
  - Existing Patients: 615-377-7777


This overview provides a comprehensive list of all office locations, their addresses, hours of operation, and contact information for new and existing patients. 

[source: Lucas Offices.pdf#0]
2025-06-10 13:55:07,222 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1737 chars
2025-06-10 13:55:07,223 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:55:41,606 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:55:41,607 — INFO — app — [API] Received question: what are brentwoods hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:55:41,608 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:55:41,608 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:55:41,608 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:55:41,608 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:55:41,666 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:55:41,916 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:55:42,108 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:55:42,180 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:55:42,307 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:55:42,441 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:55:42,442 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:55:42,442 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:55:42,537 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:55:42,538 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:55:42,538 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:55:42,539 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 43838,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "source_page": 1,
  "structural_density": 0.815,
  "structure_type": "paragraph",
  "bot_id": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "created_time": 1749578644.435959,
  "chunk_type": "semantic",
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "mime": "application/pdf",
  "source_type": "pdf",
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380",
  "file_name": "Lucas Offices.pdf",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 13:55:42,539 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:55:42,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:55:43,686 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:55:43,858 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:55:44,405 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:55:46,115 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Brentwood Office Hours\n\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:55:46,115 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Brentwood Office Hours

- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:55:46,115 — INFO — app — [STREAM] Completed streaming. Clean text for history: 171 chars
2025-06-10 13:55:46,116 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 13:56:00,803 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 13:56:00,803 — INFO — app — [API] Received question: what all office locations are there?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 13:56:00,804 — INFO — app — [BOT] Using mode: qa
2025-06-10 13:56:00,804 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 13:56:00,804 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 13:56:00,804 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:56:00,833 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 13:56:01,004 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 13:56:01,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 13:56:01,407 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 13:56:01,501 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:56:01,605 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 13:56:01,605 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 13:56:01,605 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 13:56:01,704 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 13:56:01,707 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 474,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "company_id": 3,
  "file_type": ".pdf",
  "bot_id": 1,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "timestamp": "2025-06-10T18:04:30.540380",
  "source_page": 1,
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "file_name": "Lucas Offices.pdf",
  "mime": "application/pdf",
  "created_time": 1749578644.435959,
  "file_size": 43838,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "structural_density": 0.815,
  "chunk_type": "semantic"
}
2025-06-10 13:56:01,707 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 13:56:01,707 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 13:56:02,371 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 13:56:02,632 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 13:56:02,972 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 13:56:12,597 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n#### 1. Gallatin Office\n\n- **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n- **Hours:**\n  - Monday: 7:30am - 4:30pm\n  - Tuesday: 6:30am - 3:30pm\n  - Wednesday: 7:30am - 4:30pm\n  - Thursday: 7:30am - 4:30pm\n\n#### 2. Belle Meade Office\n\n- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n#### 3. Berry Farms Office\n\n- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n#### 4. Brentwood Office\n\n- **Address:** 7004 Moores Ln, Brentwood, TN 37027\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n#### 5. Columbia Office\n\n- **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n\n#### 6. Nolensville Office\n\n- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n- **Hours:**\n  - Monday: 7:00am - 4:00pm\n  - Tuesday: 7:00am - 4:00pm\n  - Wednesday: 7:00am - 4:00pm\n  - Thursday: 7:00am - 4:00pm\n\n[source: Lucas Offices.pdf#0]'
2025-06-10 13:56:12,598 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

#### 1. Gallatin Office

- **Address:** 1710 Nashville Pike, Gallatin, TN 37066
- **Hours:**
  - Monday: 7:30am - 4:30pm
  - Tuesday: 6:30am - 3:30pm
  - Wednesday: 7:30am - 4:30pm
  - Thursday: 7:30am - 4:30pm

#### 2. Belle Meade Office

- **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

#### 3. Berry Farms Office

- **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

#### 4. Brentwood Office

- **Address:** 7004 Moores Ln, Brentwood, TN 37027
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

#### 5. Columbia Office

- **Address:** 1501 Nashville Hwy, Columbia, TN 38401
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm

#### 6. Nolensville Office

- **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135
- **Hours:**
  - Monday: 7:00am - 4:00pm
  - Tuesday: 7:00am - 4:00pm
  - Wednesday: 7:00am - 4:00pm
  - Thursday: 7:00am - 4:00pm

[source: Lucas Offices.pdf#0]
2025-06-10 13:56:12,599 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1156 chars
2025-06-10 13:56:12,600 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 14:26:09,287 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 14:27:49,055 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 14:27:49,098 — INFO — app — [API] Received question: what are the office hours for all locations?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 14:27:49,102 — INFO — app — [BOT] Using mode: qa
2025-06-10 14:27:49,105 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 14:27:49,105 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 14:27:49,106 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:27:49,291 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 14:27:49,940 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 14:27:50,199 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 14:27:50,347 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 14:27:50,432 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:27:50,591 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:27:50,593 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 14:27:50,593 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 14:27:50,727 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 14:27:50,737 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 14:27:50,738 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 14:27:50,738 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "storage_key": "Lucas_Offices_e2bce0bf1f.pdf",
  "file_size": 43838,
  "document_id": "edm6349xogyi7gmnc5uximnm",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.815,
  "file_type": ".pdf",
  "content_type": "unstructured_text",
  "chunk_type": "semantic",
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T18:04:04.436959",
  "event_id": 474,
  "chunk_index": 0,
  "file_name": "Lucas Offices.pdf",
  "mime_type": "application/pdf",
  "source": "Lucas_Offices_e2bce0bf1f.pdf",
  "company_id": 3,
  "created_time": 1749578644.435959,
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "source_type": "pdf",
  "modified_time": 1749578644.434959,
  "timestamp": "2025-06-10T18:04:30.540380"
}
2025-06-10 14:27:50,741 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 14:27:50,742 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:27:51,773 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 14:27:51,966 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 14:27:52,394 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 14:27:59,764 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours for All Locations\n\n#### 1. Gallatin Office\n- **Monday:** 7:30am - 4:30pm\n- **Tuesday:** 6:30am - 3:30pm\n- **Wednesday:** 7:30am - 4:30pm\n- **Thursday:** 7:30am - 4:30pm\n\n#### 2. Belle Meade Office\n- **Monday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n\n#### 3. Berry Farms Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n#### 4. Brentwood Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\n#### 5. Columbia Office\n- **Monday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n\n#### 6. Nolensville Office\n- **Monday:** 7:00am - 4:00pm\n- **Tuesday:** 7:00am - 4:00pm\n- **Wednesday:** 7:00am - 4:00pm\n- **Thursday:** 7:00am - 4:00pm\n\nThis summary provides the operational hours for each office location. \n\n[source: Lucas Offices.pdf#0]'
2025-06-10 14:27:59,765 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours for All Locations

#### 1. Gallatin Office
- **Monday:** 7:30am - 4:30pm
- **Tuesday:** 6:30am - 3:30pm
- **Wednesday:** 7:30am - 4:30pm
- **Thursday:** 7:30am - 4:30pm

#### 2. Belle Meade Office
- **Monday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm

#### 3. Berry Farms Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

#### 4. Brentwood Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

#### 5. Columbia Office
- **Monday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm

#### 6. Nolensville Office
- **Monday:** 7:00am - 4:00pm
- **Tuesday:** 7:00am - 4:00pm
- **Wednesday:** 7:00am - 4:00pm
- **Thursday:** 7:00am - 4:00pm

This summary provides the operational hours for each office location. 

[source: Lucas Offices.pdf#0]
2025-06-10 14:27:59,765 — INFO — app — [STREAM] Completed streaming. Clean text for history: 875 chars
2025-06-10 14:27:59,767 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 14:32:30,142 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 14:32:30,150 — INFO — app — [API] Received question: what are the offices?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 14:32:30,155 — INFO — app — [BOT] Using mode: qa
2025-06-10 14:32:30,155 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 14:32:30,155 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 14:32:30,155 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:32:30,230 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 14:32:30,599 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 14:32:30,931 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 14:32:31,047 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 14:32:31,224 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:32:31,295 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 14:32:31,297 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 14:32:31,303 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 14:32:31,407 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 14:32:31,416 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 14:32:31,417 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 14:32:31,420 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "modified_time": 1749583850.8656871,
  "company_id": 3,
  "storage_key": "Lucas_Offices_cdc64030f1.xlsx",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "created_time": 1749583850.8656871,
  "structural_density": 0.865,
  "source": "Lucas_Offices_cdc64030f1.xlsx",
  "event_id": 476,
  "timestamp": "2025-06-10T19:30:51.866312",
  "content_type": "unstructured_text",
  "document_id": "jcnibytfz6pq53ni9or2663w",
  "ingestion_timestamp": "2025-06-10T19:30:50.868009",
  "bot_id": 1,
  "source_page": 1,
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_type": ".xlsx",
  "source_type": "xlsx",
  "structure_type": "paragraph",
  "file_name": "Lucas Offices.xlsx"
}
2025-06-10 14:32:31,422 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 14:32:31,423 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 14:32:31,978 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 14:32:32,175 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 14:32:33,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 14:32:41,322 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office**  \n  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066  \n  - **Hours:**  \n    - Monday: 7:30 AM - 4:30 PM  \n    - Wednesday: 7:30 AM - 4:30 PM  \n    - Thursday: 7:30 AM - 4:30 PM  \n\n- **Belle Meade Office**  \n  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205  \n  - **Hours:**  \n    - Tuesday: 6:30 AM - 3:30 PM  \n    - Thursday: 6:30 AM - 3:30 PM  \n\n- **Berry Farms Office**  \n  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  \n  - **Hours:**  \n    - Monday: 7:00 AM - [Hours not fully provided]  \n\n- **Brentwood Office**  \n  - **Address:** 7004 Moores Lane, Brentwood, TN 37027  \n  - **Hours:**  \n    - Monday: 7:00 AM - 4:00 PM  \n    - Tuesday: 7:00 AM - 4:00 PM  \n    - Wednesday: 7:00 AM - 4:00 PM  \n    - Thursday: 7:00 AM - 4:00 PM  \n\n- **Columbia Office**  \n  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401  \n  - **Hours:**  \n    - Tuesday: 7:30 AM - 4:30 PM  \n    - Thursday: 7:30 AM - 4:30 PM  \n\n- **Nolensville Dental**  \n  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  \n  - **Hours:**  \n    - Monday: 7:30 AM - 4:30 PM  \n    - Every Other Tuesday: 7:30 AM - 4:30 PM  \n    - Wednesday: 7:30 AM - 4:30 PM  \n\nThis overview provides a clear list of the office locations along with their addresses and operating hours. [source: Lucas Offices.xlsx#0]'
2025-06-10 14:32:41,323 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office**  
  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066  
  - **Hours:**  
    - Monday: 7:30 AM - 4:30 PM  
    - Wednesday: 7:30 AM - 4:30 PM  
    - Thursday: 7:30 AM - 4:30 PM  

- **Belle Meade Office**  
  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205  
  - **Hours:**  
    - Tuesday: 6:30 AM - 3:30 PM  
    - Thursday: 6:30 AM - 3:30 PM  

- **Berry Farms Office**  
  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064  
  - **Hours:**  
    - Monday: 7:00 AM - [Hours not fully provided]  

- **Brentwood Office**  
  - **Address:** 7004 Moores Lane, Brentwood, TN 37027  
  - **Hours:**  
    - Monday: 7:00 AM - 4:00 PM  
    - Tuesday: 7:00 AM - 4:00 PM  
    - Wednesday: 7:00 AM - 4:00 PM  
    - Thursday: 7:00 AM - 4:00 PM  

- **Columbia Office**  
  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401  
  - **Hours:**  
    - Tuesday: 7:30 AM - 4:30 PM  
    - Thursday: 7:30 AM - 4:30 PM  

- **Nolensville Dental**  
  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135  
  - **Hours:**  
    - Monday: 7:30 AM - 4:30 PM  
    - Every Other Tuesday: 7:30 AM - 4:30 PM  
    - Wednesday: 7:30 AM - 4:30 PM  

This overview provides a clear list of the office locations along with their addresses and operating hours. [source: Lucas Offices.xlsx#0]
2025-06-10 14:32:41,327 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1141 chars
2025-06-10 14:32:41,328 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:05:39,773 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:05:39,778 — INFO — app — [API] Received question: what are the offices, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:05:39,782 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:05:39,782 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:05:39,783 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:05:39,783 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:05:39,862 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:05:40,118 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:05:40,429 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:05:40,543 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:05:40,697 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:05:40,829 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:05:40,831 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:05:40,832 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:05:40,934 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:05:40,941 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:05:40,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:05:40,942 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 478,
  "file_size": 9767,
  "source_page": 1,
  "chunk_type": "semantic",
  "modified_time": 1749585792.0448182,
  "timestamp": "2025-06-10T20:03:12.092183",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T20:03:12.046860",
  "structure_type": "paragraph",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "file_type": ".xlsx",
  "storage_key": "Lucas_Offices_9b3c8e196f.xlsx",
  "source_type": "xlsx",
  "source": "Lucas_Offices_9b3c8e196f.xlsx",
  "document_id": "bit94kvs6ahibbytyky25q5r",
  "company_id": 3,
  "structural_density": 0.865,
  "created_time": 1749585792.0448182
}
2025-06-10 15:05:40,947 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:05:40,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:05:41,787 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:05:42,076 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:05:42,452 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:05:45,861 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office**  \n  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**  \n  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**  \n  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**  \n  - **Address:** 7004 Moores Lane, Brentwood, TN 37027\n\n- **Columbia Office**  \n  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Dental**  \n  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135\n\n[source: Lucas Offices.xlsx#0]  \n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]'
2025-06-10 15:05:45,861 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office**  
  - **Address:** 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**  
  - **Address:** 4525 Harding Pike Suite 110, Nashville, TN 37205

- **Berry Farms Office**  
  - **Address:** 7020 Berry Farms Crossing Suite 200, Franklin, TN 37064

- **Brentwood Office**  
  - **Address:** 7004 Moores Lane, Brentwood, TN 37027

- **Columbia Office**  
  - **Address:** 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Dental**  
  - **Address:** 7146 Nolensville Rd Suite 101, Nolensville, TN 37135

[source: Lucas Offices.xlsx#0]  
[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]
2025-06-10 15:05:45,863 — INFO — app — [STREAM] Completed streaming. Clean text for history: 569 chars
2025-06-10 15:05:45,865 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:06:41,971 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:06:41,971 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:06:41,972 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:06:41,972 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:06:41,972 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:06:41,972 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:06:42,027 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:06:42,307 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:06:42,567 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:06:42,698 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:06:42,781 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:06:42,877 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:06:42,878 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:06:42,878 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:06:42,959 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:06:42,961 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:06:42,962 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:06:42,962 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "file_type": ".xlsx",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_9b3c8e196f.xlsx",
  "structural_density": 0.865,
  "source_page": 1,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_9b3c8e196f.xlsx",
  "chunk_index": 0,
  "source_type": "xlsx",
  "modified_time": 1749585792.0448182,
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-06-10T20:03:12.046860",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "bit94kvs6ahibbytyky25q5r",
  "company_id": 3,
  "event_id": 478,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1749585792.0448182,
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:03:12.092183"
}
2025-06-10 15:06:42,962 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:06:42,962 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:06:43,747 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:06:43,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:06:44,398 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:06:49,086 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Berry Farms Office\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\n#### Brentwood Office\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Dental\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\nThis overview provides the operating hours for each office location. \n\n[source: Lucas Offices.xlsx#0]  \n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]'
2025-06-10 15:06:49,086 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Berry Farms Office
- **Monday:** 7:00 AM - [Hours not fully provided]

#### Brentwood Office
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Dental
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

This overview provides the operating hours for each office location. 

[source: Lucas Offices.xlsx#0]  
[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]
2025-06-10 15:06:49,087 — INFO — app — [STREAM] Completed streaming. Clean text for history: 813 chars
2025-06-10 15:06:49,088 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:14:04,092 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:14:04,097 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:14:04,103 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:14:04,104 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:14:04,105 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:14:04,105 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:04,171 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:14:04,496 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:14:04,674 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:14:04,769 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:14:04,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:05,064 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:05,065 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:14:05,065 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:14:05,195 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:14:05,198 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:14:05,199 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:14:05,199 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "document_id": "f7ju0z4e8ugrg3sdnukhls76",
  "modified_time": 1749586401.7790897,
  "timestamp": "2025-06-10T20:13:22.454839",
  "structure_type": "paragraph",
  "source_type": "xlsx",
  "structural_density": 0.865,
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T20:13:21.780689",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "event_id": 480,
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1749586401.7790897,
  "chunk_type": "semantic",
  "storage_key": "Lucas_Offices_d74ab57cf2.xlsx",
  "source_page": 1,
  "source": "Lucas_Offices_d74ab57cf2.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_type": ".xlsx"
}
2025-06-10 15:14:05,200 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:14:05,201 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:06,529 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:14:06,779 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:14:07,654 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:14:13,798 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Brentwood Office:\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Dental:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n#### Berry Farms Office:\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\nThis overview provides the operating hours for each office location. Please note that the Berry Farms office has incomplete information regarding its hours. [source: Lucas Offices.xlsx#0]'
2025-06-10 15:14:13,798 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Brentwood Office:
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Dental:
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

#### Berry Farms Office:
- **Monday:** 7:00 AM - [Hours not fully provided]

This overview provides the operating hours for each office location. Please note that the Berry Farms office has incomplete information regarding its hours. [source: Lucas Offices.xlsx#0]
2025-06-10 15:14:13,799 — INFO — app — [STREAM] Completed streaming. Clean text for history: 845 chars
2025-06-10 15:14:13,800 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:14:38,729 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:14:38,730 — INFO — app — [API] Received question: what are the office hours?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:14:38,731 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:14:38,731 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:14:38,731 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:14:38,731 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:38,764 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:14:39,105 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:14:39,378 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:14:39,473 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:14:39,551 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:39,664 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:14:39,665 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:14:39,665 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:14:39,793 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:14:39,795 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:14:39,795 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:14:39,796 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.865,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "company_id": 3,
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "event_id": 480,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "file_type": ".xlsx",
  "ingestion_timestamp": "2025-06-10T20:13:21.780689",
  "bot_id": 1,
  "modified_time": 1749586401.7790897,
  "source_type": "xlsx",
  "document_id": "f7ju0z4e8ugrg3sdnukhls76",
  "chunk_type": "semantic",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_d74ab57cf2.xlsx",
  "timestamp": "2025-06-10T20:13:22.454839",
  "source": "Lucas_Offices_d74ab57cf2.xlsx",
  "created_time": 1749586401.7790897,
  "file_name": "Lucas Offices.xlsx"
}
2025-06-10 15:14:39,796 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:14:39,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:14:40,328 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:14:40,497 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:14:41,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:14:47,871 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Brentwood Office:\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Office:\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n#### Berry Farms Office:\n- **Monday:** 7:00 AM - [Hours not fully provided]\n\nThis overview provides the operating hours for each office location. [source: Lucas Offices.xlsx#0]'
2025-06-10 15:14:47,872 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:
- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Brentwood Office:
- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:
- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Office:
- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

#### Berry Farms Office:
- **Monday:** 7:00 AM - [Hours not fully provided]

This overview provides the operating hours for each office location. [source: Lucas Offices.xlsx#0]
2025-06-10 15:14:47,873 — INFO — app — [STREAM] Completed streaming. Clean text for history: 757 chars
2025-06-10 15:14:47,873 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:41:45,543 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:41:45,552 — INFO — app — [API] Received question: when are the offices opeN?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:41:45,562 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:41:45,563 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:41:45,563 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:41:45,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:41:45,884 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:41:46,202 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:41:46,383 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:41:46,510 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:41:46,613 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:41:46,910 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:41:46,911 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:41:46,916 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:41:47,110 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:41:47,113 — INFO — retriever — [RETRIEVER] Initialized BM25 with 4 documents
2025-06-10 15:41:47,116 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:41:47,118 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "company_id": 3,
  "source": "Lucas_Offices_2b88c2e3e0.xlsx",
  "timestamp": "2025-06-10T20:40:22.497490",
  "chunk_index": 0,
  "source_page": 1,
  "created_time": 1749588021.817848,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-06-10T20:40:21.819664",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 482,
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_2b88c2e3e0.xlsx",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1749588021.817848,
  "file_size": 9767,
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "document_id": "bgcn87t8kxjr0jio547ds7gb"
}
2025-06-10 15:41:47,122 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:41:47,122 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:41:48,208 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:41:48,482 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:41:49,533 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:41:55,355 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n#### Gallatin Office:\n\n- **Monday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Belle Meade Office:\n\n- **Tuesday:** 6:30 AM - 3:30 PM\n- **Thursday:** 6:30 AM - 3:30 PM\n\n#### Berry Farms Office:\n\n- **Monday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n\n#### Brentwood Office:\n\n- **Monday:** 7:00 AM - 4:00 PM\n- **Tuesday:** 7:00 AM - 4:00 PM\n- **Wednesday:** 7:00 AM - 4:00 PM\n- **Thursday:** 7:00 AM - 4:00 PM\n\n#### Columbia Office:\n\n- **Tuesday:** 7:30 AM - 4:30 PM\n- **Thursday:** 7:30 AM - 4:30 PM\n\n#### Nolensville Office:\n\n- **Monday:** 7:30 AM - 4:30 PM\n- **Every Other Tuesday:** 7:30 AM - 4:30 PM\n- **Wednesday:** 7:30 AM - 4:30 PM\n\n[source: Lucas Offices.xlsx#1]  \n[source: Lucas Offices.xlsx#2]  \n[source: Lucas Offices.xlsx#3]  \n[source: Lucas Offices.xlsx#0]'
2025-06-10 15:41:55,355 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

#### Gallatin Office:

- **Monday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Belle Meade Office:

- **Tuesday:** 6:30 AM - 3:30 PM
- **Thursday:** 6:30 AM - 3:30 PM

#### Berry Farms Office:

- **Monday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM

#### Brentwood Office:

- **Monday:** 7:00 AM - 4:00 PM
- **Tuesday:** 7:00 AM - 4:00 PM
- **Wednesday:** 7:00 AM - 4:00 PM
- **Thursday:** 7:00 AM - 4:00 PM

#### Columbia Office:

- **Tuesday:** 7:30 AM - 4:30 PM
- **Thursday:** 7:30 AM - 4:30 PM

#### Nolensville Office:

- **Monday:** 7:30 AM - 4:30 PM
- **Every Other Tuesday:** 7:30 AM - 4:30 PM
- **Wednesday:** 7:30 AM - 4:30 PM

[source: Lucas Offices.xlsx#1]  
[source: Lucas Offices.xlsx#2]  
[source: Lucas Offices.xlsx#3]  
[source: Lucas Offices.xlsx#0]
2025-06-10 15:41:55,357 — INFO — app — [STREAM] Completed streaming. Clean text for history: 775 chars
2025-06-10 15:41:55,359 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-06-10 15:46:32,001 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:46:32,005 — INFO — app — [API] Received question: what are the weekly spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:46:32,008 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:46:32,008 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:46:32,008 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:46:32,010 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:46:32,144 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:46:32,676 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:46:32,870 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:46:32,982 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:46:33,095 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:46:33,265 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:46:33,266 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:46:33,267 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:46:33,409 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:46:33,416 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:46:33,417 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:46:33,417 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "pdf",
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_type": ".pdf",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "company_id": 3,
  "structure_type": "paragraph",
  "bot_id": 1,
  "chunk_type": "semantic",
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "file_name": "April 21-25.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime": "application/pdf"
}
2025-06-10 15:46:33,419 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:46:33,420 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:46:34,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:46:34,456 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:46:35,271 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:46:36,878 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- **Words**: \n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n- **Tricky Word**: your\n\n- **Test Date**: Wednesday, April 23rd\n\n[source: April 21-25.pdf#2]'
2025-06-10 15:46:36,878 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- **Words**: 
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

- **Tricky Word**: your

- **Test Date**: Wednesday, April 23rd

[source: April 21-25.pdf#2]
2025-06-10 15:46:36,878 — INFO — app — [STREAM] Completed streaming. Clean text for history: 172 chars
2025-06-10 15:46:36,879 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:49:35,632 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 15:49:43,977 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:49:43,981 — INFO — app — [API] Received question: what are the weekly spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:49:43,983 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:49:43,984 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:49:43,984 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:49:43,984 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:49:44,119 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:49:44,664 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:49:44,871 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:49:44,963 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:49:45,142 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:49:45,251 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:49:45,252 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:49:45,252 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:49:45,381 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:49:45,384 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:49:45,384 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:49:45,385 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-06-10T20:45:24.419312",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "source_type": "pdf",
  "source_page": 1,
  "event_id": 484,
  "source": "April_21_25_7348dffbaa.pdf",
  "file_size": 169878,
  "mime": "application/pdf",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434
}
2025-06-10 15:49:45,385 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:49:45,385 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:49:45,428 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 15:49:46,502 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:49:46,761 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:49:47,381 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:49:48,198 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Tricky Word:** your\n\n**Test Date:** Wednesday, April 23rd [source: April 21-25.pdf#2]'
2025-06-10 15:49:48,199 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Tricky Word:** your

**Test Date:** Wednesday, April 23rd [source: April 21-25.pdf#2]
2025-06-10 15:49:48,202 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 15:49:48,204 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:49:59,481 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 15:50:21,368 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:50:21,370 — INFO — app — [API] Received question: what is the science part about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:50:21,371 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:50:21,371 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:50:21,371 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:50:21,371 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:21,484 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:50:21,810 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:50:22,077 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:50:22,175 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:50:22,294 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:22,420 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:22,421 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:50:22,422 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:50:22,601 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:50:22,603 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:50:22,603 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:50:22,604 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "file_type": ".pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "event_id": 484,
  "mime": "application/pdf",
  "mime_type": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_type": "pdf",
  "company_id": 3,
  "structure_type": "paragraph",
  "file_size": 169878,
  "chunk_index": 0,
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "modified_time": 1749588183.434434,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274"
}
2025-06-10 15:50:22,604 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:50:22,604 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:22,648 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 15:50:23,391 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:50:23,649 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:50:24,046 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:50:24,481 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Science Focus\n\n- **Seed planting and observation**\n  \n- **Understanding pollination**'
2025-06-10 15:50:24,482 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Science Focus

- **Seed planting and observation**
  
- **Understanding pollination**
2025-06-10 15:50:24,485 — INFO — app — [STREAM] Completed streaming. Clean text for history: 74 chars
2025-06-10 15:50:24,486 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:50:48,847 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:50:48,847 — INFO — app — [API] Received question: what are the important dates?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:50:48,847 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:50:48,847 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:50:48,848 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:50:48,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:48,935 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:50:49,137 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:50:49,311 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:50:49,430 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:50:49,529 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:49,653 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:50:49,654 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:50:49,654 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:50:49,751 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:50:49,753 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "event_id": 484,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "mime": "application/pdf",
  "file_type": ".pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "created_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp"
}
2025-06-10 15:50:49,753 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:50:49,754 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:50:50,033 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:50:50,224 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:50:50,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:50:53,015 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Important Dates\n\n- **April 24**: Quarter 4 Progress Reports go home\n\n- **April 26**: ANE Beautification Day from 9:00 AM to 11:00 AM\n\n- **April 29**: Gentry Farm Field Trip\n\n- **May 2**: Last day to check out library books\n\n- **May 6**: PTO Spirit Night at Andy’s Custard\n\n- **May 9**: All library books due\n\n- **May 13**: Chromebook and charger turn in\n\n- **May 16**: Field Day\n\n- **May 20**: First Grade Family Picnic from 11:00 AM to 12:30 PM\n\n[source: April 21-25.pdf#0]'
2025-06-10 15:50:53,016 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Important Dates

- **April 24**: Quarter 4 Progress Reports go home

- **April 26**: ANE Beautification Day from 9:00 AM to 11:00 AM

- **April 29**: Gentry Farm Field Trip

- **May 2**: Last day to check out library books

- **May 6**: PTO Spirit Night at Andy’s Custard

- **May 9**: All library books due

- **May 13**: Chromebook and charger turn in

- **May 16**: Field Day

- **May 20**: First Grade Family Picnic from 11:00 AM to 12:30 PM

[source: April 21-25.pdf#0]
2025-06-10 15:50:53,016 — INFO — app — [STREAM] Completed streaming. Clean text for history: 429 chars
2025-06-10 15:50:53,017 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:51:12,502 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:51:12,503 — INFO — app — [API] Received question: what is the phonics sectxion about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:51:12,503 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:51:12,504 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:51:12,504 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:51:12,504 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:12,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:51:12,752 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:51:13,009 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:51:13,075 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:51:13,169 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:13,319 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:13,320 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:51:13,320 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:51:13,451 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:51:13,452 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:51:13,452 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:51:13,453 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "file_size": 169878,
  "mime_type": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "event_id": 484,
  "content_type": "unstructured_text"
}
2025-06-10 15:51:13,453 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:51:13,453 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:14,508 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:51:14,633 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:51:15,422 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:51:16,603 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Phonics Section\n\n- **Spellings for long "o"**\n  \n- **Building sentences with conjunctions**\n  \n- **Understanding root words and inflectional endings**\n  \n- **Punctuation practice**\n  \n- **Reading fluency and comprehension** \n\nThis section focuses on enhancing students\' phonics skills through various activities and practices. [source: April 21-25.pdf#0]'
2025-06-10 15:51:16,603 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Phonics Section

- **Spellings for long "o"**
  
- **Building sentences with conjunctions**
  
- **Understanding root words and inflectional endings**
  
- **Punctuation practice**
  
- **Reading fluency and comprehension** 

This section focuses on enhancing students' phonics skills through various activities and practices. [source: April 21-25.pdf#0]
2025-06-10 15:51:16,604 — INFO — app — [STREAM] Completed streaming. Clean text for history: 320 chars
2025-06-10 15:51:16,604 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:51:40,368 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:51:40,369 — INFO — app — [API] Received question: where is the field trip?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:51:40,369 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:51:40,369 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:51:40,369 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:51:40,369 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:40,465 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:51:40,789 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:51:41,026 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:51:41,100 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:51:41,245 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:41,333 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:51:41,335 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:51:41,335 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:51:41,444 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:51:41,445 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:51:41,446 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:51:41,446 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structural_density": 0.7010000000000001,
  "file_size": 169878,
  "company_id": 3,
  "source_page": 1,
  "content_type": "unstructured_text",
  "source_type": "pdf",
  "file_type": ".pdf",
  "file_name": "April 21-25.pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T20:45:24.419312",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "bot_id": 1,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "structure_type": "paragraph"
}
2025-06-10 15:51:41,447 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:51:41,447 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:51:41,877 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:51:42,079 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:51:42,726 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:51:45,831 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Field Trip Information\n\n- **Destination:** Gentry Farm\n\n- **Date:** April 29, 2023\n\n- **Entrance Information:**\n  - Enter by the American Flag\n  - Park in the designated lot\n\n- **Volunteer Information:**\n  - Tier 3 Volunteers are encouraged to chaperone\n  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site)\n  - Be prepared to show your receipt (screenshot acceptable) upon arrival\n\n[source: April 21-25.pdf#1]'
2025-06-10 15:51:45,831 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Field Trip Information

- **Destination:** Gentry Farm

- **Date:** April 29, 2023

- **Entrance Information:**
  - Enter by the American Flag
  - Park in the designated lot

- **Volunteer Information:**
  - Tier 3 Volunteers are encouraged to chaperone
  - Chaperone tickets must be purchased in advance using the provided link: [Gentry Farm Tickets](https://gentrys-farm.square.site)
  - Be prepared to show your receipt (screenshot acceptable) upon arrival

[source: April 21-25.pdf#1]
2025-06-10 15:51:45,832 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-06-10 15:51:45,833 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:53:29,011 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:53:29,015 — INFO — app — [API] Received question: when is tcap?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:53:29,017 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:53:29,017 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:53:29,018 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:53:29,018 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:29,156 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:53:29,448 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:53:29,719 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:53:29,815 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:53:29,911 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:30,008 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:30,009 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:53:30,010 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:53:30,098 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:53:30,101 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:53:30,102 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:53:30,102 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1749588183.434434,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "source_page": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "source_type": "pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structural_density": 0.7010000000000001,
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "file_size": 169878,
  "file_type": ".pdf",
  "content_type": "unstructured_text"
}
2025-06-10 15:53:30,104 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:53:30,104 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:30,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:53:31,175 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:53:31,643 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:53:31,815 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:53:31,815 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:53:31,815 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:53:31,816 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:53:47,986 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:53:47,987 — INFO — app — [API] Received question: when is the tcap testing window?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:53:47,987 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:53:47,988 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:53:47,988 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:53:47,988 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:48,111 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:53:48,342 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:53:48,651 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:53:48,752 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:53:48,838 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:48,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:53:48,961 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:53:48,961 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:53:49,069 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:53:49,075 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_type": ".pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "mime_type": "application/pdf",
  "content_type": "unstructured_text",
  "structural_density": 0.7010000000000001,
  "bot_id": 1,
  "event_id": 484,
  "structure_type": "paragraph",
  "modified_time": 1749588183.434434,
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "source": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312"
}
2025-06-10 15:53:49,076 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:53:49,076 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:53:49,431 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:53:49,696 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:53:50,044 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:53:50,894 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TCAP Testing Window\n\n- **Start Date:** April 21, 2023\n- **End Date:** April 25, 2023\n\nThe TCAP window is specifically for **2nd-5th Grade Students**. [source: April 21-25.pdf#1]'
2025-06-10 15:53:50,894 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TCAP Testing Window

- **Start Date:** April 21, 2023
- **End Date:** April 25, 2023

The TCAP window is specifically for **2nd-5th Grade Students**. [source: April 21-25.pdf#1]
2025-06-10 15:53:50,895 — INFO — app — [STREAM] Completed streaming. Clean text for history: 168 chars
2025-06-10 15:53:50,895 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:58:22,534 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:58:22,540 — INFO — app — [API] Received question: are there any pictures on this sheet?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:58:22,545 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:58:22,549 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:58:22,550 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:58:22,550 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:22,666 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:58:23,058 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:58:23,328 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:58:23,481 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:58:23,584 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:23,673 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:23,675 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:58:23,676 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:58:23,775 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:58:23,779 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:58:23,779 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:58:23,780 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source_type": "pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "modified_time": 1749588183.434434,
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "company_id": 3,
  "source_page": 1,
  "file_size": 169878,
  "chunk_type": "semantic",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "chunk_index": 0,
  "created_time": 1749588183.434434
}
2025-06-10 15:58:23,781 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:58:23,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:24,308 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:58:24,577 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:58:25,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:58:25,249 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:58:25,250 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:58:25,250 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:58:25,252 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 15:58:47,725 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 15:58:47,726 — INFO — app — [API] Received question: who is the teacher?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 15:58:47,726 — INFO — app — [BOT] Using mode: qa
2025-06-10 15:58:47,726 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 15:58:47,726 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 15:58:47,726 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:47,776 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 15:58:48,130 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 15:58:48,410 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 15:58:48,541 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 15:58:48,631 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:48,711 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 15:58:48,711 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 15:58:48,712 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 15:58:48,803 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 15:58:48,807 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "file_type": ".pdf",
  "event_id": 484,
  "chunk_index": 0,
  "source_page": 1,
  "file_size": 169878,
  "content_type": "unstructured_text",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "timestamp": "2025-06-10T20:45:24.419312",
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_type": "semantic",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "document_id": "w05luy1i13s36yilrhr8qjsp"
}
2025-06-10 15:58:48,807 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 15:58:48,808 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 15:58:49,258 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 15:58:49,460 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 15:58:50,153 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 15:58:50,188 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 15:58:50,188 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 15:58:50,188 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 15:58:50,189 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:06,815 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:06,815 — INFO — app — [API] Received question: what is in the learning focus?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:06,816 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:06,816 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:06,816 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:06,816 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:06,958 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:07,233 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:07,442 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:07,545 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:07,628 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:07,726 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:07,727 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:07,727 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:07,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:07,811 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "structure_type": "paragraph",
  "company_id": 3,
  "source_page": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "mime": "application/pdf",
  "source_type": "pdf",
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "chunk_index": 0,
  "bot_id": 1,
  "chunk_type": "semantic",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "modified_time": 1749588183.434434,
  "content_type": "unstructured_text"
}
2025-06-10 16:00:07,812 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:07,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:08,297 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:08,499 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:09,014 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:11,255 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Learning Focus\n\n- **Phonics:** \n  - Spellings for long "o"\n  - Building sentences with conjunctions\n  - Understanding root words and inflectional endings\n  - Punctuation practice\n  - Reading fluency and comprehension\n\n- **Wit & Wisdom:** \n  - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n  - Determining the Central Message of *The Korean Cinderella*\n  - Writing opinion paragraphs\n\n- **Math:** \n  - Identifying coins and their values\n  - Counting like sets of coins\n\n- **Science:** \n  - Seed planting and observation\n  - Understanding pollination\n\n[source: April 21-25.pdf#0]'
2025-06-10 16:00:11,255 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Learning Focus

- **Phonics:** 
  - Spellings for long "o"
  - Building sentences with conjunctions
  - Understanding root words and inflectional endings
  - Punctuation practice
  - Reading fluency and comprehension

- **Wit & Wisdom:** 
  - Using illustrations and details to describe settings and events in *The Korean Cinderella*
  - Determining the Central Message of *The Korean Cinderella*
  - Writing opinion paragraphs

- **Math:** 
  - Identifying coins and their values
  - Counting like sets of coins

- **Science:** 
  - Seed planting and observation
  - Understanding pollination

[source: April 21-25.pdf#0]
2025-06-10 16:00:11,255 — INFO — app — [STREAM] Completed streaming. Clean text for history: 570 chars
2025-06-10 16:00:11,256 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:37,687 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:37,688 — INFO — app — [API] Received question: what is ane's school?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:37,688 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:37,688 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:37,688 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:37,689 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:37,808 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:38,010 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:38,505 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:38,672 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:38,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:38,875 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:38,876 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:38,876 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:38,958 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:38,961 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "file_name": "April 21-25.pdf",
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "chunk_index": 0,
  "structure_type": "paragraph",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "structural_density": 0.7010000000000001,
  "chunk_type": "semantic",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_page": 1,
  "file_type": ".pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "created_time": 1749588183.434434,
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "event_id": 484,
  "file_size": 169878
}
2025-06-10 16:00:38,961 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:38,961 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:39,561 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:39,802 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:40,228 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:40,293 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:00:40,293 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:00:40,293 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:00:40,295 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:00:54,303 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:00:54,303 — INFO — app — [API] Received question: what is beautification day?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:00:54,304 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:00:54,304 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:00:54,305 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:00:54,311 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:54,363 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:00:54,562 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:00:54,708 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:00:54,794 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:00:54,900 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:55,000 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:00:55,001 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:00:55,001 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:00:55,077 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:00:55,078 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:00:55,079 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:00:55,079 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.7010000000000001,
  "chunk_type": "semantic",
  "chunk_index": 0,
  "source_page": 1,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "event_id": 484,
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "file_size": 169878
}
2025-06-10 16:00:55,079 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:00:55,079 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:00:55,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:00:56,121 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:00:56,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:00:58,442 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Beautification Day\n\n- **Date:** April 26, 2023\n- **Time:** 9:00 AM to 11:00 AM\n- **Purpose:** A day dedicated to improving and enhancing the school's environment through various activities.\n\nThis event encourages community involvement and aims to create a more pleasant and welcoming atmosphere for students and staff. \n\n[source: April 21-25.pdf#2]"
2025-06-10 16:00:58,442 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Beautification Day

- **Date:** April 26, 2023
- **Time:** 9:00 AM to 11:00 AM
- **Purpose:** A day dedicated to improving and enhancing the school's environment through various activities.

This event encourages community involvement and aims to create a more pleasant and welcoming atmosphere for students and staff. 

[source: April 21-25.pdf#2]
2025-06-10 16:00:58,442 — INFO — app — [STREAM] Completed streaming. Clean text for history: 339 chars
2025-06-10 16:00:58,443 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:01:57,769 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:01:57,770 — INFO — app — [API] Received question: where is beautification day?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:01:57,770 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:01:57,770 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:01:57,770 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:01:57,770 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:01:57,897 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:01:58,104 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:01:58,593 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:01:58,729 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:01:58,859 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:01:58,951 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:01:58,952 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:01:58,952 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:01:59,056 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:01:59,059 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:01:59,060 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:01:59,060 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "created_time": 1749588183.434434,
  "source_type": "pdf",
  "event_id": 484,
  "file_type": ".pdf",
  "mime": "application/pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "modified_time": 1749588183.434434,
  "file_size": 169878,
  "bot_id": 1,
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0
}
2025-06-10 16:01:59,060 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:01:59,060 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:01:59,580 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:01:59,718 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:02:00,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:02:01,823 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Beautification Day Location\n\n- **Event:** ANE Beautification Day\n- **Date:** April 26, 2023\n- **Time:** 9:00 AM to 11:00 AM\n\n**Note:** The specific location within the school is not provided in the context. \n\n[source: April 21-25.pdf#2]'
2025-06-10 16:02:01,823 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Beautification Day Location

- **Event:** ANE Beautification Day
- **Date:** April 26, 2023
- **Time:** 9:00 AM to 11:00 AM

**Note:** The specific location within the school is not provided in the context. 

[source: April 21-25.pdf#2]
2025-06-10 16:02:01,824 — INFO — app — [STREAM] Completed streaming. Clean text for history: 221 chars
2025-06-10 16:02:01,824 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:02:55,063 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:02:55,064 — INFO — app — [API] Received question: what grade is this for?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:02:55,064 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:02:55,065 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:02:55,065 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:02:55,065 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:02:55,198 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:02:55,425 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:02:55,675 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:02:55,770 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:02:55,874 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:02:56,007 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:02:56,009 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:02:56,009 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:02:56,084 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:02:56,086 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:02:56,086 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:02:56,087 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "source_type": "pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structural_density": 0.7010000000000001,
  "source_page": 1,
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "bot_id": 1,
  "file_type": ".pdf",
  "file_size": 169878,
  "modified_time": 1749588183.434434,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 484
}
2025-06-10 16:02:56,087 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:02:56,087 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:02:56,535 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:02:56,816 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:02:57,682 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:02:58,113 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:02:58,114 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:02:58,114 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:02:58,114 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:03:14,991 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:03:14,991 — INFO — app — [API] Received question: what grade newsletter?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:03:14,992 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:03:14,992 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:03:14,992 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:03:14,992 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:03:15,043 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:03:15,271 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:03:15,548 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:03:15,669 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:03:15,793 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:03:15,924 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:03:15,924 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:03:15,924 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:03:16,004 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:03:16,006 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "chunk_index": 0,
  "timestamp": "2025-06-10T20:45:24.419312",
  "created_time": 1749588183.434434,
  "source_page": 1,
  "company_id": 3,
  "file_name": "April 21-25.pdf",
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "bot_id": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "file_type": ".pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "mime": "application/pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "content_type": "unstructured_text",
  "file_size": 169878,
  "source_type": "pdf",
  "modified_time": 1749588183.434434
}
2025-06-10 16:03:16,006 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:03:16,006 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:03:16,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:03:16,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:03:17,389 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:03:18,237 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Grade Newsletter\n\n- **Grade:** First Grade\n- **Week of:** April 21-25, 2023\n\nThis newsletter covers important updates and events for first grade students during that week. [source: April 21-25.pdf#1]'
2025-06-10 16:03:18,237 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Grade Newsletter

- **Grade:** First Grade
- **Week of:** April 21-25, 2023

This newsletter covers important updates and events for first grade students during that week. [source: April 21-25.pdf#1]
2025-06-10 16:03:18,237 — INFO — app — [STREAM] Completed streaming. Clean text for history: 194 chars
2025-06-10 16:03:18,237 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:05:16,212 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:05:16,215 — INFO — app — [API] Received question: what is the letter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:05:16,217 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:05:16,217 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:05:16,218 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:05:16,218 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:16,270 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:05:16,785 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:05:17,044 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:05:17,168 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:05:17,237 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:17,339 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:17,340 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:05:17,340 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:05:17,447 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:05:17,448 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "created_time": 1749588183.434434,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 169878,
  "source_page": 1,
  "chunk_index": 0,
  "event_id": 484,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "structure_type": "paragraph",
  "structural_density": 0.7010000000000001,
  "mime_type": "application/pdf",
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "chunk_type": "semantic",
  "bot_id": 1,
  "timestamp": "2025-06-10T20:45:24.419312",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf"
}
2025-06-10 16:05:17,448 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:05:17,448 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:18,110 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:05:18,312 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:05:18,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:05:19,026 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-06-10 16:05:19,027 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-06-10 16:05:19,027 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-06-10 16:05:19,027 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:05:25,847 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:05:25,848 — INFO — app — [API] Received question: what is the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:05:25,849 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:05:25,849 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:05:25,849 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:05:25,849 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:25,944 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:05:26,128 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:05:26,317 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:05:26,486 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:05:26,579 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:26,658 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:05:26,661 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:05:26,661 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:05:26,732 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:05:26,734 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:05:26,735 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:05:26,735 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "content_type": "unstructured_text",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_size": 169878,
  "mime": "application/pdf",
  "chunk_type": "semantic",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "file_type": ".pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "event_id": 484,
  "mime_type": "application/pdf",
  "source_type": "pdf",
  "structure_type": "paragraph"
}
2025-06-10 16:05:26,735 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:05:26,735 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:05:27,105 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:05:27,296 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:05:27,769 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:05:34,042 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Overview\n\nThe **First Grade Newsletter** for the week of **April 21-25, 2023** covers important updates and events for first grade students. \n\n### Key Topics\n\n- **Learning Focus:**\n  - **Phonics:** \n    - Spellings for long "o"\n    - Building sentences with conjunctions\n    - Understanding root words and inflectional endings\n    - Punctuation practice\n    - Reading fluency and comprehension\n\n  - **Wit & Wisdom:** \n    - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n    - Determining the Central Message of *The Korean Cinderella*\n    - Writing opinion paragraphs\n\n  - **Math:** \n    - Identifying coins and their values\n    - Counting like sets of coins\n\n  - **Science:** \n    - Seed planting and observation\n    - Understanding pollination\n\n- **Important Dates:**\n  - April 24: Quarter 4 Progress Reports go home\n  - April 26: ANE Beautification Day (9-11 AM)\n  - April 29: Gentry Farm Field Trip\n  - May 2: Last day to check out library books\n  - May 6: PTO Spirit Night at Andy’s Custard\n  - May 9: All library books due\n  - May 13: Chromebook and charger turn in\n  - May 16: Field Day\n  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)\n\n- **Weekly Spelling Words:**\n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n**Note:** The TCAP window starts on Monday, April 14th. \n\nThis newsletter aims to keep parents and guardians informed about the educational focus and upcoming events for first grade students. [source: April 21-25.pdf#0]'
2025-06-10 16:05:34,042 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Overview

The **First Grade Newsletter** for the week of **April 21-25, 2023** covers important updates and events for first grade students. 

### Key Topics

- **Learning Focus:**
  - **Phonics:** 
    - Spellings for long "o"
    - Building sentences with conjunctions
    - Understanding root words and inflectional endings
    - Punctuation practice
    - Reading fluency and comprehension

  - **Wit & Wisdom:** 
    - Using illustrations and details to describe settings and events in *The Korean Cinderella*
    - Determining the Central Message of *The Korean Cinderella*
    - Writing opinion paragraphs

  - **Math:** 
    - Identifying coins and their values
    - Counting like sets of coins

  - **Science:** 
    - Seed planting and observation
    - Understanding pollination

- **Important Dates:**
  - April 24: Quarter 4 Progress Reports go home
  - April 26: ANE Beautification Day (9-11 AM)
  - April 29: Gentry Farm Field Trip
  - May 2: Last day to check out library books
  - May 6: PTO Spirit Night at Andy’s Custard
  - May 9: All library books due
  - May 13: Chromebook and charger turn in
  - May 16: Field Day
  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)

- **Weekly Spelling Words:**
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

**Note:** The TCAP window starts on Monday, April 14th. 

This newsletter aims to keep parents and guardians informed about the educational focus and upcoming events for first grade students. [source: April 21-25.pdf#0]
2025-06-10 16:05:34,044 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1384 chars
2025-06-10 16:05:34,045 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:06:20,538 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:06:20,540 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:06:20,541 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:06:20,541 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:06:20,541 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:06:20,541 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:06:20,606 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:06:20,906 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:06:21,169 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:06:21,243 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:06:21,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:06:21,430 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:06:21,431 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:06:21,431 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:06:21,532 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:06:21,534 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "semantic",
  "mime_type": "application/pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "file_size": 169878,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0,
  "file_type": ".pdf",
  "event_id": 484,
  "modified_time": 1749588183.434434,
  "company_id": 3,
  "timestamp": "2025-06-10T20:45:24.419312",
  "structure_type": "paragraph",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "created_time": 1749588183.434434,
  "structural_density": 0.7010000000000001,
  "source_page": 1,
  "file_name": "April 21-25.pdf",
  "bot_id": 1,
  "source": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-06-10 16:06:21,534 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:06:21,534 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:06:22,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:06:22,479 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:06:22,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:06:23,585 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Tricky Word:** your\n\n**Test Date:** Wednesday, April 23rd\n\n[source: April 21-25.pdf#2]'
2025-06-10 16:06:23,586 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Tricky Word:** your

**Test Date:** Wednesday, April 23rd

[source: April 21-25.pdf#2]
2025-06-10 16:06:23,586 — INFO — app — [STREAM] Completed streaming. Clean text for history: 159 chars
2025-06-10 16:06:23,586 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:08:11,689 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:08:56,267 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:09:50,217 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:09:50,222 — INFO — app — [API] Received question: what is the newsletter about?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:09:50,223 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:09:50,223 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:09:50,223 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:09:50,223 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:09:50,409 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:09:50,822 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:09:51,116 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:09:51,246 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:09:51,386 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:09:51,472 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:09:51,473 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:09:51,476 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:09:51,543 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:09:51,546 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:09:51,547 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:09:51,547 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/pdf",
  "modified_time": 1749588183.434434,
  "created_time": 1749588183.434434,
  "company_id": 3,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "structure_type": "paragraph",
  "chunk_index": 0,
  "source": "April_21_25_7348dffbaa.pdf",
  "structural_density": 0.7010000000000001,
  "file_size": 169878,
  "timestamp": "2025-06-10T20:45:24.419312",
  "event_id": 484,
  "chunk_type": "semantic",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "bot_id": 1,
  "file_type": ".pdf"
}
2025-06-10 16:09:51,548 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:09:51,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:09:51,638 — INFO — app — [MEMORY] Created new history for session widget_1749578339100_h6y6tldt6
2025-06-10 16:09:52,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:09:52,827 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:09:53,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:09:58,839 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Newsletter Information\n\nThe **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:\n\n- **Learning Focus:**\n  - **Phonics:** \n    - Spellings for long "o"\n    - Building sentences with conjunctions\n    - Understanding root words and inflectional endings\n    - Punctuation practice\n    - Reading fluency and comprehension\n\n  - **Wit & Wisdom:** \n    - Using illustrations and details to describe settings and events in *The Korean Cinderella*\n    - Determining the Central Message of *The Korean Cinderella*\n    - Writing opinion paragraphs\n\n  - **Math:** \n    - Identifying coins and their values\n    - Counting like sets of coins\n\n  - **Science:** \n    - Seed planting and observation\n    - Understanding pollination\n\n- **Important Dates:**\n  - April 24: Quarter 4 Progress Reports go home\n  - April 26: ANE Beautification Day (9-11 AM)\n  - April 29: Gentry Farm Field Trip\n  - May 2: Last day to check out library books\n  - May 6: PTO Spirit Night at Andy’s Custard\n  - May 9: All library books due\n  - May 13: Chromebook and charger turn in\n  - May 16: Field Day\n  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)\n\n- **Weekly Spelling Words:**\n  - escape\n  - stay\n  - rain\n  - explain\n  - hair\n  - stray\n  - display\n\n**Note:** The TCAP window starts on Monday, April 14th. \n\nThis newsletter provides a comprehensive overview of the learning objectives and key dates for first-grade students during this period. [source: April 21-25.pdf#0]'
2025-06-10 16:09:58,839 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Newsletter Information

The **First Grade Newsletter** for the week of April 21-25, 2023, covers important updates and events, including:

- **Learning Focus:**
  - **Phonics:** 
    - Spellings for long "o"
    - Building sentences with conjunctions
    - Understanding root words and inflectional endings
    - Punctuation practice
    - Reading fluency and comprehension

  - **Wit & Wisdom:** 
    - Using illustrations and details to describe settings and events in *The Korean Cinderella*
    - Determining the Central Message of *The Korean Cinderella*
    - Writing opinion paragraphs

  - **Math:** 
    - Identifying coins and their values
    - Counting like sets of coins

  - **Science:** 
    - Seed planting and observation
    - Understanding pollination

- **Important Dates:**
  - April 24: Quarter 4 Progress Reports go home
  - April 26: ANE Beautification Day (9-11 AM)
  - April 29: Gentry Farm Field Trip
  - May 2: Last day to check out library books
  - May 6: PTO Spirit Night at Andy’s Custard
  - May 9: All library books due
  - May 13: Chromebook and charger turn in
  - May 16: Field Day
  - May 20: First Grade Family Picnic (11 AM - 12:30 PM)

- **Weekly Spelling Words:**
  - escape
  - stay
  - rain
  - explain
  - hair
  - stray
  - display

**Note:** The TCAP window starts on Monday, April 14th. 

This newsletter provides a comprehensive overview of the learning objectives and key dates for first-grade students during this period. [source: April 21-25.pdf#0]
2025-06-10 16:09:58,844 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1361 chars
2025-06-10 16:09:58,845 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:10:43,409 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:10:43,410 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:10:43,410 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:10:43,411 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:10:43,411 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:10:43,411 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:10:43,448 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:10:43,876 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:10:44,206 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:10:44,312 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:10:44,402 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:10:44,478 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:10:44,480 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:10:44,480 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:10:44,749 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:10:44,750 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:10:44,751 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:10:44,751 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "mime": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "structure_type": "paragraph",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "bot_id": 1,
  "file_name": "April 21-25.pdf",
  "source_type": "pdf",
  "content_type": "unstructured_text",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-06-10T20:45:24.419312",
  "company_id": 3,
  "chunk_type": "semantic",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime_type": "application/pdf",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "file_size": 169878
}
2025-06-10 16:10:44,751 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:10:44,751 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:10:45,251 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:10:45,405 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:10:46,125 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:10:47,355 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  \n[source: April 21-25.pdf#2]'
2025-06-10 16:10:47,356 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  
[source: April 21-25.pdf#2]
2025-06-10 16:10:47,356 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:10:47,356 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:13:40,853 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:13:40,896 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:13:40,897 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:13:40,898 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:13:40,898 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:13:40,899 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:13:40,984 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:13:41,369 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:13:41,560 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:13:41,656 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:13:41,760 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:13:41,894 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:13:41,896 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:13:41,898 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:13:42,082 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:13:42,084 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:13:42,085 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:13:42,085 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 169878,
  "chunk_type": "semantic",
  "bot_id": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "source": "April_21_25_7348dffbaa.pdf",
  "file_name": "April 21-25.pdf",
  "mime": "application/pdf",
  "source_page": 1,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "file_type": ".pdf",
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "timestamp": "2025-06-10T20:45:24.419312",
  "modified_time": 1749588183.434434,
  "source_type": "pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "chunk_index": 0,
  "mime_type": "application/pdf",
  "company_id": 3
}
2025-06-10 16:13:42,086 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:13:42,086 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:13:42,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:13:42,808 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:13:43,656 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:13:44,411 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd. [source: April 21-25.pdf#2]'
2025-06-10 16:13:44,411 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd. [source: April 21-25.pdf#2]
2025-06-10 16:13:44,411 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:13:44,412 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:14:40,403 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:17:57,045 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:17:57,085 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: widget_1749578339100_h6y6tldt6
2025-06-10 16:17:57,086 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:17:57,086 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:17:57,087 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:17:57,088 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:17:57,191 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:17:57,528 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:17:57,789 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:17:57,882 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:17:57,992 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:17:58,103 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:17:58,104 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:17:58,105 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:17:58,317 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:17:58,319 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:17:58,320 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:17:58,320 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/pdf",
  "chunk_index": 0,
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "content_type": "unstructured_text",
  "source_page": 1,
  "source_type": "pdf",
  "created_time": 1749588183.434434,
  "source": "April_21_25_7348dffbaa.pdf",
  "chunk_type": "semantic",
  "event_id": 484,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.7010000000000001,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1,
  "structure_type": "paragraph",
  "mime_type": "application/pdf",
  "file_name": "April 21-25.pdf",
  "company_id": 3,
  "file_size": 169878
}
2025-06-10 16:17:58,321 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:17:58,321 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:17:58,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:17:59,034 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:17:59,641 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:18:00,675 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n- stay\n- rain\n- explain\n- hair\n- stray\n- display\n\n**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  \n[source: April 21-25.pdf#2]'
2025-06-10 16:18:00,675 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape
- stay
- rain
- explain
- hair
- stray
- display

**Additional Info:** The tricky word is "your," and the test date is Wednesday, April 23rd.  
[source: April 21-25.pdf#2]
2025-06-10 16:18:00,675 — INFO — app — [STREAM] Completed streaming. Clean text for history: 198 chars
2025-06-10 16:18:00,676 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:18:37,743 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:18:43,279 — ERROR — jwt_handler — [JWT] Invalid token: Signature verification failed
2025-06-10 16:19:01,656 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:19:01,658 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_session_123
2025-06-10 16:19:01,659 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:19:01,659 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:19:01,659 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:19:01,659 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:01,746 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:19:02,048 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:19:02,280 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:19:02,364 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:19:02,468 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:02,669 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:02,669 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:19:02,669 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:19:02,803 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:19:02,805 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:19:02,806 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:19:02,806 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/pdf",
  "file_size": 169878,
  "structural_density": 0.7010000000000001,
  "structure_type": "paragraph",
  "chunk_type": "semantic",
  "mime": "application/pdf",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "event_id": 484,
  "content_type": "unstructured_text",
  "source": "April_21_25_7348dffbaa.pdf",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "pdf",
  "company_id": 3,
  "created_time": 1749588183.434434,
  "bot_id": 1,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "timestamp": "2025-06-10T20:45:24.419312",
  "file_name": "April 21-25.pdf",
  "file_type": ".pdf",
  "modified_time": 1749588183.434434,
  "source_page": 1,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "chunk_index": 0
}
2025-06-10 16:19:02,806 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:19:02,806 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:02,837 — INFO — app — [MEMORY] Created new history for session test_session_123
2025-06-10 16:19:03,955 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:19:04,205 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:19:04,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:19:06,480 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:19:06,480 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:19:06,482 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:19:06,482 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:19:22,983 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:19:22,983 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_session_456
2025-06-10 16:19:22,984 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:19:22,984 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:19:22,984 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:19:22,984 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:23,020 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:19:23,249 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:19:23,442 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:19:23,514 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:19:23,642 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:23,778 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:19:23,778 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:19:23,779 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:19:23,846 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:19:23,847 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1749588183.434434,
  "mime_type": "application/pdf",
  "structure_type": "paragraph",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "content_type": "unstructured_text",
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "source_type": "pdf",
  "file_name": "April 21-25.pdf",
  "file_type": ".pdf",
  "chunk_type": "semantic",
  "company_id": 3,
  "file_size": 169878,
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "source_page": 1,
  "structural_density": 0.7010000000000001,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "event_id": 484,
  "created_time": 1749588183.434434,
  "timestamp": "2025-06-10T20:45:24.419312",
  "bot_id": 1
}
2025-06-10 16:19:23,848 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:19:23,848 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:19:23,880 — INFO — app — [MEMORY] Created new history for session test_session_456
2025-06-10 16:19:24,391 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:19:24,696 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:19:25,214 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:19:26,093 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:19:26,093 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:19:26,094 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:19:26,094 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:20:23,894 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-06-10 16:20:28,547 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-06-10 16:20:28,549 — INFO — app — [API] Received question: what are the spelling words?, company_id: 3, bot_id: 1, session_id: test_enhanced_123
2025-06-10 16:20:28,549 — INFO — app — [BOT] Using mode: qa
2025-06-10 16:20:28,549 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-06-10 16:20:28,549 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-06-10 16:20:28,549 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:20:28,633 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-06-10 16:20:29,071 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-06-10 16:20:29,236 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-06-10 16:20:29,344 — INFO — httpx — HTTP Request: GET https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-06-10 16:20:29,439 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:20:29,575 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-06-10 16:20:29,575 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-06-10 16:20:29,575 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-06-10 16:20:29,653 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/get "HTTP/1.1 200 OK"
2025-06-10 16:20:29,658 — INFO — retriever — [RETRIEVER] Initialized BM25 with 3 documents
2025-06-10 16:20:29,659 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-06-10 16:20:29,659 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 484,
  "structural_density": 0.7010000000000001,
  "storage_key": "April_21_25_7348dffbaa.pdf",
  "timestamp": "2025-06-10T20:45:24.419312",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-06-10T20:43:03.436274",
  "mime_type": "application/pdf",
  "file_size": 169878,
  "document_id": "w05luy1i13s36yilrhr8qjsp",
  "file_name": "April 21-25.pdf",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "April_21_25_7348dffbaa.pdf",
  "mime": "application/pdf",
  "structure_type": "paragraph",
  "created_time": 1749588183.434434,
  "bot_id": 1,
  "source_type": "pdf",
  "company_id": 3,
  "chunk_index": 0,
  "chunk_type": "semantic",
  "modified_time": 1749588183.434434,
  "file_type": ".pdf"
}
2025-06-10 16:20:29,659 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-06-10 16:20:29,659 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-06-10 16:20:29,689 — INFO — app — [MEMORY] Created new history for session test_enhanced_123
2025-06-10 16:20:30,441 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-06-10 16:20:30,744 — INFO — httpx — HTTP Request: POST https://knowledge-bot-chroma.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/891348ef-bccd-450d-85d4-c1c6f6b95cbb/query "HTTP/1.1 200 OK"
2025-06-10 16:20:31,188 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 16:20:32,121 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Weekly Spelling Words\n\n- escape\n\n- stay\n\n- rain\n\n- explain\n\n- hair\n\n- stray\n\n- display\n\n**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.'
2025-06-10 16:20:32,122 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Weekly Spelling Words

- escape

- stay

- rain

- explain

- hair

- stray

- display

**Additional Info:** The tricky word is "your" and the test date is Wednesday, April 23rd.
2025-06-10 16:20:32,124 — INFO — app — [STREAM] Completed streaming. Clean text for history: 169 chars
2025-06-10 16:20:32,124 — INFO — app — [RETRIEVAL] Sources: ['April 21-25.pdf', 'April 21-25.pdf', 'April 21-25.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-06-10 16:21:13,915 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:17:01,273 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:17:18,073 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:17:48,983 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:18:21,714 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:18:21,718 — INFO — app — [API] Received question: What is artificial intelligence?, company_id: 3, bot_id: 1, session_id: 29e6f1d0-48c5-4c5c-a0ae-f7865d2d17f9
2025-07-19 18:18:21,720 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:18:21,720 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:18:21,720 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:18:21,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:18:21,963 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:18:22,876 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:18:23,508 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:18:24,015 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:18:24,830 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:18:25,854 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:18:25,857 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:18:25,857 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:18:26,543 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:18:26,628 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:18:26,629 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:18:26,629 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "company_id": 3,
  "file_size": 9767,
  "llm_enrichment_mode": "disabled"
}
2025-07-19 18:18:26,631 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:18:26,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:18:26,713 — INFO — app — [MEMORY] Created new history for session 29e6f1d0-48c5-4c5c-a0ae-f7865d2d17f9
2025-07-19 18:18:28,279 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:18:28,870 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:18:29,364 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:18:29,416 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:18:29,417 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:18:29,422 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:18:29,427 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_list.md', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_list.md', 'sample_mixed.html', 'test.txt', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:18:40,875 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:18:40,876 — INFO — app — [API] Received question: Who works at the company?, company_id: 3, bot_id: 1, session_id: d9a7b884-7d71-4a3c-b865-e83af8c626b8
2025-07-19 18:18:40,878 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:18:40,878 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:18:40,879 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:18:40,879 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:18:40,951 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:18:41,404 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:18:41,875 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:18:42,237 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:18:42,774 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:18:43,260 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:18:43,262 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:18:43,262 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:18:43,747 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:18:43,956 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:18:43,956 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:18:43,956 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "total_elements": 1,
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "source_type": "xlsx",
  "company_id": 3,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 18:18:43,958 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:18:43,958 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:18:44,032 — INFO — app — [MEMORY] Created new history for session d9a7b884-7d71-4a3c-b865-e83af8c626b8
2025-07-19 18:18:44,504 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:18:44,939 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:18:45,299 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:18:45,354 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:18:45,355 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:18:45,355 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:18:45,357 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:20:54,606 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:20:54,611 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:20:54,806 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:20:55,771 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:20:56,309 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:20:56,632 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:20:57,242 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:20:57,753 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:20:57,756 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:20:57,756 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:20:58,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:20:58,623 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:20:58,623 — INFO — retriever — [RETRIEVER] Direct vector-only retriever for maximum speed — k=3
2025-07-19 18:20:58,623 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 18:20:59,711 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:21:00,487 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:21:21,313 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:21:21,314 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: cd090c50-92f3-4152-8717-9508291d3791
2025-07-19 18:21:21,315 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:21:21,316 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:21:21,316 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:21:21,316 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:21:21,392 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:21:22,189 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:21:22,807 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:21:23,125 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:21:23,786 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:21:24,440 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:21:24,442 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:21:24,443 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:21:24,954 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:21:25,163 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:21:25,163 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:21:25,164 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "event_id": 693,
  "element_types": "sheet_header",
  "chunk_index": 0,
  "company_id": 3
}
2025-07-19 18:21:25,165 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:21:25,165 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:21:25,239 — INFO — app — [MEMORY] Created new history for session cd090c50-92f3-4152-8717-9508291d3791
2025-07-19 18:21:25,562 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:21:26,347 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:21:26,894 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:21:27,509 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:21:27,509 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:21:27,510 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:21:27,512 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:21:58,343 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:21:58,345 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 95d37651-d419-4d9d-b9c4-5c853b8782aa
2025-07-19 18:21:58,347 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:21:58,348 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:21:58,349 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:21:58,349 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:21:58,433 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:21:58,879 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:21:59,514 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:21:59,842 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:22:00,552 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:01,099 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:01,101 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:22:01,102 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:22:01,720 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:22:01,852 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:22:01,853 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:22:01,853 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 18:22:01,855 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:22:01,855 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:01,945 — INFO — app — [MEMORY] Created new history for session 95d37651-d419-4d9d-b9c4-5c853b8782aa
2025-07-19 18:22:02,376 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:22:03,072 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:22:04,064 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:22:04,622 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:22:04,622 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:22:04,623 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:22:04,624 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:22:04,646 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:22:04,647 — INFO — app — [API] Received question: What is TechCorp's annual revenue?, company_id: 3, bot_id: 1, session_id: 2a12e056-8da2-432d-853c-250159b9711a
2025-07-19 18:22:04,647 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:22:04,648 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:22:04,648 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:22:04,648 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:04,721 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:22:05,430 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:22:06,022 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:22:06,349 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:22:06,886 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:07,447 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:07,448 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:22:07,449 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:22:07,860 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:22:08,078 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:22:08,078 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:22:08,079 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "event_id": 693
}
2025-07-19 18:22:08,080 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:22:08,080 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:08,171 — INFO — app — [MEMORY] Created new history for session 2a12e056-8da2-432d-853c-250159b9711a
2025-07-19 18:22:08,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:22:09,305 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:22:09,808 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:22:10,279 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### TechCorp's Annual Revenue\n\n- **Annual Revenue:** $5,000,000\n\n### Additional Information\n\nTechCorp is categorized under the Technology industry and has a contract value of $125,000. [source: sample_excel.xlsx#3]"
2025-07-19 18:22:10,279 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp's Annual Revenue

- **Annual Revenue:** $5,000,000

### Additional Information

TechCorp is categorized under the Technology industry and has a contract value of $125,000. [source: sample_excel.xlsx#3]
2025-07-19 18:22:10,280 — INFO — app — [STREAM] Completed streaming. Clean text for history: 208 chars
2025-07-19 18:22:10,281 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_excel.xlsx', 'sample_mixed.html', 'test.txt', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:22:10,295 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:22:10,297 — INFO — app — [API] Received question: Which company is in the healthcare industry?, company_id: 3, bot_id: 1, session_id: 0785fb50-725d-4d0d-b891-3663bf146229
2025-07-19 18:22:10,298 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:22:10,298 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:22:10,299 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:22:10,299 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:10,382 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:22:10,871 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:22:11,341 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:22:11,701 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:22:12,249 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:12,774 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:12,776 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:22:12,777 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:22:13,231 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:22:13,379 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:22:13,380 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:22:13,380 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 18:22:13,382 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:22:13,383 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:13,456 — INFO — app — [MEMORY] Created new history for session 0785fb50-725d-4d0d-b891-3663bf146229
2025-07-19 18:22:13,902 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:22:14,734 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:22:15,217 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:22:15,240 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:22:15,241 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:22:15,242 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:22:15,244 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_powerpoint.pptx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:22:15,257 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:22:15,258 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: dd891a77-95c2-46b9-acc3-e850466c0b76
2025-07-19 18:22:15,260 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:22:15,260 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:22:15,261 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:22:15,261 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:15,343 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:22:15,744 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:22:16,212 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:22:16,522 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:22:17,134 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:17,645 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:22:17,647 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:22:17,648 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:22:18,039 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:22:18,113 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:22:18,113 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:22:18,114 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "event_id": 693,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "total_elements": 1
}
2025-07-19 18:22:18,115 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:22:18,116 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:22:18,196 — INFO — app — [MEMORY] Created new history for session dd891a77-95c2-46b9-acc3-e850466c0b76
2025-07-19 18:22:18,474 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:22:18,928 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:22:19,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:22:20,404 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\nThe following industries are represented in the customer data:\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries reflect a diverse range of sectors, indicating a broad customer base for the services provided. Each industry has unique characteristics and needs, which may influence the services offered to them. [source: sample_excel.xlsx#3]'
2025-07-19 18:22:20,405 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

The following industries are represented in the customer data:

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries reflect a diverse range of sectors, indicating a broad customer base for the services provided. Each industry has unique characteristics and needs, which may influence the services offered to them. [source: sample_excel.xlsx#3]
2025-07-19 18:22:20,405 — INFO — app — [STREAM] Completed streaming. Clean text for history: 419 chars
2025-07-19 18:22:20,407 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:23:03,451 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:23:13,571 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:23:30,458 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:23:49,240 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:23:49,246 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 6b56150a-1c44-4344-82b6-946205bd9c42
2025-07-19 18:23:49,248 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:23:49,249 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:23:49,249 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:23:49,249 — INFO — app — [PERF] Initializing global retriever service
2025-07-19 18:23:49,250 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:23:49,470 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:23:50,319 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:23:50,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:23:51,077 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:23:51,757 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:23:52,270 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:23:52,272 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:23:52,272 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:23:52,675 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:23:52,762 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:23:52,763 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:23:52,763 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source_page": 1,
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "company_id": 3
}
2025-07-19 18:23:52,764 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:23:52,765 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:23:52,866 — INFO — app — [MEMORY] Created new history for session 6b56150a-1c44-4344-82b6-946205bd9c42
2025-07-19 18:23:54,224 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:23:54,851 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:23:55,553 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:23:56,454 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:23:56,455 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:23:56,460 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:23:56,466 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:23:56,491 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:23:56,493 — INFO — app — [API] Received question: What is TechCorp's annual revenue?, company_id: 3, bot_id: 1, session_id: 8b99e243-36c6-450b-b489-f37424d4ecf5
2025-07-19 18:23:56,496 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:23:56,497 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:23:56,500 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:23:57,186 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:23:57,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:23:58,079 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:23:58,652 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:23:59,053 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:23:59,055 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:23:59,055 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:23:59,556 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:23:59,770 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:23:59,783 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:23:59,808 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "event_id": 693,
  "chunk_index": 0,
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "file_size": 9767
}
2025-07-19 18:23:59,810 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:23:59,811 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:23:59,906 — INFO — app — [MEMORY] Created new history for session 8b99e243-36c6-450b-b489-f37424d4ecf5
2025-07-19 18:24:00,328 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:24:00,921 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:24:01,250 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:24:01,807 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### TechCorp's Annual Revenue\n\n- **Annual Revenue:** $5,000,000\n\n### Additional Information\n\nTechCorp is categorized under the Technology industry and has a contract value of $125,000. [source: sample_excel.xlsx#3]"
2025-07-19 18:24:01,807 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp's Annual Revenue

- **Annual Revenue:** $5,000,000

### Additional Information

TechCorp is categorized under the Technology industry and has a contract value of $125,000. [source: sample_excel.xlsx#3]
2025-07-19 18:24:01,808 — INFO — app — [STREAM] Completed streaming. Clean text for history: 208 chars
2025-07-19 18:24:01,809 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_excel.xlsx', 'sample_mixed.html', 'test.txt', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:24:01,823 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:24:01,824 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 05bd9164-8757-4074-bee4-0ce45aa18698
2025-07-19 18:24:01,825 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:24:01,826 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:24:01,826 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:24:02,431 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:24:03,075 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:24:03,551 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:24:04,047 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:04,635 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:04,637 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:24:04,638 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:24:05,327 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:24:05,415 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:24:05,416 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:24:05,416 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx"
}
2025-07-19 18:24:05,418 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:24:05,418 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:24:05,515 — INFO — app — [MEMORY] Created new history for session 05bd9164-8757-4074-bee4-0ce45aa18698
2025-07-19 18:24:06,029 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:24:06,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:24:06,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:24:07,863 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are represented by the companies listed in the customer data, showcasing a diverse range of sectors involved in the business context. Each industry contributes to the overall economic landscape and reflects varying market needs and opportunities. [source: sample_excel.xlsx#3]'
2025-07-19 18:24:07,864 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are represented by the companies listed in the customer data, showcasing a diverse range of sectors involved in the business context. Each industry contributes to the overall economic landscape and reflects varying market needs and opportunities. [source: sample_excel.xlsx#3]
2025-07-19 18:24:07,865 — INFO — app — [STREAM] Completed streaming. Clean text for history: 405 chars
2025-07-19 18:24:07,866 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:24:22,046 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:24:22,047 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 448abc0b-f2cc-4958-892b-e8f7c6d5d377
2025-07-19 18:24:22,049 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:24:22,050 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:24:22,050 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:24:22,534 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:24:22,956 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:24:23,244 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:24:24,053 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:24,675 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:24,677 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:24:24,677 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:24:25,388 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:24:25,601 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:24:25,602 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:24:25,602 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "file_size": 9767,
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "source_page": 1,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "bot_id": 1,
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text"
}
2025-07-19 18:24:25,603 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:24:25,604 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:24:25,679 — INFO — app — [MEMORY] Created new history for session 448abc0b-f2cc-4958-892b-e8f7c6d5d377
2025-07-19 18:24:26,063 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:24:26,669 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:24:27,330 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:24:27,821 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:24:27,821 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:24:27,823 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:24:27,825 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:24:27,837 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:24:27,838 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 2e5b4e4a-a59d-406c-97ac-8c606625000d
2025-07-19 18:24:27,839 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:24:27,839 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:24:27,839 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:24:28,339 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:24:28,873 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:24:29,216 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:24:29,786 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:30,355 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:30,357 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:24:30,358 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:24:30,806 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:24:30,977 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:24:30,978 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:24:30,979 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "event_id": 693,
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header"
}
2025-07-19 18:24:30,980 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:24:30,983 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:24:31,055 — INFO — app — [MEMORY] Created new history for session 2e5b4e4a-a59d-406c-97ac-8c606625000d
2025-07-19 18:24:31,310 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:24:31,946 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:24:32,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:24:33,547 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies represent various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:24:33,547 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies represent various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:24:33,548 — INFO — app — [STREAM] Completed streaming. Clean text for history: 312 chars
2025-07-19 18:24:33,550 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:24:33,563 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:24:33,564 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 905d63d0-baef-481d-bcf8-93d8320503c2
2025-07-19 18:24:33,566 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:24:33,566 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:24:33,566 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:24:33,973 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:24:34,361 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:24:34,702 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:24:35,161 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:36,337 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:24:36,338 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:24:36,339 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:24:37,158 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:24:37,227 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:24:37,228 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:24:37,229 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "source_page": 1,
  "element_types": "sheet_header",
  "event_id": 693,
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "created_time": 1752893064.69696
}
2025-07-19 18:24:37,230 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:24:37,230 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:24:37,304 — INFO — app — [MEMORY] Created new history for session 905d63d0-baef-481d-bcf8-93d8320503c2
2025-07-19 18:24:37,674 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:24:38,142 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:24:38,500 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:24:39,237 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:24:39,238 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:24:39,239 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:24:39,240 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:25:14,676 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:25:26,351 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:25:45,528 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:25:56,022 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 18:26:21,777 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:26:21,784 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 24c57f02-7020-468a-955d-5ff37975b40b
2025-07-19 18:26:21,786 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:26:21,786 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:26:21,786 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:26:21,786 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:22,016 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:26:22,841 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:26:23,346 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:26:23,617 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:26:24,352 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:25,459 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:25,462 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:26:25,463 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:26:26,049 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:26:26,134 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:26:26,135 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:26:26,135 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "structure_type": "sheet_header",
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream"
}
2025-07-19 18:26:26,136 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:26:26,136 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:26,221 — INFO — app — [MEMORY] Created new history for session 24c57f02-7020-468a-955d-5ff37975b40b
2025-07-19 18:26:27,498 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:26:28,057 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:26:28,420 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:26:29,269 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:26:29,270 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:26:29,274 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:26:29,277 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:26:29,293 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:26:29,294 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 82e00afb-f555-4e2f-afad-2feebe9b3504
2025-07-19 18:26:29,296 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:26:29,296 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:26:29,296 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:26:29,296 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:29,384 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:26:29,935 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:26:30,413 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:26:30,833 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:26:31,653 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:32,255 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:32,256 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:26:32,257 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:26:32,720 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:26:32,932 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:26:32,933 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:26:32,933 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "source_page": 1,
  "event_id": 693,
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3
}
2025-07-19 18:26:32,935 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:26:32,936 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:33,018 — INFO — app — [MEMORY] Created new history for session 82e00afb-f555-4e2f-afad-2feebe9b3504
2025-07-19 18:26:33,448 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:26:34,305 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:26:34,882 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:26:35,368 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:26:35,368 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:26:35,369 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:26:35,371 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:26:35,385 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:26:35,386 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: a1e1bfe5-0c3d-4697-ab14-16e74171652d
2025-07-19 18:26:35,388 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:26:35,388 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:26:35,389 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:26:35,389 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:35,472 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:26:36,145 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:26:36,525 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:26:36,964 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:26:37,582 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:38,057 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:26:38,060 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:26:38,061 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:26:38,435 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:26:38,660 — INFO — retriever — [RETRIEVER] Initialized BM25 with 293 documents
2025-07-19 18:26:38,661 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:26:38,661 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "bot_id": 1,
  "element_types": "sheet_header",
  "file_size": 9767
}
2025-07-19 18:26:38,663 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:26:38,664 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:26:38,747 — INFO — app — [MEMORY] Created new history for session a1e1bfe5-0c3d-4697-ab14-16e74171652d
2025-07-19 18:26:39,220 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:26:39,846 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:26:40,460 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:26:41,205 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:26:41,206 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:26:41,208 — INFO — app — [STREAM] Completed streaming. Clean text for history: 307 chars
2025-07-19 18:26:41,209 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:29:09,949 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:29:09,950 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 0e67ebca-21d6-4752-ad88-cdb79ede3f53
2025-07-19 18:29:09,951 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:29:09,951 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:29:09,951 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:29:09,952 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:10,033 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:29:10,570 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:29:10,956 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:29:11,282 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:29:12,203 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:13,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:13,548 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:29:13,549 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:29:14,253 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:29:14,386 — INFO — retriever — [RETRIEVER] Initialized BM25 with 315 documents
2025-07-19 18:29:14,386 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:29:14,387 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "bot_id": 1,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header"
}
2025-07-19 18:29:14,388 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:29:14,389 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:14,461 — INFO — app — [MEMORY] Created new history for session 0e67ebca-21d6-4752-ad88-cdb79ede3f53
2025-07-19 18:29:14,874 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:29:15,689 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:29:16,222 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:29:16,962 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:29:16,963 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:29:16,963 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:29:16,964 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_table.csv', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:29:16,982 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:29:16,983 — INFO — app — [API] Received question: What is TechCorp's industry and revenue?, company_id: 3, bot_id: 1, session_id: a97b328f-a744-4948-ae79-76130527291b
2025-07-19 18:29:16,984 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:29:16,984 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:29:16,985 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:29:16,985 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:17,091 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:29:17,497 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:29:17,905 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:29:18,218 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:29:18,846 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:19,453 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:19,455 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:29:19,455 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:29:19,966 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:29:20,190 — INFO — retriever — [RETRIEVER] Initialized BM25 with 315 documents
2025-07-19 18:29:20,190 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:29:20,191 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text"
}
2025-07-19 18:29:20,192 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:29:20,193 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:20,269 — INFO — app — [MEMORY] Created new history for session a97b328f-a744-4948-ae79-76130527291b
2025-07-19 18:29:20,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:29:21,149 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:29:21,558 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:29:22,046 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### TechCorp's Industry and Revenue\n\n- **Industry:** Technology\n\n- **Annual Revenue:** $5,000,000\n\n### Additional Information\n\nThis information is sourced from the customer data provided in the context. [source: sample_excel.xlsx#3]"
2025-07-19 18:29:22,046 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp's Industry and Revenue

- **Industry:** Technology

- **Annual Revenue:** $5,000,000

### Additional Information

This information is sourced from the customer data provided in the context. [source: sample_excel.xlsx#3]
2025-07-19 18:29:22,047 — INFO — app — [STREAM] Completed streaming. Clean text for history: 218 chars
2025-07-19 18:29:22,048 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:29:22,064 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:29:22,065 — INFO — app — [API] Received question: List all industries represented, company_id: 3, bot_id: 1, session_id: aa0ef990-7366-452a-9b58-8ca88d5d5be2
2025-07-19 18:29:22,066 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:29:22,066 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:29:22,067 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:29:22,067 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:22,154 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:29:22,587 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:29:23,007 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:29:23,423 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:29:24,417 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:25,723 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:25,725 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:29:25,725 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:29:26,351 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:29:26,440 — INFO — retriever — [RETRIEVER] Initialized BM25 with 321 documents
2025-07-19 18:29:26,441 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:29:26,442 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "total_elements": 1,
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "source_page": 1,
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction"
}
2025-07-19 18:29:26,443 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:29:26,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:26,516 — INFO — app — [MEMORY] Created new history for session aa0ef990-7366-452a-9b58-8ca88d5d5be2
2025-07-19 18:29:26,767 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:29:27,362 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:29:27,784 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:29:28,296 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- Technology\n- Healthcare\n- Finance\n- Manufacturing\n- Retail\n\n### Additional Information\n\nThese industries are associated with the respective companies in the provided data. Each industry reflects the sector in which the company operates. [source: sample_excel.xlsx#3]'
2025-07-19 18:29:28,296 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- Technology
- Healthcare
- Finance
- Manufacturing
- Retail

### Additional Information

These industries are associated with the respective companies in the provided data. Each industry reflects the sector in which the company operates. [source: sample_excel.xlsx#3]
2025-07-19 18:29:28,297 — INFO — app — [STREAM] Completed streaming. Clean text for history: 290 chars
2025-07-19 18:29:28,299 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_list.md'], Scores: ['N/A', 'N/A', 'N/A']
2025-07-19 18:29:28,315 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:29:28,316 — INFO — app — [API] Received question: What is the history of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 089642c6-cd2a-41e5-881a-a673a6d1c7ee
2025-07-19 18:29:28,317 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:29:28,317 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:29:28,317 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:29:28,317 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:28,397 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:29:29,219 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:29:29,737 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:29:30,018 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:29:30,639 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:31,663 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:29:31,664 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:29:31,665 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:29:32,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:29:32,301 — INFO — retriever — [RETRIEVER] Initialized BM25 with 327 documents
2025-07-19 18:29:32,302 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:29:32,303 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 18:29:32,304 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:29:32,304 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:29:32,384 — INFO — app — [MEMORY] Created new history for session 089642c6-cd2a-41e5-881a-a673a6d1c7ee
2025-07-19 18:29:32,719 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:29:33,921 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:29:34,320 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:29:34,376 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:29:34,377 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:29:34,377 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:29:34,379 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:32:02,961 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:32:02,963 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: e6c96f41-2bd2-4049-9b01-4bc5a96f2dfc
2025-07-19 18:32:02,965 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:32:02,965 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:32:02,966 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:32:02,966 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:32:03,043 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:32:03,506 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:32:03,913 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:32:04,457 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:32:05,271 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:32:06,539 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:32:06,541 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:32:06,542 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:32:07,105 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:32:07,270 — INFO — retriever — [RETRIEVER] Initialized BM25 with 348 documents
2025-07-19 18:32:07,271 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:32:07,271 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "event_id": 693,
  "bot_id": 1,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header"
}
2025-07-19 18:32:07,272 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:32:07,273 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:32:07,351 — INFO — app — [MEMORY] Created new history for session e6c96f41-2bd2-4049-9b01-4bc5a96f2dfc
2025-07-19 18:32:07,695 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:32:08,168 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:32:08,562 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:32:09,282 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:32:09,283 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:32:09,284 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:32:09,285 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:32:22,458 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:32:22,459 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: a010b8f1-5d76-434f-bffd-c6cfdf413f38
2025-07-19 18:32:22,460 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:32:22,461 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:32:22,461 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:32:22,461 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:32:22,581 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:32:23,022 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:32:23,438 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:32:23,854 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:32:24,512 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:32:25,444 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:32:25,446 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:32:25,446 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:32:26,150 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:32:26,250 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:32:26,251 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:32:26,251 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "company_id": 3,
  "structural_density": 0.508,
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 18:32:26,253 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:32:26,253 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:32:26,344 — INFO — app — [MEMORY] Created new history for session a010b8f1-5d76-434f-bffd-c6cfdf413f38
2025-07-19 18:32:26,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:32:27,728 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:32:28,118 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:32:28,838 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:32:28,838 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:32:28,839 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:32:28,841 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:34:38,135 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:34:38,137 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 5f28568d-3f24-448d-b0b1-314800ef5e52
2025-07-19 18:34:38,138 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:34:38,139 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:34:38,139 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:34:38,140 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:38,210 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:34:38,943 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:34:39,409 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:34:39,701 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:34:40,212 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:40,849 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:40,851 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:34:40,853 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:34:41,318 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:34:41,501 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:34:41,501 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:34:41,502 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "file_size": 9767,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "bot_id": 1,
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 18:34:41,504 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:34:41,505 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:41,589 — INFO — app — [MEMORY] Created new history for session 5f28568d-3f24-448d-b0b1-314800ef5e52
2025-07-19 18:34:42,639 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:34:43,146 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:34:43,778 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:34:44,697 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:34:44,698 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:34:44,698 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:34:44,699 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:34:44,715 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:34:44,716 — INFO — app — [API] Received question: TechCorp industry and revenue information, company_id: 3, bot_id: 1, session_id: 8cf65715-6f5f-42f0-a3b8-51547bb06fe4
2025-07-19 18:34:44,717 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:34:44,717 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:34:44,718 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:34:44,718 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:44,795 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:34:45,214 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:34:45,640 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:34:45,977 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:34:46,748 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:47,249 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:47,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:34:47,251 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:34:47,668 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:34:47,748 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:34:47,748 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:34:47,748 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "chunk_index": 0,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696
}
2025-07-19 18:34:47,749 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:34:47,750 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:47,832 — INFO — app — [MEMORY] Created new history for session 8cf65715-6f5f-42f0-a3b8-51547bb06fe4
2025-07-19 18:34:48,334 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:34:48,855 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:34:49,234 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:34:50,029 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TechCorp Industry and Revenue Information\n\n- **Industry**: Technology  \n- **Annual Revenue**: $5,000,000  \n\n### Additional Information\n\nTechCorp is identified as a company in the technology sector with an annual revenue of five million dollars. [source: sample_excel.xlsx#3]'
2025-07-19 18:34:50,029 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Industry and Revenue Information

- **Industry**: Technology  
- **Annual Revenue**: $5,000,000  

### Additional Information

TechCorp is identified as a company in the technology sector with an annual revenue of five million dollars. [source: sample_excel.xlsx#3]
2025-07-19 18:34:50,030 — INFO — app — [STREAM] Completed streaming. Clean text for history: 262 chars
2025-07-19 18:34:50,032 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:34:50,051 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:34:50,053 — INFO — app — [API] Received question: What is the history of quantum computing?, company_id: 3, bot_id: 1, session_id: c5f5ff0b-27fb-41f2-aad6-814c30233c54
2025-07-19 18:34:50,055 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:34:50,055 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:34:50,056 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:34:50,057 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:50,143 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:34:50,575 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:34:51,127 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:34:51,565 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:34:52,171 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:52,742 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:52,746 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:34:52,747 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:34:53,220 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:34:53,311 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:34:53,312 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:34:53,313 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "source_type": "xlsx",
  "company_id": 3,
  "element_types": "sheet_header",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1
}
2025-07-19 18:34:53,316 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:34:53,316 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:53,397 — INFO — app — [MEMORY] Created new history for session c5f5ff0b-27fb-41f2-aad6-814c30233c54
2025-07-19 18:34:53,709 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:34:54,430 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:34:54,927 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:34:54,993 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:34:54,993 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:34:54,994 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:34:54,996 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:34:55,007 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:34:55,007 — INFO — app — [API] Received question: List all industries in the database, company_id: 3, bot_id: 1, session_id: f9e29f09-bb87-438b-8350-4ab2b1d3def1
2025-07-19 18:34:55,008 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:34:55,008 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:34:55,008 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:34:55,009 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:55,079 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:34:55,504 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:34:55,939 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:34:56,256 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:34:56,947 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:57,552 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:34:57,553 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:34:57,554 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:34:57,951 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:34:58,042 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:34:58,043 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:34:58,043 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "bot_id": 1,
  "event_id": 693,
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text",
  "source_page": 1,
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 18:34:58,047 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:34:58,047 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:34:58,119 — INFO — app — [MEMORY] Created new history for session f9e29f09-bb87-438b-8350-4ab2b1d3def1
2025-07-19 18:34:58,515 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:34:59,040 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:34:59,439 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:35:00,014 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries in the Database\n\n- Technology\n- Healthcare\n- Finance\n- Manufacturing\n- Retail\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects the primary business focus of the companies. [source: sample_excel.xlsx#3]'
2025-07-19 18:35:00,014 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries in the Database

- Technology
- Healthcare
- Finance
- Manufacturing
- Retail

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects the primary business focus of the companies. [source: sample_excel.xlsx#3]
2025-07-19 18:35:00,015 — INFO — app — [STREAM] Completed streaming. Clean text for history: 304 chars
2025-07-19 18:35:00,017 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_table.csv', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:43:53,653 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:43:53,656 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 0e10355d-fe6e-4f4c-91de-c819db86aa31
2025-07-19 18:43:53,658 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:43:53,659 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:43:53,659 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:43:53,659 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:43:53,753 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:43:54,635 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:43:55,252 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:43:55,808 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:43:56,399 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:43:57,095 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:43:57,097 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:43:57,097 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:43:57,622 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:43:57,747 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:43:57,747 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:43:57,748 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "event_id": 693,
  "element_types": "sheet_header",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "source_page": 1
}
2025-07-19 18:43:57,749 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:43:57,749 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:43:57,830 — INFO — app — [MEMORY] Created new history for session 0e10355d-fe6e-4f4c-91de-c819db86aa31
2025-07-19 18:43:58,270 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:43:58,760 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:43:59,187 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:43:59,993 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:43:59,995 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:43:59,995 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:43:59,997 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:00,016 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:00,019 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 8984666a-7977-4e7d-93d3-d6aead113dd0
2025-07-19 18:44:00,022 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:00,022 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:00,023 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:00,023 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:00,100 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:00,685 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:01,093 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:01,403 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:01,902 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:02,440 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:02,445 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:02,446 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:02,860 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:03,123 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:03,124 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:03,125 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "source_page": 1,
  "company_id": 3,
  "bot_id": 1,
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 18:44:03,126 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:03,127 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:03,242 — INFO — app — [MEMORY] Created new history for session 8984666a-7977-4e7d-93d3-d6aead113dd0
2025-07-19 18:44:03,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:04,398 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:04,957 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:06,639 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:30am - 4:30pm\n  - 7:00am - 4:00pm (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30am - 3:30pm\n  - 7:00am - 4:00pm\n\n- **Wednesday:**\n  - 7:30am - 4:30pm\n  - 7:00am - 4:00pm\n\n- **Thursday:**\n  - 7:30am - 4:30pm\n  - 7:00am - 4:00pm\n\n### Additional Information\n\n*Note: The hours listed may vary by location; please confirm with the specific office for accurate timings.*  \n[source: sample_pdf.pdf#0]'
2025-07-19 18:44:06,640 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:30am - 4:30pm
  - 7:00am - 4:00pm (Every Other Monday)

- **Tuesday:**
  - 6:30am - 3:30pm
  - 7:00am - 4:00pm

- **Wednesday:**
  - 7:30am - 4:30pm
  - 7:00am - 4:00pm

- **Thursday:**
  - 7:30am - 4:30pm
  - 7:00am - 4:00pm

### Additional Information

*Note: The hours listed may vary by location; please confirm with the specific office for accurate timings.*  
[source: sample_pdf.pdf#0]
2025-07-19 18:44:06,640 — INFO — app — [STREAM] Completed streaming. Clean text for history: 385 chars
2025-07-19 18:44:06,642 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:06,653 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:06,654 — INFO — app — [API] Received question: List all industries with details, company_id: 3, bot_id: 1, session_id: f98ea042-59e9-412b-855b-0a0f969539e2
2025-07-19 18:44:06,657 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:06,657 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:06,657 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:06,658 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:06,727 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:07,259 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:07,630 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:07,917 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:08,400 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:08,985 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:08,988 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:08,989 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:09,384 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:09,456 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:09,457 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:09,458 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "company_id": 3,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 18:44:09,459 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:09,459 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:09,541 — INFO — app — [MEMORY] Created new history for session f98ea042-59e9-412b-855b-0a0f969539e2
2025-07-19 18:44:09,910 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:10,524 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:11,083 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:13,158 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries List\n\n- **Technology**\n  - Company: TechCorp\n  - Annual Revenue: $5,000,000\n  - Contract Value: $125,000\n\n- **Healthcare**\n  - Company: DataSys\n  - Annual Revenue: $12,000,000\n  - Contract Value: $340,000\n\n- **Finance**\n  - Company: CloudCo\n  - Annual Revenue: $8,500,000\n  - Contract Value: $180,000\n\n- **Manufacturing**\n  - Company: InnovateLab\n  - Annual Revenue: $3,200,000\n  - Contract Value: $95,000\n\n- **Retail**\n  - Company: DigitalPro\n  - Annual Revenue: $7,800,000\n  - Contract Value: $220,000\n\n### Additional Information\n\nThis list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer records provided in the context. [source: sample_excel.xlsx#3]'
2025-07-19 18:44:13,159 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries List

- **Technology**
  - Company: TechCorp
  - Annual Revenue: $5,000,000
  - Contract Value: $125,000

- **Healthcare**
  - Company: DataSys
  - Annual Revenue: $12,000,000
  - Contract Value: $340,000

- **Finance**
  - Company: CloudCo
  - Annual Revenue: $8,500,000
  - Contract Value: $180,000

- **Manufacturing**
  - Company: InnovateLab
  - Annual Revenue: $3,200,000
  - Contract Value: $95,000

- **Retail**
  - Company: DigitalPro
  - Annual Revenue: $7,800,000
  - Contract Value: $220,000

### Additional Information

This list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer records provided in the context. [source: sample_excel.xlsx#3]
2025-07-19 18:44:13,160 — INFO — app — [STREAM] Completed streaming. Clean text for history: 721 chars
2025-07-19 18:44:13,161 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_table.csv', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:13,173 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:13,174 — INFO — app — [API] Received question: Who has experience with technology systems?, company_id: 3, bot_id: 1, session_id: 0c147583-4227-4c41-b8ac-f29454305de7
2025-07-19 18:44:13,176 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:13,176 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:13,176 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:13,176 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:13,249 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:13,700 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:14,093 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:14,393 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:14,897 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:15,492 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:15,493 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:15,494 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:16,160 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:16,251 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:16,252 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:16,252 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 18:44:16,254 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:16,254 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:16,330 — INFO — app — [MEMORY] Created new history for session 0c147583-4227-4c41-b8ac-f29454305de7
2025-07-19 18:44:16,675 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:17,146 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:17,744 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:17,790 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:44:17,791 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:44:17,791 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:44:17,794 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:17,811 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:17,812 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: afabe7f4-2f29-4dd1-8f43-df8c348e2205
2025-07-19 18:44:17,813 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:17,814 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:17,814 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:17,815 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:17,890 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:18,472 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:19,213 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:19,486 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:19,990 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:20,601 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:20,607 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:20,607 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:21,091 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:21,183 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:21,184 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:21,184 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction"
}
2025-07-19 18:44:21,185 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:21,186 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:21,269 — INFO — app — [MEMORY] Created new history for session afabe7f4-2f29-4dd1-8f43-df8c348e2205
2025-07-19 18:44:21,567 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:22,240 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:22,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:22,792 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:44:22,792 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:44:22,793 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:44:22,794 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:22,813 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:22,814 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 739b010a-6b4d-4e3f-9498-0dec5c4aa09f
2025-07-19 18:44:22,817 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:22,817 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:22,818 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:22,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:22,913 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:23,418 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:23,962 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:24,285 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:25,194 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:26,087 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:26,091 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:26,091 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:26,663 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:26,746 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:26,747 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:26,747 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "bot_id": 1,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "chunk_index": 0
}
2025-07-19 18:44:26,748 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:26,749 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:26,823 — INFO — app — [MEMORY] Created new history for session 739b010a-6b4d-4e3f-9498-0dec5c4aa09f
2025-07-19 18:44:27,404 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:27,852 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:28,306 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:28,433 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:44:28,433 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:44:28,434 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:44:28,436 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:28,453 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:28,455 — INFO — app — [API] Received question: Describe the different companies and their sectors, company_id: 3, bot_id: 1, session_id: d368f482-2e58-4939-a349-efaaec82a625
2025-07-19 18:44:28,456 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:28,457 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:28,457 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:28,458 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:28,549 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:29,018 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:29,516 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:29,815 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:30,480 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:30,985 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:30,988 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:30,988 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:31,447 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:31,524 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:31,524 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:31,525 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "source_page": 1,
  "bot_id": 1,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 18:44:31,526 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:31,527 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:31,606 — INFO — app — [MEMORY] Created new history for session d368f482-2e58-4939-a349-efaaec82a625
2025-07-19 18:44:31,893 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:32,721 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:33,065 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:33,128 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:44:33,128 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:44:33,129 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:44:33,130 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:33,142 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:33,143 — INFO — app — [API] Received question: What information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: c87309f7-cd10-448a-85a6-31a5cb1e3e1f
2025-07-19 18:44:33,144 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:33,144 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:33,145 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:33,145 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:33,225 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:33,655 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:34,163 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:34,574 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:35,106 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:36,400 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:36,402 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:36,402 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:36,860 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:37,025 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:37,026 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:37,027 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "bot_id": 1,
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "company_id": 3
}
2025-07-19 18:44:37,029 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:37,030 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:37,108 — INFO — app — [MEMORY] Created new history for session c87309f7-cd10-448a-85a6-31a5cb1e3e1f
2025-07-19 18:44:37,590 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:44:38,226 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:44:38,671 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:44:39,640 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TechCorp Information\n\n- **Customer ID**: CUST-001\n- **Company**: TechCorp\n- **Industry**: Technology\n- **Annual Revenue**: $5,000,000\n- **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp operates in the technology sector with a significant annual revenue and a contract value that reflects its business engagements. This information can be useful for understanding its market position and financial health. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 18:44:39,641 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Information

- **Customer ID**: CUST-001
- **Company**: TechCorp
- **Industry**: Technology
- **Annual Revenue**: $5,000,000
- **Contract Value**: $125,000

### Additional Information

TechCorp operates in the technology sector with a significant annual revenue and a contract value that reflects its business engagements. This information can be useful for understanding its market position and financial health. 

[source: sample_excel.xlsx#3]
2025-07-19 18:44:39,641 — INFO — app — [STREAM] Completed streaming. Clean text for history: 433 chars
2025-07-19 18:44:39,642 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:44:56,771 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:44:56,773 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 60ff5eea-be94-493f-9591-39cf5361ad8e
2025-07-19 18:44:56,774 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:44:56,774 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:44:56,774 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:44:56,774 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:56,854 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:44:57,307 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:44:57,760 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:44:58,059 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:44:58,679 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:59,196 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:44:59,199 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:44:59,199 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:44:59,731 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:44:59,806 — INFO — retriever — [RETRIEVER] Initialized BM25 with 362 documents
2025-07-19 18:44:59,807 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:44:59,807 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "bot_id": 1,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 18:44:59,809 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:44:59,809 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:44:59,898 — INFO — app — [MEMORY] Created new history for session 60ff5eea-be94-493f-9591-39cf5361ad8e
2025-07-19 18:45:00,580 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:45:01,196 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:45:01,605 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:45:02,207 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:45:02,207 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:45:02,208 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:45:02,210 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:59:28,826 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:28,831 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 489ca6b4-be7b-4213-b6ae-2384f5ce9c71
2025-07-19 18:59:28,835 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:28,836 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:28,836 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:28,837 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:28,970 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:59:30,357 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:59:30,910 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:59:31,383 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:59:31,993 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:32,476 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:32,478 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:59:32,480 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:59:32,962 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:59:33,071 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 18:59:33,073 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:59:33,073 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "source_type": "xlsx"
}
2025-07-19 18:59:33,076 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:59:33,077 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:33,160 — INFO — app — [MEMORY] Created new history for session 489ca6b4-be7b-4213-b6ae-2384f5ce9c71
2025-07-19 18:59:33,843 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:59:34,269 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:59:34,726 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:59:35,507 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 18:59:35,507 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 18:59:35,508 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 18:59:35,512 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf', 'sample_powerpoint.pptx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:59:35,536 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:35,537 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: a4852657-ae13-411f-85c4-6d5cebc05d02
2025-07-19 18:59:35,538 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:35,538 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:35,538 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:35,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:35,614 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:59:36,208 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:59:36,616 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:59:36,912 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:59:37,482 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:38,013 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:38,079 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:59:38,080 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:59:38,562 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:59:38,706 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 18:59:38,707 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:59:38,708 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "structural_density": 0.508,
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "event_id": 693,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 18:59:38,710 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:59:38,711 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:38,812 — INFO — app — [MEMORY] Created new history for session a4852657-ae13-411f-85c4-6d5cebc05d02
2025-07-19 18:59:39,242 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:59:39,319 — ERROR — app — [STREAM] Error in chain: [SSL: SSLV3_ALERT_BAD_RECORD_MAC] ssl/tls alert bad record mac (_ssl.c:2648)
2025-07-19 18:59:40,333 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:40,333 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 9c2f1d2f-ba39-4b51-a830-afb44109632d
2025-07-19 18:59:40,334 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:40,335 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:40,335 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:40,335 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:40,420 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:59:40,807 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:59:41,244 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:59:41,527 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:59:42,144 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:42,825 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:42,827 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:59:42,827 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:59:43,248 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:59:43,465 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 18:59:43,465 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:59:43,466 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1
}
2025-07-19 18:59:43,467 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:59:43,467 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:43,547 — INFO — app — [MEMORY] Created new history for session 9c2f1d2f-ba39-4b51-a830-afb44109632d
2025-07-19 18:59:43,890 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:59:44,384 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:59:44,901 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:59:47,421 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings.  \n[source: sample_pdf.pdf#1]'
2025-07-19 18:59:47,421 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings.  
[source: sample_pdf.pdf#1]
2025-07-19 18:59:47,423 — INFO — app — [STREAM] Completed streaming. Clean text for history: 513 chars
2025-07-19 18:59:47,424 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:59:47,441 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:47,442 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 7ffd4a0c-64b6-48e7-9316-57578742534b
2025-07-19 18:59:47,443 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:47,444 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:47,444 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:47,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:47,521 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:59:47,974 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:59:48,364 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:59:48,658 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:59:49,186 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:49,696 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:49,698 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:59:49,699 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:59:50,142 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:59:50,244 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 18:59:50,245 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:59:50,245 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "chunk_index": 0,
  "source_type": "xlsx"
}
2025-07-19 18:59:50,247 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:59:50,247 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:50,318 — INFO — app — [MEMORY] Created new history for session 7ffd4a0c-64b6-48e7-9316-57578742534b
2025-07-19 18:59:50,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:59:51,322 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:59:51,862 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:59:54,942 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis list includes all industries represented by the companies in the provided data, along with their respective annual revenues and contract values. Each entry provides a clear overview of the company's financial metrics within its industry. [source: sample_excel.xlsx#3]"
2025-07-19 18:59:54,942 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This list includes all industries represented by the companies in the provided data, along with their respective annual revenues and contract values. Each entry provides a clear overview of the company's financial metrics within its industry. [source: sample_excel.xlsx#3]
2025-07-19 18:59:54,943 — INFO — app — [STREAM] Completed streaming. Clean text for history: 762 chars
2025-07-19 18:59:54,945 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:59:55,216 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:55,216 — INFO — app — [API] Received question: Who has experience with technology systems integration?, company_id: 3, bot_id: 1, session_id: 9672ac6f-758a-491e-b8c9-20afac18b89c
2025-07-19 18:59:55,217 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:55,218 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:55,218 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:55,219 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:55,302 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 18:59:55,879 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 18:59:56,388 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 18:59:56,648 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 18:59:57,183 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:57,779 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 18:59:57,781 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 18:59:57,781 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 18:59:58,276 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 18:59:58,369 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 18:59:58,370 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 18:59:58,370 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "source_page": 1
}
2025-07-19 18:59:58,372 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 18:59:58,373 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:58,443 — INFO — app — [MEMORY] Created new history for session 9672ac6f-758a-491e-b8c9-20afac18b89c
2025-07-19 18:59:58,755 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 18:59:59,262 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 18:59:59,702 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 18:59:59,756 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 18:59:59,756 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 18:59:59,756 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 18:59:59,758 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_list.md', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 18:59:59,795 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 18:59:59,796 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: ffaf4bf9-d646-4014-add7-1ac6d390e24b
2025-07-19 18:59:59,797 — INFO — app — [BOT] Using mode: qa
2025-07-19 18:59:59,797 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 18:59:59,797 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 18:59:59,797 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 18:59:59,874 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:00,462 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:00,913 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:01,281 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:01,873 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:02,476 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:02,477 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:02,477 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:02,993 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:03,233 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:03,234 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:03,235 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "structural_density": 0.508,
  "total_elements": 1,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction"
}
2025-07-19 19:00:03,236 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:03,236 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:03,311 — INFO — app — [MEMORY] Created new history for session ffaf4bf9-d646-4014-add7-1ac6d390e24b
2025-07-19 19:00:03,836 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:04,477 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:04,879 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:05,102 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:00:05,102 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:00:05,102 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:00:05,108 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:05,134 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:05,136 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 01d8138e-3c7c-465c-8906-fd4c7a68f06d
2025-07-19 19:00:05,139 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:05,139 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:05,140 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:05,140 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:05,243 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:05,713 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:06,122 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:06,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:07,687 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:08,304 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:08,306 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:08,307 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:09,071 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:09,148 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:09,148 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:09,149 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "source_page": 1,
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "file_size": 9767,
  "created_time": 1752893064.69696
}
2025-07-19 19:00:09,150 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:09,150 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:09,226 — INFO — app — [MEMORY] Created new history for session 01d8138e-3c7c-465c-8906-fd4c7a68f06d
2025-07-19 19:00:09,628 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:10,241 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:10,704 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:10,792 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:00:10,793 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:00:10,793 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:00:10,795 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:10,811 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:10,811 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 461b102d-3a1e-44c5-bc0d-66f2d0bb6cc6
2025-07-19 19:00:10,812 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:10,812 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:10,812 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:10,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:10,889 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:11,303 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:11,804 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:12,148 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:12,773 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:13,568 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:13,572 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:13,573 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:14,283 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:14,428 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:14,430 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:14,431 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "event_id": 693,
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:00:14,433 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:14,433 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:14,520 — INFO — app — [MEMORY] Created new history for session 461b102d-3a1e-44c5-bc0d-66f2d0bb6cc6
2025-07-19 19:00:14,914 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:15,616 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:16,038 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:16,109 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:00:16,110 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:00:16,110 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:00:16,112 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:16,156 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:16,158 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: 9205e954-4748-4c76-9dd9-0dc423a84752
2025-07-19 19:00:16,160 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:16,160 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:16,160 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:16,160 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:16,235 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:16,693 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:17,166 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:17,515 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:18,078 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:18,679 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:18,681 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:18,681 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:19,305 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:19,395 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:19,396 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:19,396 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "element_types": "sheet_header",
  "bot_id": 1,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767
}
2025-07-19 19:00:19,398 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:19,398 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:19,478 — INFO — app — [MEMORY] Created new history for session 9205e954-4748-4c76-9dd9-0dc423a84752
2025-07-19 19:00:19,789 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:20,521 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:20,861 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:21,987 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### TechCorp Information\n\n- **Customer ID**: CUST-001\n- **Company**: TechCorp\n- **Industry**: Technology\n- **Annual Revenue**: $5,000,000\n- **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is categorized under the technology industry with a significant annual revenue and a contract value that reflects its business engagements. This information can be useful for understanding the company's market position and financial health. \n\n[source: sample_excel.xlsx#3]"
2025-07-19 19:00:21,987 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Information

- **Customer ID**: CUST-001
- **Company**: TechCorp
- **Industry**: Technology
- **Annual Revenue**: $5,000,000
- **Contract Value**: $125,000

### Additional Information

TechCorp is categorized under the technology industry with a significant annual revenue and a contract value that reflects its business engagements. This information can be useful for understanding the company's market position and financial health. 

[source: sample_excel.xlsx#3]
2025-07-19 19:00:21,989 — INFO — app — [STREAM] Completed streaming. Clean text for history: 454 chars
2025-07-19 19:00:21,992 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:22,017 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:22,018 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: efe717ac-06f9-433d-b229-72b78f342c1f
2025-07-19 19:00:22,021 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:22,021 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:22,021 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:00:22,021 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:22,142 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:22,582 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:23,057 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:23,344 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:24,085 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:25,074 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:25,076 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:25,077 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:00:25,078 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:25,984 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:26,075 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:26,075 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:00:26,079 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:00:26,080 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text"
}
2025-07-19 19:00:26,082 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:26,082 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:26,153 — INFO — app — [MEMORY] Created new history for session efe717ac-06f9-433d-b229-72b78f342c1f
2025-07-19 19:00:26,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:26,935 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 19:00:27,300 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:28,157 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:28,375 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:28,877 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:29,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:29,493 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:30,363 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:32,239 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **TechCorp**\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Business Focus Areas\n\nBased on the context provided, the company focuses on:\n\n- **Innovation**: Continuously enhancing products and services.\n- **Customer Excellence**: Prioritizing customer satisfaction and engagement.\n- **Sustainable Business Practices**: Committing to environmentally responsible operations.\n\nThese focus areas are essential for driving growth and ensuring the company meets future challenges effectively. \n\n### Additional Information\n\nThe technology sector is characterized by rapid advancements and a strong emphasis on innovation, which aligns with the company's commitment to enhancing its offerings. The focus on customer excellence indicates a strategy aimed at improving user experience and satisfaction, while sustainable practices reflect a growing trend towards environmental responsibility in the industry. \n\nThis analysis highlights the company's strategic positioning within the technology sector and its commitment to key business areas that drive success. \n[source: sample_excel.xlsx#3]"
2025-07-19 19:00:32,240 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **TechCorp**
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Business Focus Areas

Based on the context provided, the company focuses on:

- **Innovation**: Continuously enhancing products and services.
- **Customer Excellence**: Prioritizing customer satisfaction and engagement.
- **Sustainable Business Practices**: Committing to environmentally responsible operations.

These focus areas are essential for driving growth and ensuring the company meets future challenges effectively. 

### Additional Information

The technology sector is characterized by rapid advancements and a strong emphasis on innovation, which aligns with the company's commitment to enhancing its offerings. The focus on customer excellence indicates a strategy aimed at improving user experience and satisfaction, while sustainable practices reflect a growing trend towards environmental responsibility in the industry. 

This analysis highlights the company's strategic positioning within the technology sector and its commitment to key business areas that drive success. 
[source: sample_excel.xlsx#3]
2025-07-19 19:00:32,241 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1159 chars
2025-07-19 19:00:32,243 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:32,269 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:32,270 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: 4bc49bbe-4ce3-44c1-996c-2fa164332e19
2025-07-19 19:00:32,271 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:32,272 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:32,272 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:32,272 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:32,359 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:32,841 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:33,250 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:33,638 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:34,252 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:34,788 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:34,789 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:34,789 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:35,486 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:35,709 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:35,709 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:35,709 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:00:35,712 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:35,712 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:35,785 — INFO — app — [MEMORY] Created new history for session 4bc49bbe-4ce3-44c1-996c-2fa164332e19
2025-07-19 19:00:36,163 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:36,667 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:37,144 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:37,885 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, reflecting their different market positions and business models. [source: sample_excel.xlsx#3]'
2025-07-19 19:00:37,885 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, reflecting their different market positions and business models. [source: sample_excel.xlsx#3]
2025-07-19 19:00:37,886 — INFO — app — [STREAM] Completed streaming. Clean text for history: 368 chars
2025-07-19 19:00:37,887 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.xlsx', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:37,900 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:37,901 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: 18543976-72ac-4b96-89d0-17b1885a9ede
2025-07-19 19:00:37,902 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:37,902 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:37,902 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:37,903 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:37,979 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:38,358 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:38,746 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:39,171 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:39,804 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:40,603 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:40,606 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:40,606 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:41,062 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:41,285 — INFO — retriever — [RETRIEVER] Initialized BM25 with 407 documents
2025-07-19 19:00:41,285 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:41,286 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "chunk_index": 0,
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 19:00:41,288 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:41,288 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:41,367 — INFO — app — [MEMORY] Created new history for session 18543976-72ac-4b96-89d0-17b1885a9ede
2025-07-19 19:00:42,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:42,879 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:43,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:45,352 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n- **Monday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:** \n  - 6:30 AM - 3:30 PM \n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Thursday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Friday:** \n  - Hours Not Specified\n\n- **Saturday:** \n  - Hours Not Specified\n\n- **Sunday:** \n  - Hours Not Specified\n\n### Additional Information\n\nThe business hours vary by day, with specific times for each office location. Please check with the respective office for any variations or specific scheduling needs. [source: Lucas Offices.pdf#1]'
2025-07-19 19:00:45,352 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

- **Monday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:** 
  - 6:30 AM - 3:30 PM 
  - 7:30 AM - 4:30 PM

- **Wednesday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Thursday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Friday:** 
  - Hours Not Specified

- **Saturday:** 
  - Hours Not Specified

- **Sunday:** 
  - Hours Not Specified

### Additional Information

The business hours vary by day, with specific times for each office location. Please check with the respective office for any variations or specific scheduling needs. [source: Lucas Offices.pdf#1]
2025-07-19 19:00:45,353 — INFO — app — [STREAM] Completed streaming. Clean text for history: 566 chars
2025-07-19 19:00:45,355 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:45,372 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:45,373 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: d2beb75d-6bae-4ee6-9284-56d567c81f1f
2025-07-19 19:00:45,374 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:45,375 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:45,375 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:45,375 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:45,461 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:45,927 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:46,327 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:46,652 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:47,732 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:48,591 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:48,594 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:48,594 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:49,206 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:49,280 — INFO — retriever — [RETRIEVER] Initialized BM25 with 416 documents
2025-07-19 19:00:49,280 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:49,280 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "source_type": "xlsx"
}
2025-07-19 19:00:49,281 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:49,281 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:49,347 — INFO — app — [MEMORY] Created new history for session d2beb75d-6bae-4ee6-9284-56d567c81f1f
2025-07-19 19:00:49,855 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:50,377 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:50,791 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:50,835 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:00:50,835 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:00:50,835 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:00:50,837 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:50,848 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:50,849 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: fc6f9e3d-e1d2-4a6d-b7ea-0526d8a146dd
2025-07-19 19:00:50,850 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:50,850 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:50,850 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:50,850 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:50,918 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:51,322 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:51,733 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:52,003 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:52,493 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:53,079 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:53,081 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:53,081 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:53,707 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:53,822 — INFO — retriever — [RETRIEVER] Initialized BM25 with 416 documents
2025-07-19 19:00:53,823 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:53,823 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "processing_strategy": "direct_extraction",
  "chunk_index": 0,
  "source_page": 1,
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:00:53,825 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:53,825 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:53,914 — INFO — app — [MEMORY] Created new history for session fc6f9e3d-e1d2-4a6d-b7ea-0526d8a146dd
2025-07-19 19:00:54,541 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:00:55,347 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:00:55,776 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:00:55,829 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:00:55,830 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:00:55,830 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:00:55,833 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_list.md', 'sample_list.md', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:00:55,850 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:00:55,851 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: 6cc0e9cd-3e41-4652-8b0e-66a0490ffe5f
2025-07-19 19:00:55,852 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:00:55,852 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:00:55,852 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:00:55,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:55,928 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:00:56,392 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:00:56,782 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:00:57,076 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:00:57,575 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:58,187 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:00:58,193 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:00:58,193 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:00:58,650 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:00:58,928 — INFO — retriever — [RETRIEVER] Initialized BM25 with 416 documents
2025-07-19 19:00:58,929 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:00:58,929 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "chunk_index": 0,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header"
}
2025-07-19 19:00:58,931 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:00:58,931 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:00:59,003 — INFO — app — [MEMORY] Created new history for session 6cc0e9cd-3e41-4652-8b0e-66a0490ffe5f
2025-07-19 19:00:59,386 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:00,059 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:01:00,673 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:01:00,682 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:01:00,682 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:01:00,683 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:01:00,684 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:01:00,699 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:01:00,700 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: abe36ddd-6891-410a-862b-0329c11934ec
2025-07-19 19:01:00,701 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:01:00,701 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:01:00,701 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:01:00,701 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:00,780 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:01:01,286 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:01:01,736 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:01:02,016 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:01:02,720 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:03,271 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:03,274 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:01:03,275 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:01:03,753 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:01:03,839 — INFO — retriever — [RETRIEVER] Initialized BM25 with 416 documents
2025-07-19 19:01:03,839 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:01:03,840 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "chunk_index": 0,
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696
}
2025-07-19 19:01:03,843 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:01:03,843 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:03,914 — INFO — app — [MEMORY] Created new history for session abe36ddd-6891-410a-862b-0329c11934ec
2025-07-19 19:01:04,360 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:05,093 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:01:05,442 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:01:05,470 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:01:05,471 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:01:05,471 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:01:05,472 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:01:05,484 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:01:05,485 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 9fc828f6-c0a9-401a-9fed-004de42805dd
2025-07-19 19:01:05,486 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:01:05,487 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:01:05,487 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:01:05,487 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:05,567 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:01:05,980 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:01:06,431 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:01:06,743 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:01:07,491 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:08,281 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:08,283 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:01:08,283 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:01:08,865 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:01:08,982 — INFO — retriever — [RETRIEVER] Initialized BM25 with 416 documents
2025-07-19 19:01:08,982 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:01:08,983 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3
}
2025-07-19 19:01:08,984 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:01:08,985 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:09,064 — INFO — app — [MEMORY] Created new history for session 9fc828f6-c0a9-401a-9fed-004de42805dd
2025-07-19 19:01:09,481 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:10,675 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:01:11,073 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:01:13,732 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are listed along with their respective industries, annual revenues, and contract values:\n\n- **TechCorp**\n  - **Industry:** Technology\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **DataSys**\n  - **Industry:** Healthcare\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **CloudCo**\n  - **Industry:** Finance\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **InnovateLab**\n  - **Industry:** Manufacturing\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **DigitalPro**\n  - **Industry:** Retail\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across different sectors.'
2025-07-19 19:01:13,732 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are listed along with their respective industries, annual revenues, and contract values:

- **TechCorp**
  - **Industry:** Technology
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **DataSys**
  - **Industry:** Healthcare
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **CloudCo**
  - **Industry:** Finance
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **InnovateLab**
  - **Industry:** Manufacturing
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **DigitalPro**
  - **Industry:** Retail
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

These companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across different sectors.
2025-07-19 19:01:13,734 — INFO — app — [STREAM] Completed streaming. Clean text for history: 850 chars
2025-07-19 19:01:13,735 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:01:13,753 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:01:13,754 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 69ae4f1f-f4aa-4251-8e38-e1be80985e19
2025-07-19 19:01:13,755 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:01:13,755 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:01:13,755 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:01:13,756 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:13,830 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:01:14,334 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:01:14,734 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:01:15,132 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:01:16,485 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:17,489 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:17,491 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:01:17,492 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:01:18,047 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:01:18,170 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:01:18,171 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:01:18,171 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "source_type": "xlsx",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "llm_enrichment": "disabled"
}
2025-07-19 19:01:18,173 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:01:18,173 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:18,288 — INFO — app — [MEMORY] Created new history for session 69ae4f1f-f4aa-4251-8e38-e1be80985e19
2025-07-19 19:01:18,696 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:19,261 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:01:19,692 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:01:19,730 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:01:19,730 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:01:19,731 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:01:19,732 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:01:38,118 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:01:38,119 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 4a78222f-de9e-43dd-9f15-c2227fd3277d
2025-07-19 19:01:38,120 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:01:38,120 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:01:38,120 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:01:38,120 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:38,195 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:01:38,626 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:01:39,381 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:01:39,795 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:01:40,606 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:41,184 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:41,187 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:01:41,188 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:01:41,837 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:01:41,918 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:01:41,919 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:01:41,919 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:01:41,920 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:01:41,920 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:41,991 — INFO — app — [MEMORY] Created new history for session 4a78222f-de9e-43dd-9f15-c2227fd3277d
2025-07-19 19:01:42,687 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:43,396 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:01:43,791 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:01:46,308 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:01:46,309 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:01:46,309 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:01:46,311 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:01:54,869 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:01:54,870 — INFO — app — [API] Received question: Who has experience with technology systems integration?, company_id: 3, bot_id: 1, session_id: e26282de-d68d-4c55-a06e-759d5a40aab6
2025-07-19 19:01:54,871 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:01:54,871 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:01:54,871 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:01:54,871 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:54,935 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:01:55,424 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:01:55,892 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:01:56,184 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:01:56,785 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:57,388 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:01:57,390 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:01:57,390 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:01:58,002 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:01:58,097 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:01:58,098 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:01:58,098 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 19:01:58,100 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:01:58,100 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:01:58,187 — INFO — app — [MEMORY] Created new history for session e26282de-d68d-4c55-a06e-759d5a40aab6
2025-07-19 19:01:58,923 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:01:59,658 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:02:00,009 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:02:00,054 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:02:00,054 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:02:00,055 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:02:00,056 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:02:09,622 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:02:09,623 — INFO — app — [API] Received question: What companies have technology focus?, company_id: 3, bot_id: 1, session_id: dad9ad40-5633-4604-9917-acf8309f4b21
2025-07-19 19:02:09,624 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:02:09,624 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:02:09,625 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:02:09,625 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:02:09,689 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:02:10,304 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:02:10,686 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:02:10,981 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:02:11,617 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:02:12,147 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:02:12,149 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:02:12,150 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:02:12,761 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:02:12,847 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:02:12,847 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:02:12,848 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "source_page": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "total_elements": 1
}
2025-07-19 19:02:12,849 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:02:12,850 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:02:12,923 — INFO — app — [MEMORY] Created new history for session dad9ad40-5633-4604-9917-acf8309f4b21
2025-07-19 19:02:13,814 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:02:14,366 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:02:14,755 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:02:14,848 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:02:14,849 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:02:14,849 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:02:14,851 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:02:24,595 — ERROR — jwt_handler — [JWT] Invalid token: Not enough segments
2025-07-19 19:06:08,398 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:06:08,401 — INFO — app — [API] Received question: What companies are in database, company_id: 3, bot_id: 1, session_id: e12ab87a-5f07-48ea-abeb-34916a115557
2025-07-19 19:06:08,403 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:06:08,403 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:06:08,404 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:06:08,404 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:06:08,493 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:06:09,396 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:06:09,926 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:06:10,332 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:06:11,392 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:06:12,372 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:06:12,374 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:06:12,374 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:06:12,999 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:06:13,222 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:06:13,223 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:06:13,223 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "event_id": 693,
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030"
}
2025-07-19 19:06:13,224 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:06:13,224 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:06:13,301 — INFO — app — [MEMORY] Created new history for session e12ab87a-5f07-48ea-abeb-34916a115557
2025-07-19 19:06:14,145 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:06:14,677 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:06:15,384 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:06:16,013 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:06:16,014 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:06:16,015 — INFO — app — [STREAM] Completed streaming. Clean text for history: 305 chars
2025-07-19 19:06:16,016 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:06:16,033 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:06:16,034 — INFO — app — [API] Received question: What will happen tomorrow, company_id: 3, bot_id: 1, session_id: e58e6514-c697-4fb7-b14c-6ff20d15c337
2025-07-19 19:06:16,035 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:06:16,036 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:06:16,036 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:06:16,036 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:06:16,115 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:06:16,648 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:06:17,043 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:06:17,316 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:06:17,870 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:06:18,370 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:06:18,374 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:06:18,375 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:06:18,857 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:06:18,954 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:06:18,954 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:06:18,954 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "company_id": 3,
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "structural_density": 0.508,
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:06:18,955 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:06:18,956 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:06:19,027 — INFO — app — [MEMORY] Created new history for session e58e6514-c697-4fb7-b14c-6ff20d15c337
2025-07-19 19:06:19,543 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:06:20,205 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:06:20,774 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:06:20,783 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:06:20,784 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:06:20,784 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:06:20,785 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:09:07,024 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:09:07,025 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 94e0c83d-f6d6-440c-9ff4-690c4e2e36aa
2025-07-19 19:09:07,027 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:09:07,028 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:09:07,028 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:09:07,028 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:07,105 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:09:07,552 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:09:08,161 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:09:08,449 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:09:09,120 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:09,777 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:09,778 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:09:09,779 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:09:10,266 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:09:10,387 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:09:10,387 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:09:10,387 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "bot_id": 1
}
2025-07-19 19:09:10,388 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:09:10,389 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:10,483 — INFO — app — [MEMORY] Created new history for session 94e0c83d-f6d6-440c-9ff4-690c4e2e36aa
2025-07-19 19:09:10,936 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:09:11,452 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:09:11,987 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:09:14,184 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:09:14,185 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:09:14,186 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:09:14,188 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:09:14,398 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:09:14,399 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 72377322-fd53-4a7a-a8f4-95ba1101d471
2025-07-19 19:09:14,402 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:09:14,402 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:09:14,402 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:09:14,403 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:14,475 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:09:14,905 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:09:15,341 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:09:15,671 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:09:16,636 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:17,270 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:17,271 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:09:17,272 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:09:17,750 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:09:17,852 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:09:17,852 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:09:17,852 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "file_size": 9767,
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 19:09:17,853 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:09:17,853 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:17,924 — INFO — app — [MEMORY] Created new history for session 72377322-fd53-4a7a-a8f4-95ba1101d471
2025-07-19 19:09:18,260 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:09:18,947 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:09:19,562 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:09:19,570 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:09:19,570 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:09:19,571 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:09:19,572 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:09:38,716 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:09:38,718 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: f1749360-9112-4f8f-8318-2da86bf08487
2025-07-19 19:09:38,720 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:09:38,720 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:09:38,721 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:09:38,721 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:38,835 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:09:39,328 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:09:39,944 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:09:40,270 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:09:40,783 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:41,381 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:41,385 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:09:41,385 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:09:41,832 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:09:41,958 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:09:41,959 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:09:41,960 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "bot_id": 1,
  "file_size": 9767,
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "company_id": 3
}
2025-07-19 19:09:41,961 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:09:41,962 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:42,054 — INFO — app — [MEMORY] Created new history for session f1749360-9112-4f8f-8318-2da86bf08487
2025-07-19 19:09:42,458 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:09:43,185 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:09:43,563 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:09:45,647 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries and Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:09:45,648 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries and Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:09:45,648 — INFO — app — [STREAM] Completed streaming. Clean text for history: 723 chars
2025-07-19 19:09:45,650 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:09:53,070 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:09:53,072 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: e5973df1-0531-400e-a918-2186ab540b0c
2025-07-19 19:09:53,073 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:09:53,073 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:09:53,073 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:09:53,074 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:53,143 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:09:53,539 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:09:54,019 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:09:54,376 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:09:54,968 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:55,670 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:09:55,672 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:09:55,672 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:09:56,277 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:09:57,133 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:09:57,134 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:09:57,134 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "total_elements": 1,
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "company_id": 3,
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction"
}
2025-07-19 19:09:57,136 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:09:57,136 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:09:57,215 — INFO — app — [MEMORY] Created new history for session e5973df1-0531-400e-a918-2186ab540b0c
2025-07-19 19:09:58,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:09:58,707 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:09:59,182 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:10:01,464 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:10:01,464 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:10:01,465 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:10:01,467 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:10:34,266 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:10:34,267 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 9bda34da-2e6c-4cec-a56f-cfda3ba5b7e5
2025-07-19 19:10:34,268 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:10:34,268 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:10:34,268 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:10:34,268 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:10:34,343 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:10:34,779 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:10:35,198 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:10:35,527 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:10:36,469 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:10:37,065 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:10:37,067 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:10:37,068 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:10:37,584 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:10:37,815 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:10:37,816 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:10:37,816 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 19:10:37,818 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:10:37,818 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:10:37,896 — INFO — app — [MEMORY] Created new history for session 9bda34da-2e6c-4cec-a56f-cfda3ba5b7e5
2025-07-19 19:10:38,454 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:10:39,094 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:10:39,620 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:10:42,030 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:10:42,031 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:10:42,032 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:10:42,034 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:15:24,297 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:15:24,297 — INFO — app — [API] Received question: Which companies specialize in technology and what are their business details?, company_id: 3, bot_id: 1, session_id: 7609a633-82d3-4fbe-b66f-eee983957350
2025-07-19 19:15:24,298 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:15:24,299 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:15:24,299 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:15:24,299 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:15:24,383 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:15:25,210 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:15:25,637 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:15:25,951 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:15:26,577 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:15:27,080 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:15:27,081 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:15:27,081 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:15:27,757 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:15:27,854 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:15:27,855 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:15:27,855 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 19:15:27,857 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:15:27,857 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:15:27,940 — INFO — app — [MEMORY] Created new history for session 7609a633-82d3-4fbe-b66f-eee983957350
2025-07-19 19:15:28,331 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:15:28,791 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:15:29,294 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:15:29,351 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:15:29,351 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:15:29,352 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:15:29,353 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:15:43,539 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:15:43,540 — INFO — app — [API] Received question: Which companies specialize in technology and what are their business details?, company_id: 3, bot_id: 1, session_id: faa13e3b-4f87-4553-8939-35165fe20630
2025-07-19 19:15:43,542 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:15:43,542 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:15:43,543 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:15:43,543 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:15:43,632 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:15:44,087 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:15:44,560 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:15:45,010 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:15:45,663 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:15:46,375 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:15:46,377 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:15:46,377 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:15:46,840 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:15:46,944 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:15:46,945 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:15:46,945 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "company_id": 3,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "event_id": 693,
  "bot_id": 1
}
2025-07-19 19:15:46,947 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:15:46,947 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:15:47,020 — INFO — app — [MEMORY] Created new history for session faa13e3b-4f87-4553-8939-35165fe20630
2025-07-19 19:15:47,352 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:15:47,856 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:15:48,239 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:15:48,251 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:15:48,252 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:15:48,252 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:15:48,254 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:16:13,456 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:16:13,456 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 766aef5e-cdb2-4e89-b718-496c6a914b17
2025-07-19 19:16:13,458 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:16:13,458 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:16:13,458 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:16:13,458 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:16:13,552 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:16:14,024 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:16:14,440 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:16:14,735 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:16:15,304 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:16:16,166 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:16:16,169 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:16:16,170 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:16:16,671 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:16:16,917 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:16:16,917 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:16:16,918 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "file_size": 9767,
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696
}
2025-07-19 19:16:16,921 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:16:16,922 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:16:17,002 — INFO — app — [MEMORY] Created new history for session 766aef5e-cdb2-4e89-b718-496c6a914b17
2025-07-19 19:16:17,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:16:18,052 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:16:18,502 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:16:21,108 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Company Name:** TechCorp\n  - **Customer ID:** CUST-001\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and business engagement. [source: sample_excel.xlsx#3]'
2025-07-19 19:16:21,109 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Company Name:** TechCorp
  - **Customer ID:** CUST-001
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and business engagement. [source: sample_excel.xlsx#3]
2025-07-19 19:16:21,110 — INFO — app — [STREAM] Completed streaming. Clean text for history: 380 chars
2025-07-19 19:16:21,113 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:16:33,371 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:16:33,377 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 78c1294e-e344-4046-a65b-7b66f0edfedd
2025-07-19 19:16:33,380 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:16:33,380 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:16:33,380 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:16:33,381 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:16:33,484 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:16:33,929 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:16:34,408 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:16:34,737 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:16:36,082 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:16:36,662 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:16:36,669 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:16:36,670 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:16:37,164 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:16:37,404 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:16:37,404 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:16:37,405 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "total_elements": 1,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 19:16:37,406 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:16:37,407 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:16:37,500 — INFO — app — [MEMORY] Created new history for session 78c1294e-e344-4046-a65b-7b66f0edfedd
2025-07-19 19:16:37,942 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:16:38,500 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:16:38,813 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:16:39,877 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Company Name:** TechCorp\n  - **Customer ID:** CUST-001\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement. [source: sample_excel.xlsx#3]'
2025-07-19 19:16:39,878 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Company Name:** TechCorp
  - **Customer ID:** CUST-001
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement. [source: sample_excel.xlsx#3]
2025-07-19 19:16:39,879 — INFO — app — [STREAM] Completed streaming. Clean text for history: 381 chars
2025-07-19 19:16:39,880 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:18,653 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:18,654 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 8e2dc7e4-960e-4dbc-b7eb-de644c03bbc1
2025-07-19 19:17:18,655 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:18,655 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:18,656 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:18,656 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:18,716 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:19,201 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:19,591 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:19,944 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:20,565 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:21,163 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:21,165 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:21,165 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:21,884 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:22,177 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:22,177 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:22,178 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "bot_id": 1,
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 19:17:22,180 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:22,181 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:22,267 — INFO — app — [MEMORY] Created new history for session 8e2dc7e4-960e-4dbc-b7eb-de644c03bbc1
2025-07-19 19:17:22,708 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:23,372 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:23,911 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:24,728 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, indicating a diverse range of business operations. [source: sample_excel.xlsx#3]'
2025-07-19 19:17:24,729 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, indicating a diverse range of business operations. [source: sample_excel.xlsx#3]
2025-07-19 19:17:24,729 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 19:17:24,730 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:24,911 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:24,912 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 63172d86-d2cd-4efc-a5dd-f5e0e1594b8f
2025-07-19 19:17:24,912 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:24,912 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:24,913 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:24,913 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:24,975 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:25,403 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:25,796 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:26,280 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:26,980 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:27,560 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:27,561 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:27,562 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:29,844 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:29,917 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:29,917 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:29,918 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "file_size": 9767,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0
}
2025-07-19 19:17:29,919 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:29,919 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:29,979 — INFO — app — [MEMORY] Created new history for session 63172d86-d2cd-4efc-a5dd-f5e0e1594b8f
2025-07-19 19:17:30,441 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:31,076 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:31,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:32,215 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, indicating a diverse range of business scales and operations. [source: sample_excel.xlsx#3]'
2025-07-19 19:17:32,216 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail. Their annual revenues and contract values vary significantly, indicating a diverse range of business scales and operations. [source: sample_excel.xlsx#3]
2025-07-19 19:17:32,217 — INFO — app — [STREAM] Completed streaming. Clean text for history: 381 chars
2025-07-19 19:17:32,218 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:33,233 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:33,233 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 80061158-6aa2-492d-b1f7-04d9e10c3748
2025-07-19 19:17:33,234 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:33,234 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:33,234 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:33,235 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:33,309 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:33,726 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:34,126 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:34,558 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:35,291 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:36,480 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:36,481 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:36,481 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:37,012 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:37,077 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:37,078 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:37,078 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "bot_id": 1,
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:17:37,079 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:37,079 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:37,140 — INFO — app — [MEMORY] Created new history for session 80061158-6aa2-492d-b1f7-04d9e10c3748
2025-07-19 19:17:37,649 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:38,474 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:39,272 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:41,162 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings.  \n[source: sample_pdf.pdf#1]'
2025-07-19 19:17:41,163 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings.  
[source: sample_pdf.pdf#1]
2025-07-19 19:17:41,163 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 19:17:41,165 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:41,186 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:41,187 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 4d662225-f10b-4381-9f6a-233fc2637712
2025-07-19 19:17:41,188 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:41,188 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:41,188 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:41,189 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:41,262 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:41,702 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:42,134 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:42,412 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:42,950 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:43,559 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:43,562 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:43,562 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:44,058 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:44,141 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:44,142 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:44,143 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508
}
2025-07-19 19:17:44,145 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:44,146 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:44,218 — INFO — app — [MEMORY] Created new history for session 4d662225-f10b-4381-9f6a-233fc2637712
2025-07-19 19:17:44,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:45,209 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:45,615 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:48,134 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:17:48,134 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:17:48,135 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:17:48,137 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:48,163 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:48,164 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 82e27e4f-07d3-449c-976d-dca34fad812d
2025-07-19 19:17:48,164 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:48,165 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:48,165 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:48,165 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:48,250 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:48,666 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:49,301 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:49,717 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:50,256 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:50,767 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:50,768 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:50,768 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:51,556 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:51,637 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:51,637 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:51,638 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "element_types": "sheet_header",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 19:17:51,639 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:51,639 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:51,709 — INFO — app — [MEMORY] Created new history for session 82e27e4f-07d3-449c-976d-dca34fad812d
2025-07-19 19:17:52,058 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:52,648 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:53,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:53,948 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Company Name:** TechCorp\n  - **Customer ID:** CUST-001\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement. [source: sample_excel.xlsx#3]'
2025-07-19 19:17:53,949 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Company Name:** TechCorp
  - **Customer ID:** CUST-001
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement. [source: sample_excel.xlsx#3]
2025-07-19 19:17:53,949 — INFO — app — [STREAM] Completed streaming. Clean text for history: 381 chars
2025-07-19 19:17:53,950 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:53,969 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:53,972 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: a4ca6779-d222-4040-b0a7-0f2c828357a8
2025-07-19 19:17:53,973 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:53,973 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:53,974 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:53,974 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:54,052 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:54,653 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:17:55,195 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:17:55,641 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:17:56,501 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:56,984 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:17:56,987 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:17:56,987 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:17:57,468 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:17:57,576 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:17:57,577 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:17:57,577 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "source_page": 1,
  "event_id": 693
}
2025-07-19 19:17:57,579 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:17:57,579 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:57,664 — INFO — app — [MEMORY] Created new history for session a4ca6779-d222-4040-b0a7-0f2c828357a8
2025-07-19 19:17:58,101 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:17:58,574 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:17:59,097 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:17:59,159 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:17:59,160 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:17:59,160 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:17:59,162 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:17:59,186 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:17:59,188 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 337f5dff-30bf-4140-8ecd-53594c1e7ff0
2025-07-19 19:17:59,190 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:17:59,191 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:17:59,191 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:17:59,192 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:17:59,314 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:17:59,817 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:00,251 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:00,537 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:01,077 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:01,667 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:01,670 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:01,671 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:02,155 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:02,259 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:02,260 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:02,260 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "source_page": 1,
  "chunk_index": 0,
  "structural_density": 0.508,
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction"
}
2025-07-19 19:18:02,262 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:02,262 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:02,340 — INFO — app — [MEMORY] Created new history for session 337f5dff-30bf-4140-8ecd-53594c1e7ff0
2025-07-19 19:18:02,731 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:03,277 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:03,851 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:03,948 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:03,949 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:03,949 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:03,951 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:03,978 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:03,980 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 42878b74-2f29-435d-9019-b65ae6710b52
2025-07-19 19:18:03,982 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:03,983 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:03,983 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:03,983 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:04,063 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:04,667 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:05,067 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:05,396 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:06,066 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:06,583 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:06,586 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:06,586 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:07,064 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:07,269 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:07,270 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:07,271 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "file_size": 9767,
  "source_page": 1,
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 19:18:07,273 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:07,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:07,371 — INFO — app — [MEMORY] Created new history for session 42878b74-2f29-435d-9019-b65ae6710b52
2025-07-19 19:18:07,743 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:08,345 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:08,854 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:08,906 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:08,907 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:08,907 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:08,910 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:08,934 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:08,935 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: c6343855-b3e2-44ed-9b78-b4b05a928639
2025-07-19 19:18:08,937 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:08,938 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:08,938 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:08,939 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:09,047 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:09,576 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:09,998 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:10,478 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:11,075 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:11,568 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:11,582 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:11,583 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:12,266 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:12,425 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:12,425 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:12,426 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "structural_density": 0.508,
  "source_page": 1,
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "bot_id": 1,
  "source_type": "xlsx",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "content_type": "unstructured_text"
}
2025-07-19 19:18:12,427 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:12,427 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:12,510 — INFO — app — [MEMORY] Created new history for session c6343855-b3e2-44ed-9b78-b4b05a928639
2025-07-19 19:18:12,881 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:13,474 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:13,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:15,422 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### TechCorp Information\n\n- **Customer ID**: CUST-001\n- **Company**: TechCorp\n- **Industry**: Technology\n- **Annual Revenue**: $5,000,000\n- **Contract Value**: $125,000\n\n### Additional Information\n\nThis information provides a snapshot of TechCorp's business profile, including its industry classification and financial metrics. The annual revenue and contract value indicate the scale of operations and potential engagement with services or products. \n\n[source: sample_excel.xlsx#3]"
2025-07-19 19:18:15,422 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Information

- **Customer ID**: CUST-001
- **Company**: TechCorp
- **Industry**: Technology
- **Annual Revenue**: $5,000,000
- **Contract Value**: $125,000

### Additional Information

This information provides a snapshot of TechCorp's business profile, including its industry classification and financial metrics. The annual revenue and contract value indicate the scale of operations and potential engagement with services or products. 

[source: sample_excel.xlsx#3]
2025-07-19 19:18:15,423 — INFO — app — [STREAM] Completed streaming. Clean text for history: 457 chars
2025-07-19 19:18:15,424 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:15,452 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:15,453 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: 54a9cba4-0855-4b58-8223-a8bd4868d44c
2025-07-19 19:18:15,455 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:15,455 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:15,456 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:18:15,456 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:15,534 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:15,953 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:16,417 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:16,685 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:17,257 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:17,865 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:17,867 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:17,868 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:18:17,869 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:18,463 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:18,576 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:18,577 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:18:18,577 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:18:18,578 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "chunk_index": 0,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "company_id": 3,
  "file_size": 9767,
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 19:18:18,579 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:18,579 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:18,668 — INFO — app — [MEMORY] Created new history for session 54a9cba4-0855-4b58-8223-a8bd4868d44c
2025-07-19 19:18:19,274 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:19,281 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 19:18:19,588 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:20,165 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:20,436 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:20,841 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:21,266 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:21,864 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:22,294 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:24,674 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **TechCorp**\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Business Focus Areas\n\nBased on the context provided, the technology company, TechCorp, likely focuses on:\n\n- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.\n- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.\n- **Digital Transformation**: Implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.\n\n### Additional Information\n\nTechCorp's focus on innovation and customer excellence aligns with the company's strategic initiatives aimed at driving growth and improving market positioning. The emphasis on digital transformation suggests a commitment to leveraging technology for better service delivery and operational effectiveness. \n\nThis analysis highlights TechCorp's potential strengths and strategic direction within the technology industry."
2025-07-19 19:18:24,675 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **TechCorp**
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Business Focus Areas

Based on the context provided, the technology company, TechCorp, likely focuses on:

- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.
- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.
- **Digital Transformation**: Implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.

### Additional Information

TechCorp's focus on innovation and customer excellence aligns with the company's strategic initiatives aimed at driving growth and improving market positioning. The emphasis on digital transformation suggests a commitment to leveraging technology for better service delivery and operational effectiveness. 

This analysis highlights TechCorp's potential strengths and strategic direction within the technology industry.
2025-07-19 19:18:24,677 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1095 chars
2025-07-19 19:18:24,678 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:24,703 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:24,704 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: 731be53a-d359-44fb-9b55-b31dddf24203
2025-07-19 19:18:24,706 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:24,707 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:24,707 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:24,707 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:24,794 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:25,246 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:25,692 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:25,988 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:26,778 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:27,368 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:27,374 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:27,375 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:27,875 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:27,982 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:27,982 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:27,982 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "chunk_index": 0,
  "structural_density": 0.508
}
2025-07-19 19:18:27,984 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:27,984 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:28,073 — INFO — app — [MEMORY] Created new history for session 731be53a-d359-44fb-9b55-b31dddf24203
2025-07-19 19:18:28,327 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:29,016 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:29,604 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:30,394 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies List\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:18:30,394 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies List

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:18:30,395 — INFO — app — [STREAM] Completed streaming. Clean text for history: 298 chars
2025-07-19 19:18:30,396 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:30,414 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:30,415 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: 4c12b96f-f262-471b-8b7b-f33654828242
2025-07-19 19:18:30,417 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:30,417 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:30,418 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:30,419 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:30,512 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:30,940 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:31,509 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:31,830 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:32,372 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:32,985 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:32,988 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:32,988 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:33,540 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:33,683 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:33,684 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:33,684 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "company_id": 3,
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "structural_density": 0.508,
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "modified_time": 1752893064.69696
}
2025-07-19 19:18:33,686 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:33,687 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:33,766 — INFO — app — [MEMORY] Created new history for session 4c12b96f-f262-471b-8b7b-f33654828242
2025-07-19 19:18:34,198 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:34,652 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:35,079 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:37,038 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n- **Monday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:** \n  - 6:30 AM - 3:30 PM \n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Thursday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Friday:** \n  - Hours Not Specified\n\n- **Saturday:** \n  - Hours Not Specified\n\n- **Sunday:** \n  - Hours Not Specified\n\n### Additional Information\n\nThis structured format provides a clear overview of the business hours, enhancing searchability and reference efficiency. \n[source: sample_pdf.pdf#1]'
2025-07-19 19:18:37,039 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

- **Monday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:** 
  - 6:30 AM - 3:30 PM 
  - 7:30 AM - 4:30 PM

- **Wednesday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Thursday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Friday:** 
  - Hours Not Specified

- **Saturday:** 
  - Hours Not Specified

- **Sunday:** 
  - Hours Not Specified

### Additional Information

This structured format provides a clear overview of the business hours, enhancing searchability and reference efficiency. 
[source: sample_pdf.pdf#1]
2025-07-19 19:18:37,040 — INFO — app — [STREAM] Completed streaming. Clean text for history: 518 chars
2025-07-19 19:18:37,041 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:37,060 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:37,060 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: e6d228f1-c881-4566-b040-0c16db892b68
2025-07-19 19:18:37,061 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:37,062 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:37,062 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:37,062 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:37,153 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:37,587 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:37,967 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:38,268 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:39,066 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:39,884 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:39,885 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:39,886 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:40,500 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:40,580 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:40,580 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:40,581 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "source_page": 1,
  "source_type": "xlsx",
  "structure_type": "sheet_header"
}
2025-07-19 19:18:40,582 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:40,582 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:40,660 — INFO — app — [MEMORY] Created new history for session e6d228f1-c881-4566-b040-0c16db892b68
2025-07-19 19:18:41,016 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:41,569 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:41,920 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:41,985 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:41,985 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:41,985 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:41,987 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:42,008 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:42,010 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: c2ad3fee-223e-40a0-9852-697a56b92655
2025-07-19 19:18:42,012 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:42,013 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:42,013 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:42,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:42,117 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:42,524 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:43,006 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:43,301 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:43,861 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:44,374 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:44,376 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:44,377 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:44,941 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:45,168 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:45,169 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:45,169 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream"
}
2025-07-19 19:18:45,170 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:45,170 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:45,243 — INFO — app — [MEMORY] Created new history for session c2ad3fee-223e-40a0-9852-697a56b92655
2025-07-19 19:18:45,830 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:46,358 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:46,914 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:46,931 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:46,932 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:46,932 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:46,934 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_list.md', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:46,952 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:46,953 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: ac287a8e-b26f-475a-9310-d1e1a63aee53
2025-07-19 19:18:46,954 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:46,955 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:46,955 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:46,955 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:47,064 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:47,479 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:47,886 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:48,194 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:48,763 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:49,380 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:49,381 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:49,382 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:49,987 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:50,221 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:50,221 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:50,222 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696
}
2025-07-19 19:18:50,223 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:50,224 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:50,291 — INFO — app — [MEMORY] Created new history for session ac287a8e-b26f-475a-9310-d1e1a63aee53
2025-07-19 19:18:50,685 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:51,355 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:51,788 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:51,850 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:51,850 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:51,851 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:51,852 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:51,868 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:51,869 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: 052d8d41-2200-4d28-aa46-ec96d2341ff2
2025-07-19 19:18:51,870 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:51,870 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:51,870 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:51,870 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:51,941 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:52,347 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:52,722 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:53,056 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:53,679 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:54,165 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:54,166 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:54,166 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:54,551 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:54,788 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:54,789 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:54,790 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "source_page": 1,
  "bot_id": 1,
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:18:54,791 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:54,792 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:54,978 — INFO — app — [MEMORY] Created new history for session 052d8d41-2200-4d28-aa46-ec96d2341ff2
2025-07-19 19:18:55,648 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:18:56,201 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:18:56,624 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:18:56,755 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:18:56,756 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:18:56,756 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:18:56,757 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:18:56,771 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:18:56,772 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 284c085e-b003-4b11-9791-a61348dca6c6
2025-07-19 19:18:56,773 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:18:56,774 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:18:56,774 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:18:56,774 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:56,844 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:18:57,294 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:18:57,744 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:18:58,050 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:18:58,557 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:59,070 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:18:59,072 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:18:59,073 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:18:59,560 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:18:59,704 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:18:59,704 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:18:59,704 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "content_type": "unstructured_text",
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "structure_type": "sheet_header",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:18:59,706 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:18:59,706 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:18:59,780 — INFO — app — [MEMORY] Created new history for session 284c085e-b003-4b11-9791-a61348dca6c6
2025-07-19 19:19:00,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:19:00,757 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:19:01,391 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:19:04,719 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are listed along with their respective industries, annual revenues, and contract values:\n\n- **TechCorp**\n  - **Industry:** Technology\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **DataSys**\n  - **Industry:** Healthcare\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **CloudCo**\n  - **Industry:** Finance\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **InnovateLab**\n  - **Industry:** Manufacturing\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **DigitalPro**\n  - **Industry:** Retail\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across technology, healthcare, finance, manufacturing, and retail sectors.'
2025-07-19 19:19:04,721 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are listed along with their respective industries, annual revenues, and contract values:

- **TechCorp**
  - **Industry:** Technology
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **DataSys**
  - **Industry:** Healthcare
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **CloudCo**
  - **Industry:** Finance
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **InnovateLab**
  - **Industry:** Manufacturing
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **DigitalPro**
  - **Industry:** Retail
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

These companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across technology, healthcare, finance, manufacturing, and retail sectors.
2025-07-19 19:19:04,723 — INFO — app — [STREAM] Completed streaming. Clean text for history: 899 chars
2025-07-19 19:19:04,724 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:19:04,737 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:19:04,738 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 4ab91daf-9729-45d8-bd32-59a6ee8e9a5d
2025-07-19 19:19:04,739 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:19:04,739 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:19:04,740 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:19:04,740 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:19:04,823 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:19:05,225 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:19:05,703 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:19:05,983 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:19:06,715 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:19:07,307 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:19:07,344 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:19:07,348 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:19:07,826 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:19:08,037 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:19:08,038 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:19:08,039 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "file_size": 9767,
  "chunk_type": "direct_extraction"
}
2025-07-19 19:19:08,040 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:19:08,041 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:19:08,128 — INFO — app — [MEMORY] Created new history for session 4ab91daf-9729-45d8-bd32-59a6ee8e9a5d
2025-07-19 19:19:08,721 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:19:09,173 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:19:09,581 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:19:09,654 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:19:09,654 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:19:09,655 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:19:09,656 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:19:41,809 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:19:41,810 — INFO — app — [API] Received question: List all companies and their industry classifications, company_id: 3, bot_id: 1, session_id: e563ac7c-6c64-4113-9a3d-3e344a53d96c
2025-07-19 19:19:41,811 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:19:41,812 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:19:41,812 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:19:41,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:19:41,894 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:19:42,284 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:19:42,759 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:19:43,120 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:19:43,667 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:19:44,161 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:19:44,163 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:19:44,163 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:19:44,682 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:19:44,797 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:19:44,798 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:19:44,798 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "event_id": 693
}
2025-07-19 19:19:44,800 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:19:44,801 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:19:44,880 — INFO — app — [MEMORY] Created new history for session e563ac7c-6c64-4113-9a3d-3e344a53d96c
2025-07-19 19:19:45,422 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:19:46,116 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:19:46,508 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:19:47,550 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Classifications\n\n- **TechCorp**: Technology\n- **DataSys**: Healthcare\n- **CloudCo**: Finance\n- **InnovateLab**: Manufacturing\n- **DigitalPro**: Retail\n\n### Additional Information\n\nThis list includes all companies along with their respective industry classifications as provided in the context. [source: sample_excel.xlsx#3]'
2025-07-19 19:19:47,551 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Classifications

- **TechCorp**: Technology
- **DataSys**: Healthcare
- **CloudCo**: Finance
- **InnovateLab**: Manufacturing
- **DigitalPro**: Retail

### Additional Information

This list includes all companies along with their respective industry classifications as provided in the context. [source: sample_excel.xlsx#3]
2025-07-19 19:19:47,552 — INFO — app — [STREAM] Completed streaming. Clean text for history: 335 chars
2025-07-19 19:19:47,555 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A']
2025-07-19 19:20:10,323 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:20:10,324 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 47c4ebed-7762-488f-960a-fba4684f040e
2025-07-19 19:20:10,325 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:20:10,326 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:20:10,326 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:20:10,326 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:20:10,410 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:20:10,858 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:20:11,333 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:20:11,683 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:20:12,298 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:20:12,972 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:20:12,974 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:20:12,974 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:20:13,469 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:20:13,710 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:20:13,711 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:20:13,712 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "event_id": 693,
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "source_page": 1
}
2025-07-19 19:20:13,715 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:20:13,715 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:20:13,812 — INFO — app — [MEMORY] Created new history for session 47c4ebed-7762-488f-960a-fba4684f040e
2025-07-19 19:20:14,201 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:20:14,706 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:20:15,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:20:16,024 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:20:16,025 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:20:16,026 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 19:20:16,027 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:20:49,513 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:20:49,514 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: f3268946-e054-47ed-af7b-93ae1f7f91bf
2025-07-19 19:20:49,515 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:20:49,515 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:20:49,515 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:20:49,515 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:20:49,577 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:20:50,028 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:20:50,496 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:20:50,957 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:20:51,569 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:20:52,213 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:20:52,214 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:20:52,215 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:20:52,743 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:20:52,897 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:20:52,898 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:20:52,898 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "source_page": 1,
  "structural_density": 0.508,
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1
}
2025-07-19 19:20:52,899 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:20:52,899 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:20:52,965 — INFO — app — [MEMORY] Created new history for session f3268946-e054-47ed-af7b-93ae1f7f91bf
2025-07-19 19:20:53,387 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:20:54,027 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:20:54,668 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:20:55,395 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:20:55,395 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:20:55,396 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 19:20:55,396 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:09,901 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:09,902 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 0147da2e-4fb3-4a94-bebb-7d4349e84bd4
2025-07-19 19:21:09,902 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:09,903 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:09,903 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:09,903 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:09,981 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:10,737 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:11,205 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:11,499 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:12,056 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:12,563 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:12,564 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:12,565 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:13,047 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:13,152 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:13,153 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:13,153 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "chunk_index": 0,
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "company_id": 3
}
2025-07-19 19:21:13,154 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:13,154 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:13,230 — INFO — app — [MEMORY] Created new history for session 0147da2e-4fb3-4a94-bebb-7d4349e84bd4
2025-07-19 19:21:13,523 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:14,069 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:14,827 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:15,645 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:21:15,646 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:21:15,646 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 19:21:15,648 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:15,667 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:15,668 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 503e98e2-cb11-46b0-8a62-71483dab0fb1
2025-07-19 19:21:15,668 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:15,669 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:15,669 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:15,669 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:15,745 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:16,399 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:16,786 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:17,056 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:17,654 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:18,184 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:18,185 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:18,185 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:18,666 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:18,788 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:18,788 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:18,789 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "file_size": 9767,
  "source_type": "xlsx",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "company_id": 3,
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030"
}
2025-07-19 19:21:18,790 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:18,790 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:18,870 — INFO — app — [MEMORY] Created new history for session 503e98e2-cb11-46b0-8a62-71483dab0fb1
2025-07-19 19:21:19,135 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:19,577 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:20,014 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:20,907 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:21:20,908 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:21:20,909 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 19:21:20,912 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:21,929 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:21,930 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 0621bc25-33f1-4d49-be3d-d94aa10f24eb
2025-07-19 19:21:21,931 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:21,932 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:21,932 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:21,932 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:22,001 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:22,412 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:22,831 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:23,134 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:23,672 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:24,289 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:24,291 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:24,292 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:24,885 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:24,999 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:25,002 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:25,004 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "company_id": 3,
  "element_types": "sheet_header",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "source_type": "xlsx",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:21:25,009 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:25,011 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:25,106 — INFO — app — [MEMORY] Created new history for session 0621bc25-33f1-4d49-be3d-d94aa10f24eb
2025-07-19 19:21:25,582 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:26,294 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:26,797 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:28,843 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 19:21:28,844 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 19:21:28,845 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 19:21:28,848 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:28,873 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:28,874 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: d72fec50-9de2-4823-8bf6-d6dc20ba1cbd
2025-07-19 19:21:28,876 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:28,877 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:28,877 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:28,877 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:28,958 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:29,403 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:29,875 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:30,186 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:30,870 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:31,364 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:31,368 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:31,369 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:31,836 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:31,946 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:31,947 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:31,947 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 19:21:31,949 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:31,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:32,029 — INFO — app — [MEMORY] Created new history for session d72fec50-9de2-4823-8bf6-d6dc20ba1cbd
2025-07-19 19:21:32,377 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:33,296 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:33,646 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:38,697 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries with Detailed Information\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]'
2025-07-19 19:21:38,699 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries with Detailed Information

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from the customer data provided in the context. Each industry is represented by a company along with its respective annual revenue and contract value. [source: sample_excel.xlsx#3]
2025-07-19 19:21:38,700 — INFO — app — [STREAM] Completed streaming. Clean text for history: 724 chars
2025-07-19 19:21:38,702 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:38,718 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:38,719 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 143d7e6f-cd25-4565-bea3-4b33740f13c3
2025-07-19 19:21:38,720 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:38,720 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:38,720 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:38,720 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:38,793 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:39,289 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:39,698 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:40,108 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:40,659 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:41,182 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:41,183 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:41,184 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:41,749 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:41,898 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:41,898 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:41,899 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "structural_density": 0.508
}
2025-07-19 19:21:41,899 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:41,900 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:41,974 — INFO — app — [MEMORY] Created new history for session 143d7e6f-cd25-4565-bea3-4b33740f13c3
2025-07-19 19:21:42,286 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:42,771 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:43,204 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:44,162 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Company Name:** TechCorp\n  - **Customer ID:** CUST-001\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and business engagements. [source: sample_excel.xlsx#3]'
2025-07-19 19:21:44,162 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Company Name:** TechCorp
  - **Customer ID:** CUST-001
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and business engagements. [source: sample_excel.xlsx#3]
2025-07-19 19:21:44,163 — INFO — app — [STREAM] Completed streaming. Clean text for history: 381 chars
2025-07-19 19:21:44,164 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:44,181 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:44,182 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: 63e36a6a-30e4-474e-87a5-75da8ab00ba1
2025-07-19 19:21:44,183 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:44,183 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:44,184 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:44,184 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:44,259 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:44,798 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:45,230 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:45,637 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:46,488 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:47,103 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:47,105 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:47,106 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:47,560 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:47,653 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:47,654 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:47,654 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "bot_id": 1,
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:21:47,655 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:47,656 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:47,730 — INFO — app — [MEMORY] Created new history for session 63e36a6a-30e4-474e-87a5-75da8ab00ba1
2025-07-19 19:21:48,252 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:48,912 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:49,530 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:49,542 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:21:49,542 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:21:49,543 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:21:49,545 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:49,682 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:49,683 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: dd8886c9-ee93-4d56-b3e3-dab161ddc150
2025-07-19 19:21:49,685 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:49,686 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:49,686 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:49,686 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:49,824 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:50,285 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:50,684 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:51,167 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:51,759 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:52,601 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:52,602 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:52,602 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:53,062 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:53,167 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:53,168 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:53,169 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3
}
2025-07-19 19:21:53,170 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:53,170 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:53,242 — INFO — app — [MEMORY] Created new history for session dd8886c9-ee93-4d56-b3e3-dab161ddc150
2025-07-19 19:21:53,829 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:54,445 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:54,834 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:54,884 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:21:54,884 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:21:54,885 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:21:54,886 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:54,910 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:54,912 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 3ede4d25-852a-489e-8f93-c0a658dde98f
2025-07-19 19:21:54,914 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:54,914 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:54,914 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:54,915 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:54,987 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:21:55,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:21:55,873 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:21:56,150 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:21:56,785 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:57,485 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:21:57,486 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:21:57,487 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:21:57,949 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:21:58,065 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:21:58,066 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:21:58,066 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "source_page": 1,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "file_size": 9767,
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 19:21:58,067 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:21:58,068 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:58,167 — INFO — app — [MEMORY] Created new history for session 3ede4d25-852a-489e-8f93-c0a658dde98f
2025-07-19 19:21:58,537 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:21:59,072 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:21:59,770 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:21:59,815 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:21:59,816 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:21:59,817 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:21:59,818 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:21:59,839 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:21:59,841 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: 88cdd85b-f3c0-475d-b354-52c4ec1e0b3e
2025-07-19 19:21:59,843 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:21:59,843 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:21:59,844 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:21:59,844 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:21:59,946 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:00,481 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:00,951 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:01,407 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:01,972 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:02,693 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:02,695 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:02,695 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:03,232 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:03,546 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:03,547 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:03,547 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "event_id": 693,
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 19:22:03,548 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:03,548 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:03,631 — INFO — app — [MEMORY] Created new history for session 88cdd85b-f3c0-475d-b354-52c4ec1e0b3e
2025-07-19 19:22:04,595 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:05,167 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:05,570 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:06,553 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TechCorp Information\n\n- **Customer ID**: CUST-001\n- **Company**: TechCorp\n- **Industry**: Technology\n- **Annual Revenue**: $5,000,000\n- **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is categorized under the technology industry, indicating its focus on technological products or services. The annual revenue and contract value suggest a moderate scale of operations within this sector.  \n[source: sample_excel.xlsx#3]'
2025-07-19 19:22:06,554 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Information

- **Customer ID**: CUST-001
- **Company**: TechCorp
- **Industry**: Technology
- **Annual Revenue**: $5,000,000
- **Contract Value**: $125,000

### Additional Information

TechCorp is categorized under the technology industry, indicating its focus on technological products or services. The annual revenue and contract value suggest a moderate scale of operations within this sector.  
[source: sample_excel.xlsx#3]
2025-07-19 19:22:06,555 — INFO — app — [STREAM] Completed streaming. Clean text for history: 416 chars
2025-07-19 19:22:06,557 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:06,578 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:06,580 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: 630f77be-d5dc-4f19-b793-195bd6459c07
2025-07-19 19:22:06,582 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:06,582 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:06,582 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:22:06,583 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:06,666 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:07,266 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:07,654 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:07,908 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:08,580 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:09,189 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:09,191 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:09,191 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:22:09,192 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:09,803 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:09,942 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:09,943 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:22:09,943 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:22:09,944 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "content_type": "unstructured_text",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 19:22:09,945 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:09,946 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:10,019 — INFO — app — [MEMORY] Created new history for session 630f77be-d5dc-4f19-b793-195bd6459c07
2025-07-19 19:22:10,626 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:10,633 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 19:22:11,003 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:11,463 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:11,728 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:12,160 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:12,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:13,205 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:13,683 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:15,986 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **TechCorp**\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Business Focus Areas\n\nBased on the context provided, the technology company, TechCorp, likely focuses on the following areas:\n\n- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.\n  \n- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.\n\n- **Sustainable Business Practices**: Committing to environmentally responsible operations, which is increasingly important in the tech industry.\n\n### Additional Information\n\nTechCorp's performance metrics, such as its annual revenue and contract value, suggest a solid foundation for growth. The company's focus on innovation and customer excellence aligns with industry trends, indicating a strategic approach to maintaining competitiveness in the technology market. \n\nI'm not sure if there are more specific business focus areas for TechCorp beyond the general themes mentioned."
2025-07-19 19:22:15,987 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **TechCorp**
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Business Focus Areas

Based on the context provided, the technology company, TechCorp, likely focuses on the following areas:

- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.
  
- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.

- **Sustainable Business Practices**: Committing to environmentally responsible operations, which is increasingly important in the tech industry.

### Additional Information

TechCorp's performance metrics, such as its annual revenue and contract value, suggest a solid foundation for growth. The company's focus on innovation and customer excellence aligns with industry trends, indicating a strategic approach to maintaining competitiveness in the technology market. 

I'm not sure if there are more specific business focus areas for TechCorp beyond the general themes mentioned.
2025-07-19 19:22:15,988 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1070 chars
2025-07-19 19:22:15,990 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:16,007 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:16,007 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: d14a6586-f287-4931-9ac6-008971b0ef66
2025-07-19 19:22:16,009 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:16,010 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:16,010 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:16,010 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:16,091 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:16,562 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:16,937 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:17,196 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:17,771 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:18,406 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:18,407 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:18,408 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:18,877 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:18,968 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:18,968 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:18,969 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "bot_id": 1,
  "source_type": "xlsx",
  "file_size": 9767,
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696
}
2025-07-19 19:22:18,970 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:18,970 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:19,037 — INFO — app — [MEMORY] Created new history for session d14a6586-f287-4931-9ac6-008971b0ef66
2025-07-19 19:22:19,551 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:19,974 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:20,363 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:21,132 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:22:21,133 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:22:21,134 — INFO — app — [STREAM] Completed streaming. Clean text for history: 293 chars
2025-07-19 19:22:21,135 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:21,149 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:21,150 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: ab49fa77-1614-4cd2-989f-d17bd675f8ec
2025-07-19 19:22:21,152 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:21,152 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:21,152 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:21,153 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:21,232 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:21,648 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:22,187 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:22,509 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:22,984 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:23,576 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:23,578 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:23,578 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:24,138 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:24,305 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:24,306 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:24,306 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text"
}
2025-07-19 19:22:24,307 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:24,307 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:24,405 — INFO — app — [MEMORY] Created new history for session ab49fa77-1614-4cd2-989f-d17bd675f8ec
2025-07-19 19:22:24,781 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:25,368 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:25,734 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:27,605 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n- **Monday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:** \n  - 6:30 AM - 3:30 PM \n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Thursday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Friday:** \n  - Hours Not Specified\n\n- **Saturday:** \n  - Hours Not Specified\n\n- **Sunday:** \n  - Hours Not Specified\n\n### Additional Information\n\nThis structured overview provides a clear understanding of the business hours across different days of the week. \n[source: sample_pdf.pdf#1]'
2025-07-19 19:22:27,606 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

- **Monday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:** 
  - 6:30 AM - 3:30 PM 
  - 7:30 AM - 4:30 PM

- **Wednesday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Thursday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Friday:** 
  - Hours Not Specified

- **Saturday:** 
  - Hours Not Specified

- **Sunday:** 
  - Hours Not Specified

### Additional Information

This structured overview provides a clear understanding of the business hours across different days of the week. 
[source: sample_pdf.pdf#1]
2025-07-19 19:22:27,606 — INFO — app — [STREAM] Completed streaming. Clean text for history: 509 chars
2025-07-19 19:22:27,608 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:27,621 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:27,622 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: 22944749-12b7-4507-a42d-998270aa7170
2025-07-19 19:22:27,624 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:27,624 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:27,624 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:27,624 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:27,694 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:28,174 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:28,674 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:28,987 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:29,465 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:30,289 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:30,291 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:30,291 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:30,746 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:30,933 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:30,933 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:30,934 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "bot_id": 1,
  "element_types": "sheet_header",
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693
}
2025-07-19 19:22:30,935 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:30,935 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:31,012 — INFO — app — [MEMORY] Created new history for session 22944749-12b7-4507-a42d-998270aa7170
2025-07-19 19:22:31,513 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:32,005 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:32,538 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:32,546 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:22:32,547 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:22:32,547 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:22:32,548 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:32,563 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:32,563 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: ac562e11-a351-41b4-ae10-406099eaa161
2025-07-19 19:22:32,564 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:32,564 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:32,564 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:32,565 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:32,642 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:33,072 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:33,447 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:33,973 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:34,584 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:35,268 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:35,272 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:35,273 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:36,389 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:36,608 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:36,608 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:36,608 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "file_size": 9767
}
2025-07-19 19:22:36,609 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:36,610 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:36,680 — INFO — app — [MEMORY] Created new history for session ac562e11-a351-41b4-ae10-406099eaa161
2025-07-19 19:22:36,994 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:37,553 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:37,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:37,988 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:22:37,988 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:22:37,988 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:22:37,990 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_list.md', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:38,003 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:38,004 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: 21cad798-5b8a-4759-860c-b6873606e373
2025-07-19 19:22:38,005 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:38,006 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:38,006 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:38,006 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:38,081 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:38,680 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:39,295 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:39,705 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:40,259 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:40,769 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:40,771 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:40,772 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:41,381 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:41,627 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:41,627 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:41,628 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "chunk_index": 0,
  "structural_density": 0.508,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "company_id": 3,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "event_id": 693,
  "file_size": 9767
}
2025-07-19 19:22:41,630 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:41,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:41,722 — INFO — app — [MEMORY] Created new history for session 21cad798-5b8a-4759-860c-b6873606e373
2025-07-19 19:22:42,160 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:42,608 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:42,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:42,946 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:22:42,947 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:22:42,947 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:22:42,948 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:42,963 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:42,963 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: 22df455a-f8e7-4296-98da-9c8d8bbb9f43
2025-07-19 19:22:42,964 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:42,964 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:42,964 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:42,965 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:43,040 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:43,428 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:43,837 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:44,128 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:44,616 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:45,439 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:45,442 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:45,443 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:46,072 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:46,194 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:46,195 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:46,196 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "file_size": 9767
}
2025-07-19 19:22:46,197 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:46,198 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:46,278 — INFO — app — [MEMORY] Created new history for session 22df455a-f8e7-4296-98da-9c8d8bbb9f43
2025-07-19 19:22:46,706 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:47,157 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:47,478 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:47,518 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:22:47,518 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:22:47,519 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:22:47,520 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:47,532 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:47,532 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 2eccf842-38ad-4a45-89e5-ca714d79ed4b
2025-07-19 19:22:47,533 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:47,534 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:47,534 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:47,534 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:47,608 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:48,040 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:48,511 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:48,916 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:49,476 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:50,179 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:50,183 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:50,184 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:50,744 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:50,919 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:50,919 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:50,919 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "bot_id": 1
}
2025-07-19 19:22:50,921 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:50,922 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:51,037 — INFO — app — [MEMORY] Created new history for session 2eccf842-38ad-4a45-89e5-ca714d79ed4b
2025-07-19 19:22:51,584 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:22:52,195 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:22:52,620 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:22:56,152 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies Overview\n\nThe following companies are listed along with their respective industries, annual revenues, and contract values:\n\n- **TechCorp**\n  - **Industry:** Technology\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **DataSys**\n  - **Industry:** Healthcare\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **CloudCo**\n  - **Industry:** Finance\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **InnovateLab**\n  - **Industry:** Manufacturing\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **DigitalPro**\n  - **Industry:** Retail\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across technology, healthcare, finance, manufacturing, and retail sectors. \n\nThe financial figures suggest that DataSys is the largest in terms of annual revenue, while InnovateLab has the lowest revenue among the listed companies. Each company's contract value reflects their business dealings and potential market opportunities. \n\nThis comprehensive overview provides insight into the operational scale and industry focus of each company. \n[source: sample_excel.xlsx#3]"
2025-07-19 19:22:56,153 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are listed along with their respective industries, annual revenues, and contract values:

- **TechCorp**
  - **Industry:** Technology
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **DataSys**
  - **Industry:** Healthcare
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **CloudCo**
  - **Industry:** Finance
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **InnovateLab**
  - **Industry:** Manufacturing
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **DigitalPro**
  - **Industry:** Retail
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

These companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across technology, healthcare, finance, manufacturing, and retail sectors. 

The financial figures suggest that DataSys is the largest in terms of annual revenue, while InnovateLab has the lowest revenue among the listed companies. Each company's contract value reflects their business dealings and potential market opportunities. 

This comprehensive overview provides insight into the operational scale and industry focus of each company. 
[source: sample_excel.xlsx#3]
2025-07-19 19:22:56,155 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1293 chars
2025-07-19 19:22:56,157 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:22:56,172 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:22:56,173 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: a0b1c3fe-f911-4bd2-b942-a7571962cc28
2025-07-19 19:22:56,174 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:22:56,175 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:22:56,175 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:22:56,175 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:56,258 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:22:56,685 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:22:57,111 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:22:57,379 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:22:57,875 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:58,466 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:22:58,467 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:22:58,467 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:22:58,955 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:22:59,106 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:22:59,107 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:22:59,108 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "file_size": 9767
}
2025-07-19 19:22:59,110 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:22:59,111 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:22:59,197 — INFO — app — [MEMORY] Created new history for session a0b1c3fe-f911-4bd2-b942-a7571962cc28
2025-07-19 19:22:59,571 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:23:00,008 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:23:00,519 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:23:00,565 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:23:00,565 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:23:00,566 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:23:00,567 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:30:49,371 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:30:49,372 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: c8a0ebac-e8dd-4e7a-bc76-1e941b8d0a81
2025-07-19 19:30:49,373 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:30:49,373 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:30:49,373 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:30:49,373 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:30:49,480 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:30:50,216 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:30:50,695 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:30:51,204 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:30:51,830 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:30:52,368 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:30:52,371 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:30:52,372 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:30:52,373 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:30:52,925 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:30:53,033 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:30:53,034 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:30:53,034 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:30:53,035 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "source_type": "xlsx",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_size": 9767,
  "element_types": "sheet_header",
  "event_id": 693,
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696
}
2025-07-19 19:30:53,036 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:30:53,036 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:30:53,136 — INFO — app — [MEMORY] Created new history for session c8a0ebac-e8dd-4e7a-bc76-1e941b8d0a81
2025-07-19 19:30:54,091 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:30:54,097 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 19:30:54,656 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:30:55,327 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:30:55,662 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:30:56,267 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:30:56,752 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:30:57,367 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:30:57,805 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:00,298 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **TechCorp**\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Business Focus Areas\n\nBased on the context provided, the technology company, TechCorp, likely focuses on:\n\n- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.\n- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.\n- **Digital Transformation**: Implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.\n\n### Additional Information\n\nTechCorp's annual revenue and contract value suggest it is positioned to leverage its focus areas for growth and market expansion. The emphasis on innovation and customer excellence aligns with broader industry trends aimed at enhancing user experience and operational capabilities. \n\nI'm not sure if there are more specific details about TechCorp's business focus areas beyond the general themes mentioned."
2025-07-19 19:31:00,299 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **TechCorp**
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Business Focus Areas

Based on the context provided, the technology company, TechCorp, likely focuses on:

- **Innovation**: Continuously enhancing products and services to stay competitive in the technology sector.
- **Customer Excellence**: Prioritizing customer satisfaction and engagement to build a loyal customer base.
- **Digital Transformation**: Implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.

### Additional Information

TechCorp's annual revenue and contract value suggest it is positioned to leverage its focus areas for growth and market expansion. The emphasis on innovation and customer excellence aligns with broader industry trends aimed at enhancing user experience and operational capabilities. 

I'm not sure if there are more specific details about TechCorp's business focus areas beyond the general themes mentioned.
2025-07-19 19:31:00,300 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1083 chars
2025-07-19 19:31:00,302 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:00,326 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:00,327 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: 7d3232bb-42aa-4cd8-9519-df9a89085c99
2025-07-19 19:31:00,328 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:00,328 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:00,328 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:00,328 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:00,432 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:01,049 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:01,503 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:01,787 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:02,359 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:02,891 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:02,893 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:02,894 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:03,453 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:03,558 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:03,558 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:03,559 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "structure_type": "sheet_header",
  "event_id": 693,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:31:03,560 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:03,560 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:03,640 — INFO — app — [MEMORY] Created new history for session 7d3232bb-42aa-4cd8-9519-df9a89085c99
2025-07-19 19:31:04,197 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:04,660 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:05,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:05,758 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies List\n\n- TechCorp\n- DataSys\n- CloudCo\n- InnovateLab\n- DigitalPro\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:31:05,759 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies List

- TechCorp
- DataSys
- CloudCo
- InnovateLab
- DigitalPro

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:31:05,759 — INFO — app — [STREAM] Completed streaming. Clean text for history: 298 chars
2025-07-19 19:31:05,760 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:05,777 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:05,778 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: c24d4d02-9f1c-45cd-b1c3-b9611731cf92
2025-07-19 19:31:05,779 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:05,780 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:05,780 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:05,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:05,863 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:06,287 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:06,753 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:07,192 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:07,756 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:08,263 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:08,267 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:08,268 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:08,832 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:08,914 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:08,915 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:08,915 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "llm_enrichment": "disabled"
}
2025-07-19 19:31:08,917 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:08,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:09,003 — INFO — app — [MEMORY] Created new history for session c24d4d02-9f1c-45cd-b1c3-b9611731cf92
2025-07-19 19:31:10,322 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:10,808 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:11,269 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:13,533 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n- **Monday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:** \n  - 6:30 AM - 3:30 PM \n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Thursday:** \n  - 7:00 AM - 4:00 PM \n  - 7:30 AM - 4:30 PM\n\n- **Friday:** \n  - Hours Not Specified\n\n- **Saturday:** \n  - Hours Not Specified\n\n- **Sunday:** \n  - Hours Not Specified\n\n### Additional Information\n\nThis structured format provides a clear overview of the business hours, enhancing searchability and reference efficiency. \n[source: sample_pdf.pdf#1]'
2025-07-19 19:31:13,533 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

- **Monday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:** 
  - 6:30 AM - 3:30 PM 
  - 7:30 AM - 4:30 PM

- **Wednesday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Thursday:** 
  - 7:00 AM - 4:00 PM 
  - 7:30 AM - 4:30 PM

- **Friday:** 
  - Hours Not Specified

- **Saturday:** 
  - Hours Not Specified

- **Sunday:** 
  - Hours Not Specified

### Additional Information

This structured format provides a clear overview of the business hours, enhancing searchability and reference efficiency. 
[source: sample_pdf.pdf#1]
2025-07-19 19:31:13,535 — INFO — app — [STREAM] Completed streaming. Clean text for history: 518 chars
2025-07-19 19:31:13,536 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:13,553 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:13,555 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: 1fbaa18a-756b-424c-8afe-9c05bdad38f8
2025-07-19 19:31:13,557 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:13,557 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:13,558 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:13,558 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:13,634 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:14,047 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:14,477 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:14,772 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:15,464 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:16,260 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:16,262 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:16,262 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:16,753 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:17,112 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:17,113 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:17,114 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "structural_density": 0.508,
  "structure_type": "sheet_header"
}
2025-07-19 19:31:17,116 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:17,117 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:17,234 — INFO — app — [MEMORY] Created new history for session 1fbaa18a-756b-424c-8afe-9c05bdad38f8
2025-07-19 19:31:17,895 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:18,345 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:18,769 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:18,850 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:31:18,850 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:31:18,851 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:31:18,853 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:18,871 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:18,872 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: 5f9bddb9-ac69-4697-9cf9-ac05b3362461
2025-07-19 19:31:18,873 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:18,873 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:18,873 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:18,874 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:18,963 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:19,456 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:19,839 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:20,136 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:20,710 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:21,457 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:21,459 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:21,459 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:21,956 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:22,200 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:22,200 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:22,201 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "element_types": "sheet_header",
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "chunk_index": 0
}
2025-07-19 19:31:22,203 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:22,203 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:22,283 — INFO — app — [MEMORY] Created new history for session 5f9bddb9-ac69-4697-9cf9-ac05b3362461
2025-07-19 19:31:22,670 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:23,154 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:23,484 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:23,525 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:31:23,525 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:31:23,526 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:31:23,529 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_list.md', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:23,544 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:23,545 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: cafca66b-184e-44a4-9d4c-d28fc7200b72
2025-07-19 19:31:23,546 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:23,546 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:23,546 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:23,546 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:23,631 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:24,194 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:24,700 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:25,048 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:25,954 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:26,566 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:26,571 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:26,572 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:27,077 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:27,196 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:27,197 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:27,197 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "structure_type": "sheet_header",
  "total_elements": 1,
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0
}
2025-07-19 19:31:27,199 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:27,199 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:27,283 — INFO — app — [MEMORY] Created new history for session cafca66b-184e-44a4-9d4c-d28fc7200b72
2025-07-19 19:31:27,755 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:28,296 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:28,645 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:28,683 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:31:28,684 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:31:28,684 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:31:28,685 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:28,700 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:28,701 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: a4c8309c-9903-4f05-ae08-59904bcafb35
2025-07-19 19:31:28,703 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:28,704 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:28,705 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:28,705 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:28,784 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:29,173 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:29,599 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:29,925 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:30,540 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:31,358 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:31,362 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:31,362 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:31,858 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:31,998 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:31,999 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:31,999 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "event_id": 693,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "source_page": 1
}
2025-07-19 19:31:32,000 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:32,001 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:32,120 — INFO — app — [MEMORY] Created new history for session a4c8309c-9903-4f05-ae08-59904bcafb35
2025-07-19 19:31:32,561 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:33,057 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:33,500 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:33,543 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:31:33,544 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:31:33,544 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:31:33,546 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:33,565 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:33,565 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 3ea34b68-8460-4f16-9f6f-51fb248875a9
2025-07-19 19:31:33,566 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:33,567 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:33,567 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:33,567 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:33,661 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:34,069 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:34,499 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:34,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:35,650 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:36,569 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:36,572 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:36,572 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:37,096 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:37,328 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:37,329 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:37,330 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "source_page": 1,
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 19:31:37,333 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:37,334 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:37,427 — INFO — app — [MEMORY] Created new history for session 3ea34b68-8460-4f16-9f6f-51fb248875a9
2025-07-19 19:31:37,852 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:38,271 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:38,939 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:41,841 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are listed along with their respective industries, annual revenues, and contract values:\n\n- **TechCorp**\n  - **Industry:** Technology\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **DataSys**\n  - **Industry:** Healthcare\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **CloudCo**\n  - **Industry:** Finance\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **InnovateLab**\n  - **Industry:** Manufacturing\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **DigitalPro**\n  - **Industry:** Retail\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across different sectors.'
2025-07-19 19:31:41,843 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are listed along with their respective industries, annual revenues, and contract values:

- **TechCorp**
  - **Industry:** Technology
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **DataSys**
  - **Industry:** Healthcare
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **CloudCo**
  - **Industry:** Finance
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **InnovateLab**
  - **Industry:** Manufacturing
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **DigitalPro**
  - **Industry:** Retail
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

These companies represent a diverse range of industries, showcasing varying levels of annual revenue and contract values. This diversity indicates a broad spectrum of business operations and market engagement across different sectors.
2025-07-19 19:31:41,844 — INFO — app — [STREAM] Completed streaming. Clean text for history: 850 chars
2025-07-19 19:31:41,847 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:31:41,870 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:31:41,872 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 9903f498-6b7a-4219-97ee-eec1e939c16f
2025-07-19 19:31:41,874 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:31:41,875 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:31:41,875 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:31:41,875 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:41,991 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:31:42,414 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:31:42,827 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:31:43,157 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:31:43,753 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:44,258 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:31:44,260 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:31:44,260 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:31:44,764 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:31:44,927 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:31:44,927 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:31:44,927 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "event_id": 693,
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508
}
2025-07-19 19:31:44,929 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:31:44,929 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:31:45,032 — INFO — app — [MEMORY] Created new history for session 9903f498-6b7a-4219-97ee-eec1e939c16f
2025-07-19 19:31:45,697 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:31:46,243 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:31:46,741 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:31:46,781 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:31:46,781 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:31:46,781 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:31:46,782 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:45:25,860 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 19:45:25,866 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:45:26,085 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:45:27,153 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:45:27,745 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:45:28,058 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:45:28,836 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:45:29,485 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:45:29,487 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:45:29,488 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:45:29,929 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:45:30,376 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:45:30,377 — INFO — retriever — [RETRIEVER] Enhanced hybrid retriever (FI-04, FI-05, FI-08) — k=8
2025-07-19 19:45:30,377 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "bot_id": 1,
  "total_elements": 1,
  "source_type": "xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:45:30,378 — INFO — retriever — [ENHANCED-RETRIEVER] Building enhanced retriever with query-adaptive processing
2025-07-19 19:45:30,379 — INFO — retriever — [ENHANCED-RETRIEVER] Enhanced retriever built with FI-04, FI-05, FI-08 integration
2025-07-19 19:45:30,379 — WARNING — retriever — [FI-04] Query expansion failed for 'Technology companies': asyncio.run() cannot be called from a running event loop
2025-07-19 19:45:30,384 — WARNING — retriever — [FI-04] Query expansion failed for 'technology companies': asyncio.run() cannot be called from a running event loop
2025-07-19 19:46:02,388 — INFO — bot_config — [CONFIG] CHROMA_DIR set to ./chroma_store
2025-07-19 19:46:02,396 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:46:02,591 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:46:03,483 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:46:03,909 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:46:04,320 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:46:04,938 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:46:05,940 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:46:05,944 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:46:05,945 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:46:06,505 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:46:06,953 — INFO — retriever — [RETRIEVER] Initialized BM25 with 430 documents
2025-07-19 19:46:06,953 — INFO — retriever — [RETRIEVER] Enhanced hybrid retriever (FI-04, FI-05, FI-08) — k=8
2025-07-19 19:46:06,954 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767
}
2025-07-19 19:46:06,956 — INFO — retriever — [ENHANCED-RETRIEVER] Building enhanced retriever with query-adaptive processing
2025-07-19 19:46:06,957 — INFO — retriever — [ENHANCED-RETRIEVER] Enhanced retriever built with FI-04, FI-05, FI-08 integration
2025-07-19 19:46:06,957 — WARNING — retriever — [FI-04] Query expansion failed for 'Technology companies': asyncio.run() cannot be called from a running event loop
2025-07-19 19:54:31,409 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:54:31,414 — INFO — app — [API] Received question: What companies in Technology industry have the highest contract values and what are their detailed business profiles?, company_id: 3, bot_id: 1, session_id: 74be0b1e-8af8-47f3-a3c5-f715adbf870a
2025-07-19 19:54:31,415 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:54:31,416 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:54:31,417 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:54:31,419 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:31,591 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:54:32,262 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:54:32,853 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:54:33,280 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:54:33,836 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:34,450 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:34,451 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:54:34,452 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:54:35,039 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:54:35,410 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:54:35,411 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:54:35,411 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "source_page": 1,
  "event_id": 693,
  "total_elements": 1,
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "bot_id": 1
}
2025-07-19 19:54:35,413 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:54:35,413 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:35,505 — INFO — app — [MEMORY] Created new history for session 74be0b1e-8af8-47f3-a3c5-f715adbf870a
2025-07-19 19:54:35,970 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:36,530 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:54:36,909 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:54:37,941 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies in Technology Industry with Highest Contract Values\n\n- **Company Name**: TechCorp\n  - **Customer ID**: CUST-001\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid business profile in the technology sector. \n\nI'm not sure if there are other companies in the Technology industry with higher contract values, as only one company is mentioned in the context."
2025-07-19 19:54:37,942 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Technology Industry with Highest Contract Values

- **Company Name**: TechCorp
  - **Customer ID**: CUST-001
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid business profile in the technology sector. 

I'm not sure if there are other companies in the Technology industry with higher contract values, as only one company is mentioned in the context.
2025-07-19 19:54:37,943 — INFO — app — [STREAM] Completed streaming. Clean text for history: 564 chars
2025-07-19 19:54:37,944 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:54:37,968 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:54:37,969 — INFO — app — [API] Received question: What are all the different companies and their industry details?, company_id: 3, bot_id: 1, session_id: 3120725c-9528-4e51-be83-bc79c0e4cb1a
2025-07-19 19:54:37,971 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:54:37,971 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:54:37,971 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:54:37,971 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:38,048 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:54:38,429 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:54:38,957 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:54:39,244 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:54:39,980 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:40,532 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:40,534 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:54:40,534 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:54:40,964 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:54:41,125 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:54:41,126 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:54:41,126 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "company_id": 3,
  "chunk_type": "direct_extraction"
}
2025-07-19 19:54:41,129 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:54:41,129 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:41,256 — INFO — app — [MEMORY] Created new history for session 3120725c-9528-4e51-be83-bc79c0e4cb1a
2025-07-19 19:54:41,646 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:42,235 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:54:42,645 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:54:43,971 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Details\n\n- **TechCorp**\n  - Industry: Technology\n\n- **DataSys**\n  - Industry: Healthcare\n\n- **CloudCo**\n  - Industry: Finance\n\n- **InnovateLab**\n  - Industry: Manufacturing\n\n- **DigitalPro**\n  - Industry: Retail\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:54:43,971 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Details

- **TechCorp**
  - Industry: Technology

- **DataSys**
  - Industry: Healthcare

- **CloudCo**
  - Industry: Finance

- **InnovateLab**
  - Industry: Manufacturing

- **DigitalPro**
  - Industry: Retail

### Additional Information

These companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:54:43,972 — INFO — app — [STREAM] Completed streaming. Clean text for history: 520 chars
2025-07-19 19:54:43,974 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:54:43,990 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:54:43,991 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: 42d4c2a4-01c6-41c7-a78a-40151c540fcd
2025-07-19 19:54:43,992 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:54:43,993 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:54:43,993 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:54:43,993 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:44,082 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:54:44,534 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:54:44,951 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:54:45,266 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:54:45,935 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:46,533 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:46,535 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:54:46,536 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:54:46,537 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:47,118 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:54:47,357 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:54:47,357 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:54:47,358 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:54:47,359 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled"
}
2025-07-19 19:54:47,361 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:54:47,362 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:47,441 — INFO — app — [MEMORY] Created new history for session 42d4c2a4-01c6-41c7-a78a-40151c540fcd
2025-07-19 19:54:48,362 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:54:48,368 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology companies compared to Healthcare companies', '2. Evaluate the revenue trends of Healthcare versus Technology industries']
2025-07-19 19:54:49,023 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:49,640 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:54:49,821 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:50,532 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:54:51,040 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:51,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:51,657 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:54:51,666 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:54:51,666 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:54:51,667 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:54:51,668 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:54:52,163 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:54:52,164 — INFO — app — [API] Received question: What companies are in the Technology industry?, company_id: 3, bot_id: 1, session_id: 3de49be5-9b15-49bc-8e28-a03e4ab1782f
2025-07-19 19:54:52,166 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:54:52,166 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:54:52,167 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:54:52,167 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:52,240 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:54:52,667 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:54:53,222 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:54:53,486 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:54:53,928 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:54,524 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:54:54,526 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:54:54,526 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:54:55,143 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:54:55,431 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:54:55,431 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:54:55,432 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "total_elements": 1,
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 19:54:55,434 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:54:55,434 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:55,532 — INFO — app — [MEMORY] Created new history for session 3de49be5-9b15-49bc-8e28-a03e4ab1782f
2025-07-19 19:54:55,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:54:56,342 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:54:56,749 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:54:57,558 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Technology Industry\n\n- **TechCorp**\n- **CloudCo**\n\n### Additional Information\n\nThese companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]'
2025-07-19 19:54:57,558 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Technology Industry

- **TechCorp**
- **CloudCo**

### Additional Information

These companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]
2025-07-19 19:54:57,559 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-07-19 19:54:57,562 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:54:57,579 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:54:57,581 — INFO — app — [API] Received question: What are their annual revenues?, company_id: 3, bot_id: 1, session_id: 3de49be5-9b15-49bc-8e28-a03e4ab1782f
2025-07-19 19:54:57,583 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:54:57,584 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:54:57,584 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:54:57,584 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:54:57,681 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:54:58,150 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:54:58,628 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:54:58,927 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:54:59,518 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:00,254 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:00,255 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:00,256 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:00,873 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:00,958 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:00,958 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:00,959 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 19:55:00,961 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:00,961 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:01,264 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:01,831 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:02,476 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:02,975 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Annual Revenues\n\n- **Tech Corp:** $5,000,000\n\n- **Cloud Co:** $8,500,000\n\n### Additional Information\n\nThese annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. \n\n[source: filename#chunk_index]'
2025-07-19 19:55:02,976 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Annual Revenues

- **Tech Corp:** $5,000,000

- **Cloud Co:** $8,500,000

### Additional Information

These annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. 

[source: filename#chunk_index]
2025-07-19 19:55:02,976 — INFO — app — [STREAM] Completed streaming. Clean text for history: 296 chars
2025-07-19 19:55:02,978 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:02,991 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:02,992 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 3de49be5-9b15-49bc-8e28-a03e4ab1782f
2025-07-19 19:55:02,993 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:02,993 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:02,994 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:02,994 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:03,072 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:03,533 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:03,904 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:04,352 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:04,944 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:05,724 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:05,729 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:05,729 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:06,647 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:06,882 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:06,883 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:06,883 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696
}
2025-07-19 19:55:06,885 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:06,886 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:07,265 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:07,839 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:08,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:10,926 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese office locations provide services across various regions, ensuring accessibility for patients in the respective areas. \n\n[source: sample_pdf.pdf#0]'
2025-07-19 19:55:10,927 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These office locations provide services across various regions, ensuring accessibility for patients in the respective areas. 

[source: sample_pdf.pdf#0]
2025-07-19 19:55:10,928 — INFO — app — [STREAM] Completed streaming. Clean text for history: 662 chars
2025-07-19 19:55:10,929 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:10,946 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:10,947 — INFO — app — [API] Received question: What detailed information is available about different industries?, company_id: 3, bot_id: 1, session_id: c2c8d2ed-c037-4aa9-b459-5040a5f5b65a
2025-07-19 19:55:10,948 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:10,948 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:10,949 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:10,949 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:11,026 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:11,956 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:12,364 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:12,840 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:13,531 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:14,239 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:14,247 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:14,248 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:14,737 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:14,984 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:14,984 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:14,984 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "chunk_index": 0
}
2025-07-19 19:55:14,985 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:14,985 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:15,176 — INFO — app — [MEMORY] Created new history for session c2c8d2ed-c037-4aa9-b459-5040a5f5b65a
2025-07-19 19:55:15,839 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:16,435 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:16,837 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:16,894 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:55:16,895 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:55:16,896 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:55:16,898 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:16,943 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:16,944 — INFO — app — [API] Received question: What qualifications and experience are available in the system?, company_id: 3, bot_id: 1, session_id: 73f1689c-98aa-4d78-928b-d0294d5589dd
2025-07-19 19:55:16,947 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:16,948 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:16,948 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:16,948 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:17,034 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:17,448 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:17,836 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:18,114 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:18,893 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:19,507 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:19,509 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:19,510 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:19,945 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:20,220 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:20,221 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:20,222 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "company_id": 3,
  "bot_id": 1,
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "source_page": 1
}
2025-07-19 19:55:20,224 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:20,224 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:20,320 — INFO — app — [MEMORY] Created new history for session 73f1689c-98aa-4d78-928b-d0294d5589dd
2025-07-19 19:55:20,736 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:21,321 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:21,764 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:21,821 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:55:21,822 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:55:21,822 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:55:21,824 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:21,899 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:21,901 — INFO — app — [API] Received question: Analyze and compare the business performance of companies across different industries, including their revenue, contract values, and operational details, company_id: 3, bot_id: 1, session_id: b8987dd2-4df5-4223-a8d9-a7d30ba32574
2025-07-19 19:55:21,903 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:21,903 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:21,904 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:55:21,904 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:22,022 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:22,451 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:22,945 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:23,246 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:23,730 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:24,321 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:24,322 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:24,322 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:55:24,323 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:25,447 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:25,551 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:25,552 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:55:25,553 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:55:25,554 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1
}
2025-07-19 19:55:25,557 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:25,557 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:25,673 — INFO — app — [MEMORY] Created new history for session b8987dd2-4df5-4223-a8d9-a7d30ba32574
2025-07-19 19:55:26,369 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:26,372 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Compare the financial performance of companies in various industries, examining revenue, contract values, and operational metrics', '2. Evaluate the business success of companies from diverse sectors by analyzing their revenue, contract values, and operational specifics']
2025-07-19 19:55:26,694 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:27,109 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:27,291 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:27,855 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:28,539 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:28,817 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:29,506 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:29,548 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:55:29,549 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:55:29,549 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:55:29,551 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:29,602 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:29,603 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: af8923f2-a46b-4978-97fd-1084cd6c39ec
2025-07-19 19:55:29,604 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:29,604 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:29,604 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:29,605 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:29,708 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:30,175 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:30,611 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:30,912 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:31,437 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:32,134 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:32,139 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:32,139 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:32,654 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:32,777 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:32,778 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:32,778 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 19:55:32,780 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:32,781 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:32,868 — INFO — app — [MEMORY] Created new history for session af8923f2-a46b-4978-97fd-1084cd6c39ec
2025-07-19 19:55:33,145 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:33,824 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:34,254 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:34,852 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:55:34,853 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:55:34,854 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 19:55:34,857 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:36,423 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:36,424 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 324247a0-4154-4d47-ac2f-43375f24517b
2025-07-19 19:55:36,427 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:36,428 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:36,430 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:36,430 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:36,553 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:37,023 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:37,493 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:37,785 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:38,552 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:39,166 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:39,169 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:39,170 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:39,784 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:40,008 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:40,009 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:40,009 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "chunk_index": 0,
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction"
}
2025-07-19 19:55:40,011 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:40,011 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:40,293 — INFO — app — [MEMORY] Created new history for session 324247a0-4154-4d47-ac2f-43375f24517b
2025-07-19 19:55:40,687 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:41,378 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:41,890 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:42,579 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 19:55:42,580 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 19:55:42,582 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 19:55:42,587 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:42,614 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:42,615 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 237f5b5a-0bcb-4d8a-a78e-dbdb460590ff
2025-07-19 19:55:42,616 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:42,616 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:42,616 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:42,616 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:42,706 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:43,190 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:43,600 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:43,902 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:44,343 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:44,986 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:44,987 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:44,988 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:45,720 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:45,807 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:45,807 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:45,808 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text"
}
2025-07-19 19:55:45,809 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:45,809 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:45,882 — INFO — app — [MEMORY] Created new history for session 237f5b5a-0bcb-4d8a-a78e-dbdb460590ff
2025-07-19 19:55:46,150 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:46,586 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:47,033 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:47,610 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 19:55:47,611 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 19:55:47,613 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 19:55:47,616 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:48,641 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:48,642 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 2a46beb1-705b-4264-9665-ec0fa5eb22ea
2025-07-19 19:55:48,643 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:48,644 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:48,644 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:48,644 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:48,741 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:49,202 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:49,595 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:49,854 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:50,436 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:51,047 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:51,050 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:51,051 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:51,868 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:52,059 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:52,060 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:52,060 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "structure_type": "sheet_header",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "preservation_reason": "structured_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "content_type": "unstructured_text",
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "structural_density": 0.508
}
2025-07-19 19:55:52,062 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:52,063 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:52,144 — INFO — app — [MEMORY] Created new history for session 2a46beb1-705b-4264-9665-ec0fa5eb22ea
2025-07-19 19:55:52,629 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:55:53,156 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:55:53,710 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:55:55,730 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 19:55:55,731 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 19:55:55,732 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 19:55:55,734 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:55:55,765 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:55:55,766 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 2b8c691a-fc15-4a70-b384-4262b77529fb
2025-07-19 19:55:55,767 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:55:55,768 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:55:55,768 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:55:55,768 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:55,876 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:55:56,277 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:55:56,705 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:55:57,191 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:55:57,638 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:58,122 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:55:58,125 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:55:58,126 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:55:58,610 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:55:58,860 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:55:58,861 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:55:58,861 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "bot_id": 1,
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text"
}
2025-07-19 19:55:58,863 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:55:58,863 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:55:58,964 — INFO — app — [MEMORY] Created new history for session 2b8c691a-fc15-4a70-b384-4262b77529fb
2025-07-19 19:55:59,655 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:56:00,266 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:56:00,670 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:56:02,626 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information is derived from a dataset containing details about various companies, their industries, annual revenues, and contract values. The data includes five distinct companies across different sectors. [source: sample_excel.xlsx#3]'
2025-07-19 19:56:02,627 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information is derived from a dataset containing details about various companies, their industries, annual revenues, and contract values. The data includes five distinct companies across different sectors. [source: sample_excel.xlsx#3]
2025-07-19 19:56:02,628 — INFO — app — [STREAM] Completed streaming. Clean text for history: 730 chars
2025-07-19 19:56:02,630 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:56:02,660 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:56:02,661 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: b7a107b6-b6e0-4ee6-b55e-60572694c663
2025-07-19 19:56:02,663 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:56:02,663 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:56:02,663 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:56:02,664 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:02,755 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:56:03,334 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:56:03,731 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:56:04,018 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:56:04,538 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:05,035 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:05,037 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:56:05,037 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:56:05,648 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:56:05,886 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:56:05,886 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:56:05,887 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "source_page": 1,
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 19:56:05,888 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:56:05,888 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:05,957 — INFO — app — [MEMORY] Created new history for session b7a107b6-b6e0-4ee6-b55e-60572694c663
2025-07-19 19:56:06,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:56:06,695 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:56:07,111 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:56:07,913 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Customer ID:** CUST-001  \n  **Company:** TechCorp  \n  **Annual Revenue:** $5,000,000  \n  **Contract Value:** $125,000  \n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  \n[source: sample_excel.xlsx#3]'
2025-07-19 19:56:07,914 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Customer ID:** CUST-001  
  **Company:** TechCorp  
  **Annual Revenue:** $5,000,000  
  **Contract Value:** $125,000  

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  
[source: sample_excel.xlsx#3]
2025-07-19 19:56:07,916 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 19:56:07,917 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:56:07,945 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:56:07,946 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: 6df04ef4-89f8-46e8-a46c-cb52456a02db
2025-07-19 19:56:07,948 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:56:07,948 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:56:07,948 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:56:07,948 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:08,024 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:56:08,659 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:56:09,117 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:56:09,528 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:56:10,501 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:11,221 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:11,223 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:56:11,224 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:56:11,853 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:56:12,224 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:56:12,225 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:56:12,225 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "total_elements": 1,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693
}
2025-07-19 19:56:12,227 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:56:12,228 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:12,341 — INFO — app — [MEMORY] Created new history for session 6df04ef4-89f8-46e8-a46c-cb52456a02db
2025-07-19 19:56:12,734 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:56:13,197 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:56:13,721 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:56:13,783 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:56:13,783 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:56:13,783 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:56:13,785 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:56:48,649 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:56:48,650 — INFO — app — [API] Received question: What companies in Technology industry have the highest contract values and what are their detailed business profiles?, company_id: 3, bot_id: 1, session_id: efa1359d-ca15-4db7-aa03-a481990ee1b7
2025-07-19 19:56:48,652 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:56:48,653 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:56:48,653 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:56:48,653 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:48,737 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:56:49,416 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:56:50,045 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:56:50,403 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:56:51,052 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:51,665 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:51,666 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:56:51,667 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:56:52,129 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:56:52,286 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:56:52,287 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:56:52,287 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "source_page": 1,
  "structure_type": "sheet_header",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "bot_id": 1,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 19:56:52,289 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:56:52,289 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:52,370 — INFO — app — [MEMORY] Created new history for session efa1359d-ca15-4db7-aa03-a481990ee1b7
2025-07-19 19:56:52,877 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:56:53,325 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:56:54,000 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:56:55,629 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies in Technology Industry with Highest Contract Values\n\n- **Company Name**: TechCorp\n  - **Customer ID**: CUST-001\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, which is the highest among the companies in this industry. \n\nI'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp."
2025-07-19 19:56:55,630 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Technology Industry with Highest Contract Values

- **Company Name**: TechCorp
  - **Customer ID**: CUST-001
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, which is the highest among the companies in this industry. 

I'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp.
2025-07-19 19:56:55,631 — INFO — app — [STREAM] Completed streaming. Clean text for history: 511 chars
2025-07-19 19:56:55,631 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:56:55,644 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:56:55,645 — INFO — app — [API] Received question: What are all the different companies and their industry details?, company_id: 3, bot_id: 1, session_id: e87811b2-a357-407e-b034-c18ebaddd33a
2025-07-19 19:56:55,645 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:56:55,646 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:56:55,646 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 19:56:55,646 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:55,700 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:56:56,229 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:56:56,650 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:56:57,217 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:56:58,042 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:58,732 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:56:58,734 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:56:58,735 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 19:56:59,232 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:56:59,479 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:56:59,479 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 19:56:59,480 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "source_type": "xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "mime_type": "application/octet-stream"
}
2025-07-19 19:56:59,482 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:56:59,482 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:56:59,565 — INFO — app — [MEMORY] Created new history for session e87811b2-a357-407e-b034-c18ebaddd33a
2025-07-19 19:56:59,901 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:57:00,472 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:57:01,091 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:57:02,161 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Details\n\n- **TechCorp**\n  - Industry: Technology\n\n- **DataSys**\n  - Industry: Healthcare\n\n- **CloudCo**\n  - Industry: Finance\n\n- **InnovateLab**\n  - Industry: Manufacturing\n\n- **DigitalPro**\n  - Industry: Retail\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its own unique focus and market segment. [source: sample_excel.xlsx#3]'
2025-07-19 19:57:02,162 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Details

- **TechCorp**
  - Industry: Technology

- **DataSys**
  - Industry: Healthcare

- **CloudCo**
  - Industry: Finance

- **InnovateLab**
  - Industry: Manufacturing

- **DigitalPro**
  - Industry: Retail

### Additional Information

These companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its own unique focus and market segment. [source: sample_excel.xlsx#3]
2025-07-19 19:57:02,163 — INFO — app — [STREAM] Completed streaming. Clean text for history: 448 chars
2025-07-19 19:57:02,165 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:57:02,190 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:57:02,191 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: 50c01531-242b-44b0-af8b-d4c77cc715cd
2025-07-19 19:57:02,193 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:57:02,193 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:57:02,193 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:57:02,194 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:57:02,300 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:57:02,930 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:57:03,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:57:03,761 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:57:04,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:57:04,822 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:57:04,825 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:57:04,826 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:57:04,827 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:57:05,431 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:57:05,556 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:57:05,557 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:57:05,557 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:57:05,558 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "element_types": "sheet_header",
  "event_id": 693,
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "total_elements": 1,
  "company_id": 3,
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "processing_strategy": "direct_extraction"
}
2025-07-19 19:57:05,559 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:57:05,559 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:57:05,639 — INFO — app — [MEMORY] Created new history for session 50c01531-242b-44b0-af8b-d4c77cc715cd
2025-07-19 19:57:06,316 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:57:06,328 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology and Healthcare industries in terms of revenue', '2. Contrast the revenue trends of Technology and Healthcare sectors in the current market landscape']
2025-07-19 19:57:06,823 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:57:07,518 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:57:07,721 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:57:08,185 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:57:08,496 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:57:09,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:57:09,600 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:57:09,654 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:57:09,654 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:57:09,654 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:57:09,655 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 19:57:45,922 — ERROR — jwt_handler — [JWT] Invalid token: Not enough segments
2025-07-19 19:57:45,934 — ERROR — jwt_handler — [JWT] Invalid token: Not enough segments
2025-07-19 19:58:10,006 — ERROR — jwt_handler — [JWT] Invalid token: Not enough segments
2025-07-19 19:58:10,018 — ERROR — jwt_handler — [JWT] Invalid token: Not enough segments
2025-07-19 19:58:26,927 — ERROR — jwt_handler — [JWT] Invalid token: Signature verification failed
2025-07-19 19:58:26,951 — ERROR — jwt_handler — [JWT] Invalid token: Signature verification failed
2025-07-19 19:59:06,344 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 19:59:06,345 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: c15bca73-cea8-4600-9c86-515f5bc279d0
2025-07-19 19:59:06,347 — INFO — app — [BOT] Using mode: qa
2025-07-19 19:59:06,347 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 19:59:06,347 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 19:59:06,348 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:59:06,441 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 19:59:06,969 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 19:59:07,402 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 19:59:07,902 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 19:59:08,679 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:59:09,492 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 19:59:09,494 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 19:59:09,494 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 19:59:09,494 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:59:10,112 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 19:59:10,200 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 19:59:10,200 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 19:59:10,201 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 19:59:10,201 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "structural_density": 0.508,
  "event_id": 693,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696
}
2025-07-19 19:59:10,202 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 19:59:10,203 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 19:59:10,275 — INFO — app — [MEMORY] Created new history for session c15bca73-cea8-4600-9c86-515f5bc279d0
2025-07-19 19:59:11,046 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:59:11,053 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology companies compared to Healthcare companies', '2. Evaluate the revenue trends of Healthcare versus Technology industries']
2025-07-19 19:59:11,323 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:59:11,949 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:59:12,131 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:59:12,773 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 19:59:13,150 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:59:13,565 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 19:59:13,992 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 19:59:14,002 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 19:59:14,003 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 19:59:14,003 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 19:59:14,005 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:18,720 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:18,722 — INFO — app — [API] Received question: What companies in Technology industry have the highest contract values and what are their detailed business profiles?, company_id: 3, bot_id: 1, session_id: 9594bc47-5e0c-432a-92af-d9c2f0492c08
2025-07-19 20:00:18,724 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:18,725 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:18,725 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:18,726 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:18,796 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:19,332 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:19,792 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:20,107 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:20,831 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:21,433 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:21,435 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:21,435 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:00:21,975 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:23,265 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:23,266 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:00:23,266 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "company_id": 3
}
2025-07-19 20:00:23,268 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:23,268 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:23,340 — INFO — app — [MEMORY] Created new history for session 9594bc47-5e0c-432a-92af-d9c2f0492c08
2025-07-19 20:00:24,135 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:25,022 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:25,376 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:27,346 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies in Technology Industry with Highest Contract Values\n\n- **Company Name**: TechCorp\n  - **Customer ID**: CUST-001\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid business profile in the technology sector. \n\nI'm not sure if there are other companies in the Technology industry with higher contract values, as only one is mentioned in the context."
2025-07-19 20:00:27,346 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Technology Industry with Highest Contract Values

- **Company Name**: TechCorp
  - **Customer ID**: CUST-001
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid business profile in the technology sector. 

I'm not sure if there are other companies in the Technology industry with higher contract values, as only one is mentioned in the context.
2025-07-19 20:00:27,347 — INFO — app — [STREAM] Completed streaming. Clean text for history: 556 chars
2025-07-19 20:00:27,348 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:27,370 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:27,371 — INFO — app — [API] Received question: What are all the different companies and their industry details?, company_id: 3, bot_id: 1, session_id: 2f924df8-cdae-4694-a415-95277c865239
2025-07-19 20:00:27,372 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:27,372 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:27,372 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:27,372 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:27,459 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:27,878 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:28,321 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:28,627 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:29,255 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:29,835 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:29,837 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:29,838 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:00:30,336 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:30,465 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:30,466 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:00:30,467 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "bot_id": 1,
  "structural_density": 0.508,
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:00:30,470 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:30,471 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:30,581 — INFO — app — [MEMORY] Created new history for session 2f924df8-cdae-4694-a415-95277c865239
2025-07-19 20:00:30,912 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:31,412 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:31,841 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:33,090 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Details\n\n- **TechCorp**\n  - Industry: Technology\n\n- **DataSys**\n  - Industry: Healthcare\n\n- **CloudCo**\n  - Industry: Finance\n\n- **InnovateLab**\n  - Industry: Manufacturing\n\n- **DigitalPro**\n  - Industry: Retail\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:00:33,090 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Details

- **TechCorp**
  - Industry: Technology

- **DataSys**
  - Industry: Healthcare

- **CloudCo**
  - Industry: Finance

- **InnovateLab**
  - Industry: Manufacturing

- **DigitalPro**
  - Industry: Retail

### Additional Information

These companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:00:33,091 — INFO — app — [STREAM] Completed streaming. Clean text for history: 520 chars
2025-07-19 20:00:33,093 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:33,111 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:33,113 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: d5f68a95-99a6-4afe-85d6-e514e91a72d1
2025-07-19 20:00:33,115 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:33,115 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:33,116 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:00:33,116 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:33,193 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:33,667 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:34,079 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:34,449 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:35,222 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:36,323 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:36,325 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:36,326 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:00:36,327 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:36,829 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:36,938 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:36,939 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:00:36,940 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:00:36,940 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "file_size": 9767,
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696
}
2025-07-19 20:00:36,942 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:36,942 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:37,019 — INFO — app — [MEMORY] Created new history for session d5f68a95-99a6-4afe-85d6-e514e91a72d1
2025-07-19 20:00:37,611 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:37,614 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology companies compared to Healthcare companies', '2. Evaluate the revenue trends of Healthcare versus Technology industries']
2025-07-19 20:00:37,845 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:38,491 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:38,766 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:39,313 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:39,885 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:40,284 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:40,856 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:40,900 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:00:40,901 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:00:40,902 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:00:40,904 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:41,118 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:41,119 — INFO — app — [API] Received question: What companies are in the Technology industry?, company_id: 3, bot_id: 1, session_id: 61ff9128-af09-41e5-835f-d665e699a979
2025-07-19 20:00:41,120 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:41,121 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:41,121 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:41,121 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:41,189 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:41,634 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:42,188 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:42,454 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:42,925 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:43,522 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:43,525 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:43,526 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:00:44,029 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:44,138 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:44,139 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:00:44,140 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "event_id": 693,
  "bot_id": 1
}
2025-07-19 20:00:44,143 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:44,143 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:44,220 — INFO — app — [MEMORY] Created new history for session 61ff9128-af09-41e5-835f-d665e699a979
2025-07-19 20:00:44,616 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:45,229 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:45,612 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:46,582 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Technology Industry\n\n- **TechCorp**  \n- **CloudCo**  \n\n### Additional Information\n\nThese companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]'
2025-07-19 20:00:46,583 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Technology Industry

- **TechCorp**  
- **CloudCo**  

### Additional Information

These companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]
2025-07-19 20:00:46,583 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-07-19 20:00:46,584 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:46,599 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:46,599 — INFO — app — [API] Received question: What are their annual revenues?, company_id: 3, bot_id: 1, session_id: 61ff9128-af09-41e5-835f-d665e699a979
2025-07-19 20:00:46,600 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:46,600 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:46,601 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:46,601 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:46,678 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:47,104 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:47,554 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:47,856 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:48,325 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:48,829 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:48,830 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:48,831 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:00:49,366 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:49,673 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:49,673 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:00:49,674 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "chunk_index": 0,
  "source_page": 1,
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 20:00:49,676 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:49,676 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:50,233 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:50,824 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:51,486 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:52,251 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Annual Revenues\n\n- **Tech Corp:** $5,000,000\n\n- **Cloud Co:** $8,500,000\n\n### Additional Information\n\nThese annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. \n\n[source: sample_excel.xlsx#5]'
2025-07-19 20:00:52,251 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Annual Revenues

- **Tech Corp:** $5,000,000

- **Cloud Co:** $8,500,000

### Additional Information

These annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. 

[source: sample_excel.xlsx#5]
2025-07-19 20:00:52,252 — INFO — app — [STREAM] Completed streaming. Clean text for history: 295 chars
2025-07-19 20:00:52,254 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:52,269 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:52,271 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 61ff9128-af09-41e5-835f-d665e699a979
2025-07-19 20:00:52,273 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:52,273 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:52,273 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:52,274 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:52,353 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:00:52,930 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:00:53,353 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:00:53,616 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:00:54,227 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:54,920 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:00:54,922 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:00:54,922 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:00:55,740 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:00:55,986 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:00:55,986 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:00:55,986 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "structural_density": 0.508,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767
}
2025-07-19 20:00:55,988 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:00:55,988 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:56,502 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:00:57,059 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:00:57,554 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:00:59,674 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese office locations provide services across various areas, ensuring accessibility for patients in the respective regions. \n\n[source: sample_pdf.pdf#0]'
2025-07-19 20:00:59,674 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These office locations provide services across various areas, ensuring accessibility for patients in the respective regions. 

[source: sample_pdf.pdf#0]
2025-07-19 20:00:59,675 — INFO — app — [STREAM] Completed streaming. Clean text for history: 662 chars
2025-07-19 20:00:59,677 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:00:59,695 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:00:59,696 — INFO — app — [API] Received question: What detailed information is available about different industries?, company_id: 3, bot_id: 1, session_id: 8f22ac37-425e-4961-92f5-a2a8aa646bca
2025-07-19 20:00:59,697 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:00:59,697 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:00:59,697 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:00:59,697 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:00:59,778 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:00,207 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:00,681 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:01,202 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:02,025 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:03,129 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:03,131 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:03,131 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:01:03,815 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:03,922 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:03,922 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:01:03,923 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "bot_id": 1
}
2025-07-19 20:01:03,924 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:03,924 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:04,000 — INFO — app — [MEMORY] Created new history for session 8f22ac37-425e-4961-92f5-a2a8aa646bca
2025-07-19 20:01:04,357 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:04,942 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:05,382 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:05,474 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:01:05,474 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:01:05,475 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:01:05,477 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:01:05,528 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:01:05,528 — INFO — app — [API] Received question: What qualifications and experience are available in the system?, company_id: 3, bot_id: 1, session_id: 83a09b4f-882a-4c79-b21b-3a48dabbd8c1
2025-07-19 20:01:05,530 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:01:05,531 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:01:05,531 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:01:05,531 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:05,623 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:06,112 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:06,595 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:06,902 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:07,517 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:08,248 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:08,251 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:08,251 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:01:08,894 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:09,071 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:09,072 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:01:09,072 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "bot_id": 1,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:01:09,075 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:09,076 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:09,178 — INFO — app — [MEMORY] Created new history for session 83a09b4f-882a-4c79-b21b-3a48dabbd8c1
2025-07-19 20:01:09,589 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:10,118 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:10,572 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:10,620 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:01:10,621 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:01:10,622 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:01:10,624 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:01:10,670 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:01:10,671 — INFO — app — [API] Received question: Analyze and compare the business performance of companies across different industries, including their revenue, contract values, and operational details, company_id: 3, bot_id: 1, session_id: dd9f4a73-78a0-4a46-accb-698d81f96502
2025-07-19 20:01:10,672 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:01:10,672 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:01:10,673 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:01:10,673 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:10,758 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:11,175 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:11,649 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:11,934 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:12,342 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:12,918 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:12,924 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:12,925 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:01:12,926 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:13,416 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:13,535 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:13,536 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:01:13,536 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:01:13,537 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "total_elements": 1,
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "company_id": 3,
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1
}
2025-07-19 20:01:13,539 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:13,539 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:13,617 — INFO — app — [MEMORY] Created new history for session dd9f4a73-78a0-4a46-accb-698d81f96502
2025-07-19 20:01:14,343 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:14,347 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Compare the financial performance of companies in various industries, examining revenue, contract values, and operational metrics', '2. Evaluate the business success of companies from different sectors by analyzing their revenue, contract values, and operational specifics']
2025-07-19 20:01:14,678 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:15,384 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:15,858 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:16,356 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:16,870 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:17,175 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:17,687 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:17,746 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:01:17,746 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:01:17,747 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:01:17,748 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:01:17,834 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:01:17,836 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 4f2dfd66-bc35-4499-840a-b708d3a2859a
2025-07-19 20:01:17,839 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:01:17,840 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:01:17,841 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:01:17,842 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:17,951 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:18,395 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:18,860 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:19,241 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:19,825 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:20,421 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:20,423 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:20,424 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:01:20,921 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:21,236 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:21,237 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:01:21,237 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "event_id": 693,
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1
}
2025-07-19 20:01:21,238 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:21,239 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:21,316 — INFO — app — [MEMORY] Created new history for session 4f2dfd66-bc35-4499-840a-b708d3a2859a
2025-07-19 20:01:21,681 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:22,170 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:22,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:23,642 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:01:23,642 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:01:23,643 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:01:23,644 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:01:50,496 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:01:50,498 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: f5d02147-6021-4566-9d72-0d390293a874
2025-07-19 20:01:50,499 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:01:50,499 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:01:50,499 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:01:50,499 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:50,578 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:51,071 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:51,694 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:52,102 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:52,734 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:53,323 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:53,326 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:53,326 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:01:53,838 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:54,089 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:54,089 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:01:54,090 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "total_elements": 1,
  "element_types": "sheet_header",
  "file_size": 9767
}
2025-07-19 20:01:54,091 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:54,091 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:54,173 — INFO — app — [MEMORY] Created new history for session f5d02147-6021-4566-9d72-0d390293a874
2025-07-19 20:01:54,561 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:01:55,176 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:01:55,695 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:01:56,562 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:01:56,564 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:01:56,565 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:01:56,567 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:01:56,591 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:01:56,592 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: d6e1647b-4d2c-4760-9fcf-26a28f179b22
2025-07-19 20:01:56,592 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:01:56,593 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:01:56,593 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:01:56,593 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:56,677 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:01:57,086 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:01:57,483 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:01:57,762 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:01:58,457 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:59,119 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:01:59,121 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:01:59,121 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:01:59,742 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:01:59,858 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:01:59,859 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:01:59,859 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "chunk_index": 0,
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:01:59,861 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:01:59,861 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:01:59,931 — INFO — app — [MEMORY] Created new history for session d6e1647b-4d2c-4760-9fcf-26a28f179b22
2025-07-19 20:02:00,206 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:00,910 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:01,321 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:02,042 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:02:02,042 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:02:02,043 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 20:02:02,044 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:03,059 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:03,060 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: df6dc3b4-e97c-495f-bf76-e8caa14733ec
2025-07-19 20:02:03,061 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:03,061 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:03,062 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:03,062 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:03,135 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:03,536 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:03,968 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:04,325 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:04,923 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:05,603 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:05,605 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:05,605 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:06,315 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:06,421 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:06,422 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:06,422 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header"
}
2025-07-19 20:02:06,423 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:06,424 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:06,500 — INFO — app — [MEMORY] Created new history for session df6dc3b4-e97c-495f-bf76-e8caa14733ec
2025-07-19 20:02:07,104 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:07,721 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:08,249 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:10,785 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:02:10,786 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 20:02:10,787 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 20:02:10,789 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:10,809 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:10,810 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 78a829b8-2d37-4da3-8690-19a2cb1cf3d8
2025-07-19 20:02:10,811 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:10,811 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:10,812 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:10,812 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:10,892 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:11,296 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:11,720 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:12,021 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:12,583 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:13,129 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:13,131 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:13,132 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:13,614 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:13,723 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:13,724 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:13,724 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "source_page": 1,
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:02:13,725 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:13,725 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:13,797 — INFO — app — [MEMORY] Created new history for session 78a829b8-2d37-4da3-8690-19a2cb1cf3d8
2025-07-19 20:02:14,212 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:15,056 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:15,410 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:17,961 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer information provided in the context. [source: sample_excel.xlsx#3]'
2025-07-19 20:02:17,962 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer information provided in the context. [source: sample_excel.xlsx#3]
2025-07-19 20:02:17,964 — INFO — app — [STREAM] Completed streaming. Clean text for history: 722 chars
2025-07-19 20:02:17,966 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:17,991 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:17,992 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: ccfb4411-77cb-48d4-922f-d5dccd9f0e64
2025-07-19 20:02:17,994 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:17,994 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:17,994 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:17,994 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:18,081 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:18,506 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:19,026 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:19,350 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:19,841 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:20,518 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:20,523 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:20,524 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:20,932 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:21,073 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:21,074 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:21,074 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "source_page": 1,
  "event_id": 693,
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "company_id": 3
}
2025-07-19 20:02:21,076 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:21,076 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:21,162 — INFO — app — [MEMORY] Created new history for session ccfb4411-77cb-48d4-922f-d5dccd9f0e64
2025-07-19 20:02:21,803 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:22,245 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:22,658 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:24,166 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Customer ID:** CUST-001  \n  **Company:** TechCorp  \n  **Annual Revenue:** $5,000,000  \n  **Contract Value:** $125,000  \n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  \n[source: sample_excel.xlsx#3]'
2025-07-19 20:02:24,167 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Customer ID:** CUST-001  
  **Company:** TechCorp  
  **Annual Revenue:** $5,000,000  
  **Contract Value:** $125,000  

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  
[source: sample_excel.xlsx#3]
2025-07-19 20:02:24,168 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 20:02:24,170 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:24,197 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:24,199 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: 9088903a-c255-4fac-af23-15fa45c09efc
2025-07-19 20:02:24,201 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:24,201 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:24,202 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:24,202 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:24,296 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:24,737 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:25,159 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:25,493 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:26,221 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:26,827 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:26,833 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:26,834 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:27,327 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:27,460 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:27,461 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:27,461 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "total_elements": 1,
  "event_id": 693,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "company_id": 3,
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 20:02:27,464 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:27,464 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:27,548 — INFO — app — [MEMORY] Created new history for session 9088903a-c255-4fac-af23-15fa45c09efc
2025-07-19 20:02:28,543 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:29,098 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:29,427 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:29,484 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:02:29,484 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:02:29,485 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:02:29,487 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:29,518 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:29,520 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 71944555-a521-4b60-b6c2-aa05d97b8525
2025-07-19 20:02:29,522 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:29,522 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:29,523 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:29,523 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:29,607 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:30,715 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:31,182 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:31,451 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:32,024 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:32,529 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:32,531 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:32,532 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:33,195 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:33,348 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:33,348 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:33,349 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "bot_id": 1,
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693
}
2025-07-19 20:02:33,350 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:33,351 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:33,454 — INFO — app — [MEMORY] Created new history for session 71944555-a521-4b60-b6c2-aa05d97b8525
2025-07-19 20:02:33,948 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:34,550 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:34,886 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:35,000 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:02:35,001 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:02:35,001 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:02:35,003 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:35,034 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:35,036 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 0753a44d-8158-4683-a871-fef4cf3e08cd
2025-07-19 20:02:35,038 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:35,039 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:35,039 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:35,040 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:35,152 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:35,773 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:36,397 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:36,707 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:37,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:37,919 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:37,921 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:37,922 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:38,408 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:38,723 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:38,724 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:38,725 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "source_page": 1,
  "source_type": "xlsx",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 20:02:38,728 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:38,729 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:38,818 — INFO — app — [MEMORY] Created new history for session 0753a44d-8158-4683-a871-fef4cf3e08cd
2025-07-19 20:02:39,232 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:39,822 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:40,236 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:40,256 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:02:40,256 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:02:40,257 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:02:40,259 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:40,345 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:40,346 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: 4b4ce24d-b5d1-41b7-8e8d-f12548b76c16
2025-07-19 20:02:40,348 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:40,348 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:40,348 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:40,349 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:40,461 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:40,927 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:41,361 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:41,739 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:42,483 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:43,051 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:43,052 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:43,052 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:43,548 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:43,828 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:43,829 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:43,829 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:02:43,831 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:43,832 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:43,950 — INFO — app — [MEMORY] Created new history for session 4b4ce24d-b5d1-41b7-8e8d-f12548b76c16
2025-07-19 20:02:44,308 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:44,818 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:45,558 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:45,565 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:02:45,566 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:02:45,566 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:02:45,568 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:45,593 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:45,594 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: ea2cff9b-4db4-43dd-86cb-3ce16fa84344
2025-07-19 20:02:45,597 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:45,598 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:45,598 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:02:45,598 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:45,678 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:46,087 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:46,527 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:46,817 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:47,333 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:47,929 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:47,933 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:47,933 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:02:47,934 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:48,627 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:48,787 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:48,788 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:02:48,788 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:02:48,789 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "company_id": 3,
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "event_id": 693,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1
}
2025-07-19 20:02:48,790 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:48,791 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:48,873 — INFO — app — [MEMORY] Created new history for session ea2cff9b-4db4-43dd-86cb-3ce16fa84344
2025-07-19 20:02:50,028 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:50,034 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 20:02:50,345 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:50,891 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:51,292 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:51,743 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:02:52,323 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:52,667 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:02:53,100 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:02:55,194 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **Company Name:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Business Focus Areas\n\n- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.\n\n- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.\n\n- **Sustainable Business Practices**: The company may also be exploring environmentally responsible operations, which is becoming increasingly important in the technology sector.\n\n### Additional Information\n\nThe analysis indicates that TechCorp operates within a competitive landscape, focusing on innovation and customer satisfaction while potentially integrating sustainable practices into its business model. This approach is essential for maintaining relevance and achieving growth in the technology industry. \n\nThe data provided does not include specific details on other technology companies, so the analysis is limited to TechCorp. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 20:02:55,195 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **Company Name:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Business Focus Areas

- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.

- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.

- **Sustainable Business Practices**: The company may also be exploring environmentally responsible operations, which is becoming increasingly important in the technology sector.

### Additional Information

The analysis indicates that TechCorp operates within a competitive landscape, focusing on innovation and customer satisfaction while potentially integrating sustainable practices into its business model. This approach is essential for maintaining relevance and achieving growth in the technology industry. 

The data provided does not include specific details on other technology companies, so the analysis is limited to TechCorp. 

[source: sample_excel.xlsx#3]
2025-07-19 20:02:55,197 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1199 chars
2025-07-19 20:02:55,198 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:02:55,228 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:02:55,229 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: ee524737-d3ac-44b0-80fb-0da3ae44fd37
2025-07-19 20:02:55,231 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:02:55,232 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:02:55,232 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:02:55,233 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:55,348 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:02:55,807 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:02:56,265 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:02:56,569 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:02:57,240 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:58,134 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:02:58,137 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:02:58,137 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:02:58,856 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:02:58,983 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:02:58,983 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:02:58,984 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:02:58,986 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:02:58,986 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:02:59,091 — INFO — app — [MEMORY] Created new history for session ee524737-d3ac-44b0-80fb-0da3ae44fd37
2025-07-19 20:02:59,372 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:00,032 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:00,375 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:01,294 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:03:01,294 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:03:01,295 — INFO — app — [STREAM] Completed streaming. Clean text for history: 293 chars
2025-07-19 20:03:01,298 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:01,320 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:01,322 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: cb8b1692-382d-4644-a7b7-460414270faf
2025-07-19 20:03:01,323 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:01,324 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:01,324 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:01,325 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:01,424 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:01,868 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:02,310 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:02,603 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:03,241 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:03,737 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:03,739 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:03,740 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:04,315 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:04,815 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:04,816 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:04,816 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "company_id": 3,
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 20:03:04,819 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:04,820 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:04,939 — INFO — app — [MEMORY] Created new history for session cb8b1692-382d-4644-a7b7-460414270faf
2025-07-19 20:03:05,313 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:06,027 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:06,488 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:08,359 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n**Monday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM (Every Other Monday)\n\n**Tuesday:**\n- 6:30 AM - 3:30 PM\n- 7:30 AM - 4:30 PM\n\n**Wednesday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Thursday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Friday:**\n- Hours Not Specified\n\n**Saturday:**\n- Hours Not Specified\n\n**Sunday:**\n- Hours Not Specified\n\n### Additional Information\n\nThis structured overview provides a clear understanding of the business hours across different days of the week. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:03:08,359 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

**Monday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM (Every Other Monday)

**Tuesday:**
- 6:30 AM - 3:30 PM
- 7:30 AM - 4:30 PM

**Wednesday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Thursday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Friday:**
- Hours Not Specified

**Saturday:**
- Hours Not Specified

**Sunday:**
- Hours Not Specified

### Additional Information

This structured overview provides a clear understanding of the business hours across different days of the week. 
[source: sample_pdf.pdf#1]
2025-07-19 20:03:08,361 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 20:03:08,363 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:08,383 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:08,384 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: 28259331-5a57-4c01-bb54-40edb63b4622
2025-07-19 20:03:08,386 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:08,387 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:08,387 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:08,387 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:08,491 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:08,964 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:09,387 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:09,673 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:10,141 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:10,623 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:10,625 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:10,625 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:11,194 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:11,417 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:11,417 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:11,418 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "company_id": 3,
  "structure_type": "sheet_header",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:03:11,420 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:11,420 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:11,547 — INFO — app — [MEMORY] Created new history for session 28259331-5a57-4c01-bb54-40edb63b4622
2025-07-19 20:03:12,058 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:12,484 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:12,827 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:12,908 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:03:12,908 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:03:12,909 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:03:12,910 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:12,926 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:12,926 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: ceee0868-4af9-48dc-8c55-c22cd2013c7f
2025-07-19 20:03:12,929 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:12,930 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:12,930 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:12,931 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:13,040 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:13,442 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:13,883 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:14,199 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:14,622 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:15,033 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:15,035 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:15,035 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:15,728 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:15,982 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:15,983 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:15,984 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "total_elements": 1
}
2025-07-19 20:03:15,988 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:15,989 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:16,101 — INFO — app — [MEMORY] Created new history for session ceee0868-4af9-48dc-8c55-c22cd2013c7f
2025-07-19 20:03:16,446 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:16,932 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:17,748 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:17,761 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:03:17,761 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:03:17,762 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:03:17,764 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:17,782 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:17,783 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: bf7ddf62-e668-4646-9df9-f42d6f14fd1f
2025-07-19 20:03:17,784 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:17,784 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:17,785 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:17,785 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:17,899 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:18,327 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:18,729 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:19,119 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:19,777 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:20,317 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:20,318 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:20,319 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:20,805 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:20,942 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:20,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:20,943 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "event_id": 693,
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header"
}
2025-07-19 20:03:20,945 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:20,945 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:21,022 — INFO — app — [MEMORY] Created new history for session bf7ddf62-e668-4646-9df9-f42d6f14fd1f
2025-07-19 20:03:21,422 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:22,015 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:22,462 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:22,514 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:03:22,515 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:03:22,515 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:03:22,517 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:22,540 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:22,542 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: fd0f82d8-5284-41a3-af92-42b6b0165f0c
2025-07-19 20:03:22,543 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:22,543 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:22,543 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:22,543 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:22,643 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:23,082 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:23,490 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:23,813 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:24,337 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:25,231 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:25,233 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:25,234 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:25,933 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:26,064 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:26,065 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:26,065 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "total_elements": 1
}
2025-07-19 20:03:26,067 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:26,067 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:26,149 — INFO — app — [MEMORY] Created new history for session fd0f82d8-5284-41a3-af92-42b6b0165f0c
2025-07-19 20:03:26,445 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:27,129 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:27,582 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:27,640 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:03:27,641 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:03:27,641 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:03:27,643 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:27,661 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:27,662 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 19128064-1086-4068-9650-f363c195891e
2025-07-19 20:03:27,662 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:27,662 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:27,663 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:27,663 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:27,743 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:28,167 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:28,738 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:29,047 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:29,615 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:30,201 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:30,202 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:30,203 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:30,781 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:31,007 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:31,008 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:31,009 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "event_id": 693,
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "file_size": 9767,
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:03:31,012 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:31,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:31,108 — INFO — app — [MEMORY] Created new history for session 19128064-1086-4068-9650-f363c195891e
2025-07-19 20:03:31,357 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:31,862 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:32,274 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:34,523 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are mentioned in the context, primarily related to insurance providers and their services:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThese companies represent a broad network of insurance providers accepted for various services. The inclusion of both active and retired military insurance options indicates a commitment to serving military personnel and their families. The presence of well-known insurance companies suggests a comprehensive range of coverage options available to clients, enhancing accessibility to necessary services. \n\nThis list is consistent across multiple mentions, highlighting the importance of these providers in the context of the services offered.'
2025-07-19 20:03:34,525 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are mentioned in the context, primarily related to insurance providers and their services:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

These companies represent a broad network of insurance providers accepted for various services. The inclusion of both active and retired military insurance options indicates a commitment to serving military personnel and their families. The presence of well-known insurance companies suggests a comprehensive range of coverage options available to clients, enhancing accessibility to necessary services. 

This list is consistent across multiple mentions, highlighting the importance of these providers in the context of the services offered.
2025-07-19 20:03:34,527 — INFO — app — [STREAM] Completed streaming. Clean text for history: 931 chars
2025-07-19 20:03:34,530 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:03:34,549 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:03:34,550 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 32d14fa4-5ca6-42cf-bf1a-37522ad6fb9b
2025-07-19 20:03:34,552 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:03:34,553 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:03:34,553 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:03:34,553 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:34,653 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:03:35,044 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:03:35,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:03:35,907 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:03:36,423 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:36,926 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:03:36,929 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:03:36,929 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:03:37,413 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:03:37,572 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:03:37,572 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:03:37,573 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "structural_density": 0.508,
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0
}
2025-07-19 20:03:37,576 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:03:37,577 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:03:37,684 — INFO — app — [MEMORY] Created new history for session 32d14fa4-5ca6-42cf-bf1a-37522ad6fb9b
2025-07-19 20:03:38,067 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:03:38,446 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:03:38,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:03:38,929 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:03:38,930 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:03:38,930 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:03:38,933 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:06:26,450 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:06:26,451 — INFO — app — [API] Received question: What companies in Technology industry have the highest contract values and what are their detailed business profiles?, company_id: 3, bot_id: 1, session_id: 0e1d3b58-588c-4f16-b0a7-4de01c7cbde2
2025-07-19 20:06:26,452 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:06:26,453 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:06:26,453 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:06:26,453 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:26,551 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:06:27,148 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:06:27,609 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:06:28,089 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:06:28,842 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:29,414 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:29,418 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:06:29,419 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:06:30,026 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:06:30,232 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:06:30,232 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:06:30,232 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "source_page": 1,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "total_elements": 1,
  "event_id": 693,
  "company_id": 3,
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:06:30,234 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:06:30,234 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:30,312 — INFO — app — [MEMORY] Created new history for session 0e1d3b58-588c-4f16-b0a7-4de01c7cbde2
2025-07-19 20:06:31,039 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:31,539 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:32,112 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:06:33,461 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies in Technology Industry with Highest Contract Values\n\n- **Company Name**: TechCorp\n  - **Customer ID**: CUST-001\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid financial standing in its sector. \n\nI'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp."
2025-07-19 20:06:33,462 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Technology Industry with Highest Contract Values

- **Company Name**: TechCorp
  - **Customer ID**: CUST-001
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, with an annual revenue of $5,000,000, indicating a solid financial standing in its sector. 

I'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp.
2025-07-19 20:06:33,462 — INFO — app — [STREAM] Completed streaming. Clean text for history: 543 chars
2025-07-19 20:06:33,464 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:06:33,488 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:06:33,489 — INFO — app — [API] Received question: What are all the different companies and their industry details?, company_id: 3, bot_id: 1, session_id: 15fa5d00-2068-4a6c-8252-a9e81c0f9793
2025-07-19 20:06:33,491 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:06:33,491 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:06:33,491 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:06:33,491 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:33,576 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:06:34,098 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:06:34,658 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:06:34,987 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:06:36,325 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:37,181 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:37,183 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:06:37,184 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:06:37,821 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:06:38,080 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:06:38,081 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:06:38,081 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "structural_density": 0.508,
  "company_id": 3,
  "source_type": "xlsx"
}
2025-07-19 20:06:38,082 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:06:38,082 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:38,154 — INFO — app — [MEMORY] Created new history for session 15fa5d00-2068-4a6c-8252-a9e81c0f9793
2025-07-19 20:06:38,834 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:39,434 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:39,848 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:06:40,986 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Details\n\n- **TechCorp**\n  - Industry: Technology\n\n- **DataSys**\n  - Industry: Healthcare\n\n- **CloudCo**\n  - Industry: Finance\n\n- **InnovateLab**\n  - Industry: Manufacturing\n\n- **DigitalPro**\n  - Industry: Retail\n\n### Additional Information\n\nThese companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its own unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:06:40,988 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Details

- **TechCorp**
  - Industry: Technology

- **DataSys**
  - Industry: Healthcare

- **CloudCo**
  - Industry: Finance

- **InnovateLab**
  - Industry: Manufacturing

- **DigitalPro**
  - Industry: Retail

### Additional Information

These companies represent a diverse range of industries, showcasing the variety of sectors involved in the provided data. Each company has its own unique focus, from technology to healthcare and finance, indicating a broad spectrum of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:06:40,989 — INFO — app — [STREAM] Completed streaming. Clean text for history: 524 chars
2025-07-19 20:06:40,991 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:06:41,010 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:06:41,011 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: a40e3e4a-4a8c-43a2-b595-fd82c8dc6575
2025-07-19 20:06:41,012 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:06:41,012 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:06:41,012 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:06:41,013 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:41,098 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:06:41,684 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:06:42,301 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:06:42,713 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:06:43,466 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:44,031 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:44,033 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:06:44,034 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:06:44,035 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:44,634 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:06:44,747 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:06:44,748 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:06:44,749 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:06:44,750 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "source_page": 1,
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "company_id": 3,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696
}
2025-07-19 20:06:44,752 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:06:44,753 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:44,956 — INFO — app — [MEMORY] Created new history for session a40e3e4a-4a8c-43a2-b595-fd82c8dc6575
2025-07-19 20:06:45,785 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:06:45,792 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology companies compared to Healthcare companies', '2. Evaluate the revenue trends of Healthcare versus Technology industries']
2025-07-19 20:06:46,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:46,817 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:47,026 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:47,598 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:47,986 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:48,456 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:48,991 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:06:49,036 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:06:49,037 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:06:49,038 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:06:49,041 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:06:49,067 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:06:49,068 — INFO — app — [API] Received question: What companies are in the Technology industry?, company_id: 3, bot_id: 1, session_id: 380b5229-a7c5-401d-96bb-5de9f26ef7f0
2025-07-19 20:06:49,069 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:06:49,069 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:06:49,069 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:06:49,070 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:49,165 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:06:49,598 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:06:50,012 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:06:50,317 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:06:50,904 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:51,515 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:51,517 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:06:51,518 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:06:52,135 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:06:52,245 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:06:52,246 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:06:52,246 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "company_id": 3,
  "content_type": "unstructured_text",
  "event_id": 693,
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1
}
2025-07-19 20:06:52,248 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:06:52,248 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:52,341 — INFO — app — [MEMORY] Created new history for session 380b5229-a7c5-401d-96bb-5de9f26ef7f0
2025-07-19 20:06:52,649 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:53,207 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:53,534 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:06:54,354 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Technology Industry\n\n- **TechCorp**  \n- **CloudCo**  \n\n### Additional Information\n\nThese companies are identified based on their classification within the Technology industry, as per the provided data. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]'
2025-07-19 20:06:54,355 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Technology Industry

- **TechCorp**  
- **CloudCo**  

### Additional Information

These companies are identified based on their classification within the Technology industry, as per the provided data. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]
2025-07-19 20:06:54,356 — INFO — app — [STREAM] Completed streaming. Clean text for history: 401 chars
2025-07-19 20:06:54,357 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:06:54,370 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:06:54,372 — INFO — app — [API] Received question: What are their annual revenues?, company_id: 3, bot_id: 1, session_id: 380b5229-a7c5-401d-96bb-5de9f26ef7f0
2025-07-19 20:06:54,373 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:06:54,373 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:06:54,374 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:06:54,374 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:54,452 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:06:54,862 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:06:55,411 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:06:55,724 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:06:56,333 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:56,722 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:06:56,724 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:06:56,725 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:06:57,253 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:06:57,428 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:06:57,428 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:06:57,429 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "source_page": 1,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:06:57,431 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:06:57,432 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:06:57,816 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:06:58,481 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:06:59,007 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:00,069 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Annual Revenues\n\n- **Q1 2024:** $2,100,000\n- **Q2 2024:** $2,350,000\n- **Q3 2024:** $2,180,000\n- **Q4 2024:** $2,800,000\n\n### Additional Information\n\nThe annual revenues reflect the financial performance of the company across the four quarters of 2024, indicating a growth trend from Q1 to Q4. \n\n[source: sample_excel.xlsx#5]'
2025-07-19 20:07:00,070 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Annual Revenues

- **Q1 2024:** $2,100,000
- **Q2 2024:** $2,350,000
- **Q3 2024:** $2,180,000
- **Q4 2024:** $2,800,000

### Additional Information

The annual revenues reflect the financial performance of the company across the four quarters of 2024, indicating a growth trend from Q1 to Q4. 

[source: sample_excel.xlsx#5]
2025-07-19 20:07:00,070 — INFO — app — [STREAM] Completed streaming. Clean text for history: 313 chars
2025-07-19 20:07:00,071 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:00,088 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:00,089 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 380b5229-a7c5-401d-96bb-5de9f26ef7f0
2025-07-19 20:07:00,090 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:00,090 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:00,090 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:00,091 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:00,169 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:00,734 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:01,143 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:01,484 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:02,021 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:02,620 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:02,622 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:02,623 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:03,139 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:03,388 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:03,389 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:03,390 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "event_id": 693,
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:07:03,391 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:03,392 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:03,847 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:04,422 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:05,061 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:07,355 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese locations provide a range of services across different areas, ensuring accessibility for patients in the respective regions. [source: sample_pdf.pdf#0]'
2025-07-19 20:07:07,356 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These locations provide a range of services across different areas, ensuring accessibility for patients in the respective regions. [source: sample_pdf.pdf#0]
2025-07-19 20:07:07,357 — INFO — app — [STREAM] Completed streaming. Clean text for history: 668 chars
2025-07-19 20:07:07,358 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:07,385 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:07,386 — INFO — app — [API] Received question: What detailed information is available about different industries?, company_id: 3, bot_id: 1, session_id: 24753e9a-8867-4790-8817-1aa32170f608
2025-07-19 20:07:07,387 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:07,387 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:07,387 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:07,387 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:07,460 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:07,875 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:08,271 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:08,565 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:09,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:09,951 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:09,952 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:09,952 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:10,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:10,644 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:10,645 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:10,645 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text",
  "event_id": 693,
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 20:07:10,647 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:10,647 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:10,733 — INFO — app — [MEMORY] Created new history for session 24753e9a-8867-4790-8817-1aa32170f608
2025-07-19 20:07:11,088 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:12,613 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:13,120 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:13,154 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:07:13,155 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:07:13,155 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:07:13,157 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:13,178 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:13,179 — INFO — app — [API] Received question: What qualifications and experience are available in the system?, company_id: 3, bot_id: 1, session_id: 784016ff-d4ea-4637-8c2e-b4812c019a53
2025-07-19 20:07:13,180 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:13,180 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:13,181 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:13,181 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:13,273 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:13,756 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:14,144 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:14,425 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:15,070 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:15,919 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:15,921 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:15,921 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:16,504 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:16,630 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:16,631 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:16,632 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "event_id": 693,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "bot_id": 1,
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696
}
2025-07-19 20:07:16,635 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:16,636 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:16,739 — INFO — app — [MEMORY] Created new history for session 784016ff-d4ea-4637-8c2e-b4812c019a53
2025-07-19 20:07:17,027 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:17,538 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:17,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:17,985 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:07:17,986 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:07:17,986 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:07:17,987 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:18,020 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:18,021 — INFO — app — [API] Received question: Analyze and compare the business performance of companies across different industries, including their revenue, contract values, and operational details, company_id: 3, bot_id: 1, session_id: 86237952-2a34-4134-8c65-cfcd7cd8ea4f
2025-07-19 20:07:18,022 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:18,022 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:18,022 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:07:18,022 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:18,103 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:18,484 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:18,902 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:19,192 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:19,727 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:20,218 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:20,221 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:20,222 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:07:20,222 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:20,711 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:20,842 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:20,843 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:07:20,844 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:07:20,845 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693
}
2025-07-19 20:07:20,851 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:20,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:20,940 — INFO — app — [MEMORY] Created new history for session 86237952-2a34-4134-8c65-cfcd7cd8ea4f
2025-07-19 20:07:22,036 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:22,040 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Compare the financial performance of companies in various industries, examining revenue, contract values, and operational metrics', '2. Evaluate the business success of companies from diverse sectors by analyzing their revenue, contract values, and operational specifics']
2025-07-19 20:07:22,453 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:22,905 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:23,082 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:23,722 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:24,419 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:24,900 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:25,336 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:25,377 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:07:25,378 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:07:25,378 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:07:25,379 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:25,399 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:25,401 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 413659a3-a368-4651-b00f-654c44baa861
2025-07-19 20:07:25,402 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:25,402 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:25,403 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:25,403 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:25,480 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:25,919 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:26,295 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:26,743 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:27,358 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:27,823 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:27,825 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:27,825 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:28,336 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:28,693 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:28,695 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:28,695 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1
}
2025-07-19 20:07:28,697 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:28,697 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:28,772 — INFO — app — [MEMORY] Created new history for session 413659a3-a368-4651-b00f-654c44baa861
2025-07-19 20:07:29,055 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:29,516 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:30,020 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:30,673 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:07:30,673 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:07:30,674 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:07:30,677 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:44,766 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:44,767 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 23a6e9a5-d21a-49a0-bc2e-2241418525c3
2025-07-19 20:07:44,768 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:44,769 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:44,769 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:44,769 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:44,845 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:45,263 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:45,789 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:46,098 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:46,718 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:47,320 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:47,322 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:47,322 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:47,879 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:48,003 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:48,003 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:48,004 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "llm_enrichment": "disabled",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:07:48,005 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:48,005 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:48,105 — INFO — app — [MEMORY] Created new history for session 23a6e9a5-d21a-49a0-bc2e-2241418525c3
2025-07-19 20:07:48,656 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:49,123 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:49,559 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:50,280 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:07:50,281 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:07:50,282 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:07:50,284 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:50,319 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:50,321 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 86995673-8161-44f2-be65-273f7f6d28e4
2025-07-19 20:07:50,323 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:50,323 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:50,323 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:50,324 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:50,443 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:52,545 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:52,988 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:07:53,271 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:07:54,014 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:54,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:07:54,547 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:07:54,548 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:07:55,212 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:07:55,296 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:07:55,297 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:07:55,298 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:07:55,300 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:07:55,300 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:55,482 — INFO — app — [MEMORY] Created new history for session 86995673-8161-44f2-be65-273f7f6d28e4
2025-07-19 20:07:55,908 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:07:56,438 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:07:56,849 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:07:57,602 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:07:57,603 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:07:57,603 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 20:07:57,605 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:07:58,628 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:07:58,629 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 3fa53f28-bd5d-4b8b-9933-bbfb2612c7b2
2025-07-19 20:07:58,630 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:07:58,631 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:07:58,631 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:07:58,631 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:07:58,704 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:07:59,123 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:07:59,508 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:00,020 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:00,740 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:01,353 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:01,354 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:01,354 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:01,834 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:02,081 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:02,081 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:02,081 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:08:02,082 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:02,082 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:02,152 — INFO — app — [MEMORY] Created new history for session 3fa53f28-bd5d-4b8b-9933-bbfb2612c7b2
2025-07-19 20:08:02,392 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:02,917 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:03,406 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:05,467 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:08:05,468 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 20:08:05,469 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 20:08:05,470 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:05,490 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:05,491 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 75ad443d-926b-4d2b-a36a-545b8fb4093e
2025-07-19 20:08:05,493 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:05,493 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:05,493 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:05,494 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:05,575 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:06,089 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:06,680 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:07,087 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:07,634 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:08,225 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:08,228 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:08,228 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:08,933 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:09,081 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:09,082 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:09,082 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "structural_density": 0.508,
  "source_page": 1,
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled"
}
2025-07-19 20:08:09,084 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:09,084 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:09,164 — INFO — app — [MEMORY] Created new history for session 75ad443d-926b-4d2b-a36a-545b8fb4093e
2025-07-19 20:08:09,555 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:10,160 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:10,556 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:13,363 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis list includes all industries represented by the companies in the provided data, along with their respective annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:08:13,364 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This list includes all industries represented by the companies in the provided data, along with their respective annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:08:13,365 — INFO — app — [STREAM] Completed streaming. Clean text for history: 669 chars
2025-07-19 20:08:13,367 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:13,389 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:13,391 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 8eb37dc1-059b-4887-8090-eb3916a44d1f
2025-07-19 20:08:13,392 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:13,392 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:13,393 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:13,393 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:13,469 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:13,899 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:14,316 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:14,612 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:15,280 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:16,213 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:16,214 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:16,215 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:16,621 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:16,775 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:16,776 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:16,776 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "company_id": 3,
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:08:16,778 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:16,779 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:16,853 — INFO — app — [MEMORY] Created new history for session 8eb37dc1-059b-4887-8090-eb3916a44d1f
2025-07-19 20:08:17,352 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:17,933 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:18,558 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:19,127 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Customer ID:** CUST-001  \n  **Company:** TechCorp  \n  **Annual Revenue:** $5,000,000  \n  **Contract Value:** $125,000  \n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  \n[source: sample_excel.xlsx#3]'
2025-07-19 20:08:19,127 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Customer ID:** CUST-001  
  **Company:** TechCorp  
  **Annual Revenue:** $5,000,000  
  **Contract Value:** $125,000  

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  
[source: sample_excel.xlsx#3]
2025-07-19 20:08:19,128 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 20:08:19,129 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:19,149 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:19,149 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: b06537cf-3187-464c-8055-8e162a45b601
2025-07-19 20:08:19,150 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:19,150 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:19,151 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:19,151 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:19,220 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:19,832 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:20,193 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:20,452 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:21,023 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:21,432 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:21,433 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:21,434 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:21,920 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:22,026 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:22,027 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:22,027 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "structural_density": 0.508,
  "total_elements": 1,
  "source_page": 1,
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "element_types": "sheet_header",
  "source_type": "xlsx"
}
2025-07-19 20:08:22,028 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:22,029 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:22,101 — INFO — app — [MEMORY] Created new history for session b06537cf-3187-464c-8055-8e162a45b601
2025-07-19 20:08:22,542 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:23,117 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:23,679 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:23,692 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:08:23,693 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:08:23,694 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:08:23,696 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:23,727 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:23,728 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: c1fd44a1-53fc-4270-8ecf-f6f422a42f4a
2025-07-19 20:08:23,729 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:23,729 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:23,729 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:23,730 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:23,866 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:24,447 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:24,914 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:25,530 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:26,214 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:26,727 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:26,728 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:26,729 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:27,213 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:27,337 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:27,337 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:27,337 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "total_elements": 1,
  "event_id": 693,
  "structure_type": "sheet_header",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 20:08:27,339 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:27,340 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:27,421 — INFO — app — [MEMORY] Created new history for session c1fd44a1-53fc-4270-8ecf-f6f422a42f4a
2025-07-19 20:08:27,663 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:28,211 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:28,608 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:28,616 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:08:28,617 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:08:28,617 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:08:28,619 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:28,639 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:28,639 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: f70c9082-0b3b-439f-8b01-c247a6f251fb
2025-07-19 20:08:28,640 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:28,640 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:28,640 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:28,641 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:28,712 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:29,092 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:29,615 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:30,031 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:30,640 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:31,254 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:31,255 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:31,255 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:31,732 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:31,849 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:31,850 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:31,850 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "source_page": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header"
}
2025-07-19 20:08:31,853 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:31,854 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:31,931 — INFO — app — [MEMORY] Created new history for session f70c9082-0b3b-439f-8b01-c247a6f251fb
2025-07-19 20:08:32,317 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:32,768 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:33,309 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:33,324 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:08:33,325 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:08:33,325 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:08:33,326 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:33,345 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:33,346 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: c556ae7d-d5f2-4566-970f-2bedd66d15aa
2025-07-19 20:08:33,347 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:33,347 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:33,347 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:33,347 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:33,440 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:33,917 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:34,326 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:34,648 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:35,922 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:36,783 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:36,784 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:36,784 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:37,399 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:37,605 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:37,607 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:37,608 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "element_types": "sheet_header",
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text"
}
2025-07-19 20:08:37,610 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:37,611 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:37,732 — INFO — app — [MEMORY] Created new history for session c556ae7d-d5f2-4566-970f-2bedd66d15aa
2025-07-19 20:08:38,005 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:38,516 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:39,243 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:39,256 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:08:39,256 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:08:39,257 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:08:39,258 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:39,285 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:39,287 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: 8af655ec-254f-474b-a896-01faebae125a
2025-07-19 20:08:39,289 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:39,289 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:39,289 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:08:39,290 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:39,394 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:39,789 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:40,265 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:40,523 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:41,011 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:41,493 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:41,495 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:41,495 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:08:41,496 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:42,316 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:42,403 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:42,404 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:08:42,405 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:08:42,405 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 20:08:42,406 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:42,407 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:42,483 — INFO — app — [MEMORY] Created new history for session 8af655ec-254f-474b-a896-01faebae125a
2025-07-19 20:08:43,018 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:43,021 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 20:08:43,540 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:43,975 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:44,260 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:44,954 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:45,388 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:45,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:46,185 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:48,486 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **Company Name:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Business Focus Areas\n\n- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.\n\n- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.\n\n- **Digital Transformation**: As part of the strategic initiatives, TechCorp may be involved in implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.\n\n### Additional Information\n\nThe analysis indicates that TechCorp operates within a competitive landscape, focusing on innovation and customer-centric strategies to drive growth and maintain relevance in the technology sector. The company's revenue and contract values suggest a moderate scale of operations, which may influence its strategic decisions and market positioning. \n\n[source: sample_excel.xlsx#3]"
2025-07-19 20:08:48,487 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **Company Name:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Business Focus Areas

- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.

- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.

- **Digital Transformation**: As part of the strategic initiatives, TechCorp may be involved in implementing new technologies, such as Customer Relationship Management (CRM) systems, to improve operational efficiency and customer interactions.

### Additional Information

The analysis indicates that TechCorp operates within a competitive landscape, focusing on innovation and customer-centric strategies to drive growth and maintain relevance in the technology sector. The company's revenue and contract values suggest a moderate scale of operations, which may influence its strategic decisions and market positioning. 

[source: sample_excel.xlsx#3]
2025-07-19 20:08:48,489 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1183 chars
2025-07-19 20:08:48,491 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:48,512 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:48,513 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: 395024d2-10aa-44cb-9cea-9d8d7f0970c4
2025-07-19 20:08:48,513 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:48,514 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:48,514 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:48,514 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:48,585 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:49,074 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:49,748 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:50,033 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:50,768 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:51,227 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:51,231 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:51,231 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:51,734 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:51,865 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:51,866 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:51,866 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "source_page": 1,
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 20:08:51,869 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:51,870 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:51,965 — INFO — app — [MEMORY] Created new history for session 395024d2-10aa-44cb-9cea-9d8d7f0970c4
2025-07-19 20:08:52,262 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:52,730 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:53,123 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:08:53,786 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:08:53,786 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:08:53,787 — INFO — app — [STREAM] Completed streaming. Clean text for history: 293 chars
2025-07-19 20:08:53,787 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'Lucas Offices.xlsx', 'sample_text.txt'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:08:53,805 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:08:53,807 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: c092409a-ff1a-42cc-8cec-459b8d2933f7
2025-07-19 20:08:53,809 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:08:53,809 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:08:53,810 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:08:53,810 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:53,887 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:08:54,598 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:08:55,215 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:08:55,539 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:08:56,130 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:56,714 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:08:56,715 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:08:56,716 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:08:57,265 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:08:57,389 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:08:57,390 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:08:57,391 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "event_id": 693,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "company_id": 3,
  "llm_enrichment": "disabled"
}
2025-07-19 20:08:57,393 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:08:57,393 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:08:57,470 — INFO — app — [MEMORY] Created new history for session c092409a-ff1a-42cc-8cec-459b8d2933f7
2025-07-19 20:08:57,829 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:08:58,494 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:08:58,982 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:00,912 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n**Monday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM (Every Other Monday)\n\n**Tuesday:**\n- 6:30 AM - 3:30 PM\n- 7:30 AM - 4:30 PM\n\n**Wednesday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Thursday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Friday:**\n- Hours Not Specified\n\n**Saturday:**\n- Hours Not Specified\n\n**Sunday:**\n- Hours Not Specified\n\n### Additional Information\n\nThis structured overview provides a clear understanding of the business hours across different days of the week. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:09:00,912 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

**Monday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM (Every Other Monday)

**Tuesday:**
- 6:30 AM - 3:30 PM
- 7:30 AM - 4:30 PM

**Wednesday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Thursday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Friday:**
- Hours Not Specified

**Saturday:**
- Hours Not Specified

**Sunday:**
- Hours Not Specified

### Additional Information

This structured overview provides a clear understanding of the business hours across different days of the week. 
[source: sample_pdf.pdf#1]
2025-07-19 20:09:00,913 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 20:09:00,915 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:00,930 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:00,931 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: 99378190-866f-4920-ba54-01f658d2ea9a
2025-07-19 20:09:00,932 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:00,932 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:00,932 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:00,932 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:01,015 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:01,540 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:01,956 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:02,238 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:02,828 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:03,406 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:03,407 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:03,408 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:04,024 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:04,206 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:04,207 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:04,207 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "content_type": "unstructured_text",
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "company_id": 3,
  "structure_type": "sheet_header"
}
2025-07-19 20:09:04,209 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:04,209 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:04,286 — INFO — app — [MEMORY] Created new history for session 99378190-866f-4920-ba54-01f658d2ea9a
2025-07-19 20:09:04,612 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:05,121 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:05,500 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:05,545 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:05,545 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:05,546 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:05,547 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:05,565 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:05,566 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: 2451b4eb-be0d-407c-997a-0c35447afd1d
2025-07-19 20:09:05,568 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:05,569 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:05,569 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:05,569 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:05,650 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:06,151 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:06,651 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:07,095 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:07,632 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:08,314 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:08,316 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:08,317 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:08,937 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:09,032 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:09,033 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:09,033 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "company_id": 3,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696
}
2025-07-19 20:09:09,035 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:09,035 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:09,108 — INFO — app — [MEMORY] Created new history for session 2451b4eb-be0d-407c-997a-0c35447afd1d
2025-07-19 20:09:09,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:09,794 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:10,113 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:10,143 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:10,143 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:10,143 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:10,144 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:10,159 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:10,160 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: b0f4f646-7d44-4d4a-807e-36fedd9dadb6
2025-07-19 20:09:10,162 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:10,163 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:10,164 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:10,164 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:10,235 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:10,660 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:11,055 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:11,325 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:11,815 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:12,420 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:12,422 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:12,422 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:12,829 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:12,942 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:12,942 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:12,943 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "file_size": 9767,
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696
}
2025-07-19 20:09:12,944 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:12,944 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:13,020 — INFO — app — [MEMORY] Created new history for session b0f4f646-7d44-4d4a-807e-36fedd9dadb6
2025-07-19 20:09:13,288 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:13,843 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:14,203 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:14,241 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:14,242 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:14,243 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:14,244 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:14,264 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:14,265 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: f4bcfd0b-5e8d-46a6-ac6f-138df03d4ee8
2025-07-19 20:09:14,267 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:14,268 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:14,268 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:14,268 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:14,354 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:14,795 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:15,492 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:15,764 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:16,227 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:16,720 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:16,721 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:16,722 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:17,212 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:17,332 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:17,333 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:17,333 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "file_size": 9767,
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:09:17,334 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:17,334 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:17,410 — INFO — app — [MEMORY] Created new history for session f4bcfd0b-5e8d-46a6-ac6f-138df03d4ee8
2025-07-19 20:09:17,898 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:18,400 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:18,765 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:18,808 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:18,808 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:18,809 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:18,810 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:18,824 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:18,825 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: a21154b6-7beb-4d05-bb83-7dc3d786f688
2025-07-19 20:09:18,826 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:18,826 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:18,826 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:18,827 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:18,902 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:19,382 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:19,764 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:20,047 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:20,613 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:21,122 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:21,125 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:21,125 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:21,616 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:21,755 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:21,756 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:21,756 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:09:21,757 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:21,758 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:21,837 — INFO — app — [MEMORY] Created new history for session a21154b6-7beb-4d05-bb83-7dc3d786f688
2025-07-19 20:09:22,229 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:22,919 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:23,310 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:25,102 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are mentioned in the context, primarily related to insurance providers and their services:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThese companies represent a broad network of insurance providers accepted for various services. The inclusion of both active and retired military insurance options indicates a commitment to serving military personnel and their families. The presence of well-known insurance companies suggests a comprehensive range of coverage options available to clients, enhancing accessibility to necessary services.'
2025-07-19 20:09:25,102 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are mentioned in the context, primarily related to insurance providers and their services:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

These companies represent a broad network of insurance providers accepted for various services. The inclusion of both active and retired military insurance options indicates a commitment to serving military personnel and their families. The presence of well-known insurance companies suggests a comprehensive range of coverage options available to clients, enhancing accessibility to necessary services.
2025-07-19 20:09:25,103 — INFO — app — [STREAM] Completed streaming. Clean text for history: 794 chars
2025-07-19 20:09:25,105 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:25,130 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:25,132 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 77599bfa-efa0-4190-a965-37607db6f15b
2025-07-19 20:09:25,134 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:25,135 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:25,135 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:25,135 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:25,244 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:25,709 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:26,124 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:26,439 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:27,015 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:27,555 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:27,558 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:27,558 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:28,055 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:28,179 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:28,180 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:28,180 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "company_id": 3,
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header"
}
2025-07-19 20:09:28,181 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:28,181 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:28,261 — INFO — app — [MEMORY] Created new history for session 77599bfa-efa0-4190-a965-37607db6f15b
2025-07-19 20:09:28,591 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:29,121 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:29,588 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:29,626 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:29,627 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:29,627 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:29,628 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:29,653 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:29,655 — INFO — app — [API] Received question: What companies in Technology industry have the highest contract values and what are their detailed business profiles?, company_id: 3, bot_id: 1, session_id: 6461a372-174b-4e80-834e-9329d9de5e87
2025-07-19 20:09:29,656 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:29,657 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:29,657 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:29,657 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:29,736 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:30,125 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:30,530 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:30,852 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:31,464 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:31,919 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:31,920 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:31,920 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:32,488 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:32,643 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:32,643 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:32,644 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "content_type": "unstructured_text",
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030"
}
2025-07-19 20:09:32,646 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:32,647 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:32,724 — INFO — app — [MEMORY] Created new history for session 6461a372-174b-4e80-834e-9329d9de5e87
2025-07-19 20:09:33,059 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:33,717 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:34,129 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:35,246 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies in Technology Industry with Highest Contract Values\n\n- **Company Name**: TechCorp\n  - **Customer ID**: CUST-001\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, which is the highest among the companies in this industry. \n\nI'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp."
2025-07-19 20:09:35,246 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in Technology Industry with Highest Contract Values

- **Company Name**: TechCorp
  - **Customer ID**: CUST-001
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided data. Its contract value is $125,000, which is the highest among the companies in this industry. 

I'm not sure if there are other companies in the Technology industry with higher contract values, as the data only includes TechCorp.
2025-07-19 20:09:35,247 — INFO — app — [STREAM] Completed streaming. Clean text for history: 511 chars
2025-07-19 20:09:35,248 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:35,270 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:35,271 — INFO — app — [API] Received question: What are all the different companies and their industry details?, company_id: 3, bot_id: 1, session_id: 297164b6-13a6-47bd-aae8-c8090eea5346
2025-07-19 20:09:35,272 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:35,272 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:35,273 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:35,273 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:35,350 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:35,764 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:36,167 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:36,582 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:37,202 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:37,826 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:37,828 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:37,828 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:38,347 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:38,736 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:38,737 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:38,738 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 20:09:38,741 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:38,743 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:38,903 — INFO — app — [MEMORY] Created new history for session 297164b6-13a6-47bd-aae8-c8090eea5346
2025-07-19 20:09:39,321 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:39,800 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:40,272 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:42,782 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies and Their Industry Details\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n  - Contract Value: $125,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n  - Contract Value: $340,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n  - Contract Value: $180,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n  - Contract Value: $95,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n  - Contract Value: $220,000\n\n### Additional Information\n\nThis information provides a snapshot of the companies, their respective industries, and financial details, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]'
2025-07-19 20:09:42,783 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies and Their Industry Details

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000
  - Contract Value: $125,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000
  - Contract Value: $340,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000
  - Contract Value: $180,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000
  - Contract Value: $95,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000
  - Contract Value: $220,000

### Additional Information

This information provides a snapshot of the companies, their respective industries, and financial details, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]
2025-07-19 20:09:42,784 — INFO — app — [STREAM] Completed streaming. Clean text for history: 709 chars
2025-07-19 20:09:42,786 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:42,798 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:42,799 — INFO — app — [API] Received question: Compare the revenue performance of Technology versus Healthcare companies, company_id: 3, bot_id: 1, session_id: 1ca2c878-05c9-424d-995c-2d868b13d260
2025-07-19 20:09:42,800 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:42,800 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:42,801 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:09:42,801 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:42,875 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:43,343 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:43,718 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:44,000 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:44,521 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:45,189 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:45,190 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:45,191 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:09:45,191 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:46,020 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:46,152 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:46,153 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:09:46,154 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:09:46,155 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "company_id": 3,
  "chunk_index": 0,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:09:46,157 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:46,158 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:46,274 — INFO — app — [MEMORY] Created new history for session 1ca2c878-05c9-424d-995c-2d868b13d260
2025-07-19 20:09:47,055 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:47,066 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial growth of Technology and Healthcare industries in terms of revenue', '2. Contrast the revenue trends of Technology and Healthcare sectors in the current market landscape']
2025-07-19 20:09:47,665 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:48,112 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:48,463 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:48,885 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:49,164 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:49,636 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:50,123 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:50,166 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:09:50,166 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:09:50,167 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:09:50,169 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_word.docx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_powerpoint.pptx', 'sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:50,200 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:50,202 — INFO — app — [API] Received question: What companies are in the Technology industry?, company_id: 3, bot_id: 1, session_id: 2355caa7-de25-4c5d-ae3e-9e0a067ef98e
2025-07-19 20:09:50,203 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:50,203 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:50,203 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:50,204 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:50,303 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:50,923 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:51,333 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:51,636 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:52,150 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:52,715 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:52,718 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:52,719 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:53,242 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:53,498 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:53,499 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:53,500 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text"
}
2025-07-19 20:09:53,502 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:53,502 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:53,583 — INFO — app — [MEMORY] Created new history for session 2355caa7-de25-4c5d-ae3e-9e0a067ef98e
2025-07-19 20:09:53,993 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:09:54,619 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:09:54,939 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:09:55,962 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Technology Industry\n\n- **TechCorp**  \n- **CloudCo**  \n\n### Additional Information\n\nThese companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]'
2025-07-19 20:09:55,963 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Technology Industry

- **TechCorp**  
- **CloudCo**  

### Additional Information

These companies are identified based on their classification within the provided context, specifically focusing on the Technology industry. TechCorp has an annual revenue of $5,000,000 and a contract value of $125,000, while CloudCo has an annual revenue of $8,500,000 and a contract value of $180,000. [source: sample_excel.xlsx#3]
2025-07-19 20:09:55,963 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-07-19 20:09:55,965 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:09:55,988 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:09:55,989 — INFO — app — [API] Received question: What are their annual revenues?, company_id: 3, bot_id: 1, session_id: 2355caa7-de25-4c5d-ae3e-9e0a067ef98e
2025-07-19 20:09:55,992 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:09:55,993 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:09:55,994 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:09:55,994 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:56,090 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:09:56,545 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:09:56,941 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:09:57,238 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:09:57,717 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:58,318 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:09:58,320 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:09:58,320 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:09:58,734 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:09:59,112 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:09:59,113 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:09:59,113 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "event_id": 693,
  "source_page": 1,
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "total_elements": 1,
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "company_id": 3
}
2025-07-19 20:09:59,115 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:09:59,116 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:09:59,610 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:00,071 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:00,448 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:01,223 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Annual Revenues\n\n- **Tech Corp:** $5,000,000\n\n- **Cloud Co:** $8,500,000\n\n### Additional Information\n\nThese annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. \n\n[source: sample_excel.xlsx#5]'
2025-07-19 20:10:01,225 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Annual Revenues

- **Tech Corp:** $5,000,000

- **Cloud Co:** $8,500,000

### Additional Information

These annual revenues reflect the financial performance of the companies identified in the Technology industry. The figures indicate the scale of operations for each company. 

[source: sample_excel.xlsx#5]
2025-07-19 20:10:01,226 — INFO — app — [STREAM] Completed streaming. Clean text for history: 295 chars
2025-07-19 20:10:01,228 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:10:01,242 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:10:01,243 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 2355caa7-de25-4c5d-ae3e-9e0a067ef98e
2025-07-19 20:10:01,244 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:10:01,244 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:10:01,245 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:10:01,245 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:01,336 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:10:01,729 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:10:02,120 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:10:02,391 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:10:03,013 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:03,619 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:03,621 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:10:03,622 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:10:04,132 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:10:04,393 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:10:04,394 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:10:04,395 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "source_page": 1,
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0
}
2025-07-19 20:10:04,397 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:10:04,398 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:04,802 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:05,302 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:07,307 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:09,522 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese office locations provide services across various areas, ensuring accessibility for patients in the respective regions. \n\n[source: sample_pdf.pdf#0]'
2025-07-19 20:10:09,523 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These office locations provide services across various areas, ensuring accessibility for patients in the respective regions. 

[source: sample_pdf.pdf#0]
2025-07-19 20:10:09,524 — INFO — app — [STREAM] Completed streaming. Clean text for history: 662 chars
2025-07-19 20:10:09,526 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:10:09,553 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:10:09,555 — INFO — app — [API] Received question: What detailed information is available about different industries?, company_id: 3, bot_id: 1, session_id: 189b9bb7-9270-48d1-9bc1-fbebbde49cef
2025-07-19 20:10:09,557 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:10:09,557 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:10:09,557 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:10:09,557 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:09,648 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:10:10,137 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:10:10,550 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:10:10,866 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:10:11,609 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:12,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:12,219 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:10:12,220 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:10:12,715 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:10:12,814 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:10:12,816 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:10:12,817 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 20:10:12,820 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:10:12,820 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:12,898 — INFO — app — [MEMORY] Created new history for session 189b9bb7-9270-48d1-9bc1-fbebbde49cef
2025-07-19 20:10:13,452 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:14,033 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:14,364 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:14,410 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:10:14,411 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:10:14,411 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:10:14,413 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:10:14,433 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:10:14,434 — INFO — app — [API] Received question: What qualifications and experience are available in the system?, company_id: 3, bot_id: 1, session_id: 1c3cd087-b3e6-4bbb-a239-ec1ac4792dee
2025-07-19 20:10:14,435 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:10:14,435 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:10:14,435 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:10:14,436 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:14,523 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:10:14,949 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:10:15,498 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:10:15,909 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:10:16,544 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:17,020 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:17,022 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:10:17,023 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:10:17,537 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:10:17,805 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:10:17,806 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:10:17,806 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "structural_density": 0.508,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:10:17,807 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:10:17,808 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:17,891 — INFO — app — [MEMORY] Created new history for session 1c3cd087-b3e6-4bbb-a239-ec1ac4792dee
2025-07-19 20:10:18,364 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:18,983 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:19,483 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:19,539 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:10:19,540 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:10:19,540 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:10:19,541 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:10:19,562 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:10:19,564 — INFO — app — [API] Received question: Analyze and compare the business performance of companies across different industries, including their revenue, contract values, and operational details, company_id: 3, bot_id: 1, session_id: 83b1a810-e770-4a5d-8737-931f523a8cd6
2025-07-19 20:10:19,565 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:10:19,566 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:10:19,566 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:10:19,566 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:19,641 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:10:20,100 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:10:20,472 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:10:20,801 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:10:21,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:21,848 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:21,850 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:10:21,851 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:10:21,851 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:22,459 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:10:22,653 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:10:22,653 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:10:22,654 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:10:22,655 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "company_id": 3,
  "bot_id": 1,
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030"
}
2025-07-19 20:10:22,657 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:10:22,657 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:22,740 — INFO — app — [MEMORY] Created new history for session 83b1a810-e770-4a5d-8737-931f523a8cd6
2025-07-19 20:10:23,487 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:23,500 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Compare the financial performance of companies in various sectors, examining revenue, contract values, and operational metrics', '2. Evaluate the business success of companies in different industries by analyzing their financial data, including revenue, contract values, and operational details']
2025-07-19 20:10:24,158 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:24,915 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:25,995 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:26,421 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:26,873 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:27,259 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:27,729 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:34,100 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Performance Analysis\n\nThe following analysis compares the business performance of five companies across different industries based on their revenue and contract values.\n\n#### Company Overview\n\n| Customer ID | Company        | Industry      | Annual Revenue | Contract Value |\n|-------------|----------------|---------------|----------------|-----------------|\n| CUST-001    | TechCorp       | Technology    | $5,000,000     | $125,000        |\n| CUST-002    | DataSys        | Healthcare    | $12,000,000    | $340,000        |\n| CUST-003    | CloudCo        | Finance       | $8,500,000     | $180,000        |\n| CUST-004    | InnovateLab    | Manufacturing  | $3,200,000     | $95,000         |\n| CUST-005    | DigitalPro     | Retail        | $7,800,000     | $220,000        |\n\n### Key Comparisons\n\n- **Highest Revenue**: \n  - **DataSys** leads with an annual revenue of **$12,000,000**.\n  \n- **Lowest Revenue**: \n  - **InnovateLab** has the lowest annual revenue at **$3,200,000**.\n\n- **Contract Value Analysis**:\n  - **DataSys** also has the highest contract value at **$340,000**.\n  - **InnovateLab** has the lowest contract value at **$95,000**.\n\n- **Revenue vs. Contract Value**:\n  - **TechCorp**: Revenue of **$5,000,000** with a contract value of **$125,000**.\n  - **CloudCo**: Revenue of **$8,500,000** with a contract value of **$180,000**.\n  - **DigitalPro**: Revenue of **$7,800,000** with a contract value of **$220,000**.\n\n### Additional Insights\n\n- **Industry Performance**:\n  - The **Healthcare** industry (DataSys) shows the highest revenue and contract value, indicating strong demand and possibly higher pricing power.\n  - The **Manufacturing** sector (InnovateLab) appears to be underperforming in both revenue and contract value, suggesting potential challenges in market competitiveness or operational efficiency.\n\n- **Technology and Finance**:\n  - Both **TechCorp** and **CloudCo** are performing well, with substantial revenues and contract values, reflecting robust market positions in their respective sectors.\n\n### Conclusion\n\nThe analysis indicates that the **Healthcare** industry is currently the most lucrative among the companies reviewed, while **Manufacturing** faces challenges. Companies in the **Technology** and **Finance** sectors are also performing strongly, suggesting a healthy competitive landscape. Further investigation into operational strategies and market conditions may provide insights into improving performance across all sectors.'
2025-07-19 20:10:34,101 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Performance Analysis

The following analysis compares the business performance of five companies across different industries based on their revenue and contract values.

#### Company Overview

| Customer ID | Company        | Industry      | Annual Revenue | Contract Value |
|-------------|----------------|---------------|----------------|-----------------|
| CUST-001    | TechCorp       | Technology    | $5,000,000     | $125,000        |
| CUST-002    | DataSys        | Healthcare    | $12,000,000    | $340,000        |
| CUST-003    | CloudCo        | Finance       | $8,500,000     | $180,000        |
| CUST-004    | InnovateLab    | Manufacturing  | $3,200,000     | $95,000         |
| CUST-005    | DigitalPro     | Retail        | $7,800,000     | $220,000        |

### Key Comparisons

- **Highest Revenue**: 
  - **DataSys** leads with an annual revenue of **$12,000,000**.
  
- **Lowest Revenue**: 
  - **InnovateLab** has the lowest annual revenue at **$3,200,000**.

- **Contract Value Analysis**:
  - **DataSys** also has the highest contract value at **$340,000**.
  - **InnovateLab** has the lowest contract value at **$95,000**.

- **Revenue vs. Contract Value**:
  - **TechCorp**: Revenue of **$5,000,000** with a contract value of **$125,000**.
  - **CloudCo**: Revenue of **$8,500,000** with a contract value of **$180,000**.
  - **DigitalPro**: Revenue of **$7,800,000** with a contract value of **$220,000**.

### Additional Insights

- **Industry Performance**:
  - The **Healthcare** industry (DataSys) shows the highest revenue and contract value, indicating strong demand and possibly higher pricing power.
  - The **Manufacturing** sector (InnovateLab) appears to be underperforming in both revenue and contract value, suggesting potential challenges in market competitiveness or operational efficiency.

- **Technology and Finance**:
  - Both **TechCorp** and **CloudCo** are performing well, with substantial revenues and contract values, reflecting robust market positions in their respective sectors.

### Conclusion

The analysis indicates that the **Healthcare** industry is currently the most lucrative among the companies reviewed, while **Manufacturing** faces challenges. Companies in the **Technology** and **Finance** sectors are also performing strongly, suggesting a healthy competitive landscape. Further investigation into operational strategies and market conditions may provide insights into improving performance across all sectors.
2025-07-19 20:10:34,104 — INFO — app — [STREAM] Completed streaming. Clean text for history: 2223 chars
2025-07-19 20:10:34,106 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:10:34,141 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:10:34,143 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 0c85a4f3-9736-4987-8169-27e68199ef1d
2025-07-19 20:10:34,144 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:10:34,145 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:10:34,145 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:10:34,145 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:34,258 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:10:34,708 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:10:35,142 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:10:35,790 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:10:36,412 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:36,925 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:10:36,927 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:10:36,927 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:10:37,420 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:10:37,545 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:10:37,546 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:10:37,547 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "element_types": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "source_page": 1,
  "company_id": 3,
  "total_elements": 1,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "modified_time": 1752893064.69696,
  "file_size": 9767
}
2025-07-19 20:10:37,550 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:10:37,552 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:10:37,643 — INFO — app — [MEMORY] Created new history for session 0c85a4f3-9736-4987-8169-27e68199ef1d
2025-07-19 20:10:38,070 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:10:38,507 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:10:39,050 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:10:39,720 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:10:39,723 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:10:39,724 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:10:39,727 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:12:17,527 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:17,528 — INFO — app — [API] Received question: What companies are in the system?, company_id: 3, bot_id: 1, session_id: 3f1e659c-adb4-4034-b7f6-0a91f3901bc5
2025-07-19 20:12:17,529 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:17,529 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:17,529 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:17,530 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:17,604 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:18,376 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:18,991 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:19,442 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:19,916 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:20,799 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:20,801 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:20,802 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:12:21,323 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:21,576 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:21,577 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:12:21,577 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:12:21,579 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:21,579 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:21,647 — INFO — app — [MEMORY] Created new history for session 3f1e659c-adb4-4034-b7f6-0a91f3901bc5
2025-07-19 20:12:22,473 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:22,949 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:23,527 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:25,359 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Accepted Insurance Providers\n\nThe following insurance providers are accepted:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThis list indicates a comprehensive acceptance of these insurance providers for services, highlighting options for both military and civilian healthcare plans. The presence of multiple well-known insurance companies suggests a broad network of coverage options for clients. \n\n[source: Lucas Offices.pdf#2]'
2025-07-19 20:12:25,359 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Accepted Insurance Providers

The following insurance providers are accepted:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

This list indicates a comprehensive acceptance of these insurance providers for services, highlighting options for both military and civilian healthcare plans. The presence of multiple well-known insurance companies suggests a broad network of coverage options for clients. 

[source: Lucas Offices.pdf#2]
2025-07-19 20:12:25,360 — INFO — app — [STREAM] Completed streaming. Clean text for history: 637 chars
2025-07-19 20:12:25,362 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:12:25,377 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:25,378 — INFO — app — [API] Received question: List all industries represented, company_id: 3, bot_id: 1, session_id: c34d736d-31b9-4197-8a98-e6551578d551
2025-07-19 20:12:25,381 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:25,381 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:25,382 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:25,382 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:25,459 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:25,967 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:26,391 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:26,741 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:27,321 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:27,951 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:27,953 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:27,954 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:12:28,542 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:28,686 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:28,686 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:12:28,687 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "structure_type": "sheet_header",
  "event_id": 693,
  "company_id": 3,
  "total_elements": 1
}
2025-07-19 20:12:28,688 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:28,689 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:28,797 — INFO — app — [MEMORY] Created new history for session c34d736d-31b9-4197-8a98-e6551578d551
2025-07-19 20:12:29,142 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:29,590 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:30,257 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:30,581 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- Technology\n- Healthcare\n- Finance\n- Manufacturing\n- Retail\n\n### Additional Information\n\nThese industries are associated with the respective companies in the provided customer data. [source: sample_excel.xlsx#3]'
2025-07-19 20:12:30,581 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- Technology
- Healthcare
- Finance
- Manufacturing
- Retail

### Additional Information

These industries are associated with the respective companies in the provided customer data. [source: sample_excel.xlsx#3]
2025-07-19 20:12:30,582 — INFO — app — [STREAM] Completed streaming. Clean text for history: 234 chars
2025-07-19 20:12:30,584 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt'], Scores: ['N/A', 'N/A']
2025-07-19 20:12:30,606 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:30,608 — INFO — app — [API] Received question: What are TechCorp details?, company_id: 3, bot_id: 1, session_id: 81cba5e3-fdad-4f89-b009-268a02825620
2025-07-19 20:12:30,609 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:30,610 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:30,610 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:30,610 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:30,742 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:31,484 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:31,893 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:32,169 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:32,719 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:33,408 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:33,410 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:33,410 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:12:33,908 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:34,138 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:34,138 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:12:34,139 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 20:12:34,141 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:34,141 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:34,251 — INFO — app — [MEMORY] Created new history for session 81cba5e3-fdad-4f89-b009-268a02825620
2025-07-19 20:12:34,655 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:35,579 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:35,911 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:36,759 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### TechCorp Details\n\n- **Customer ID:** CUST-001\n- **Industry:** Technology\n- **Annual Revenue:** $5,000,000\n- **Contract Value:** $125,000\n\n### Additional Information\n\nTechCorp is a company operating in the technology sector with a significant annual revenue and a contract value that reflects its business engagements. [source: sample_excel.xlsx#3]'
2025-07-19 20:12:36,759 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### TechCorp Details

- **Customer ID:** CUST-001
- **Industry:** Technology
- **Annual Revenue:** $5,000,000
- **Contract Value:** $125,000

### Additional Information

TechCorp is a company operating in the technology sector with a significant annual revenue and a contract value that reflects its business engagements. [source: sample_excel.xlsx#3]
2025-07-19 20:12:36,760 — INFO — app — [STREAM] Completed streaming. Clean text for history: 339 chars
2025-07-19 20:12:36,761 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A']
2025-07-19 20:12:36,782 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:36,784 — INFO — app — [API] Received question: What are DataSys details?, company_id: 3, bot_id: 1, session_id: 058ac1a7-904e-407b-b20a-7efb2199a781
2025-07-19 20:12:36,785 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:36,786 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:36,786 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:36,786 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:36,870 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:37,414 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:37,802 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:38,102 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:38,721 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:39,320 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:39,322 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:39,323 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:12:39,816 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:39,925 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:39,926 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:12:39,927 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "company_id": 3,
  "structure_type": "sheet_header",
  "file_size": 9767,
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696
}
2025-07-19 20:12:39,929 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:39,930 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:40,008 — INFO — app — [MEMORY] Created new history for session 058ac1a7-904e-407b-b20a-7efb2199a781
2025-07-19 20:12:40,493 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:40,958 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:41,319 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:42,308 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### DataSys Details\n\n- **Customer ID:** CUST-002\n- **Company:** DataSys\n- **Industry:** Healthcare\n- **Annual Revenue:** $12,000,000\n- **Contract Value:** $340,000\n\n### Additional Information\n\nDataSys operates in the healthcare industry and has a significant annual revenue, indicating a strong market presence. The contract value suggests a substantial engagement with clients or partners in this sector. [source: sample_excel.xlsx#3]'
2025-07-19 20:12:42,308 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### DataSys Details

- **Customer ID:** CUST-002
- **Company:** DataSys
- **Industry:** Healthcare
- **Annual Revenue:** $12,000,000
- **Contract Value:** $340,000

### Additional Information

DataSys operates in the healthcare industry and has a significant annual revenue, indicating a strong market presence. The contract value suggests a substantial engagement with clients or partners in this sector. [source: sample_excel.xlsx#3]
2025-07-19 20:12:42,310 — INFO — app — [STREAM] Completed streaming. Clean text for history: 422 chars
2025-07-19 20:12:42,319 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:12:42,344 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:42,345 — INFO — app — [API] Received question: What companies have revenue data?, company_id: 3, bot_id: 1, session_id: a6ca4cb6-ba1c-4ccc-8f75-e62873ddadb9
2025-07-19 20:12:42,347 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:42,348 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:42,348 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:42,348 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:42,511 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:42,961 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:43,427 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:43,789 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:44,314 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:44,912 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:44,914 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:44,915 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:12:45,415 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:45,526 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:45,526 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:12:45,526 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "bot_id": 1,
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header"
}
2025-07-19 20:12:45,530 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:45,530 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:45,604 — INFO — app — [MEMORY] Created new history for session a6ca4cb6-ba1c-4ccc-8f75-e62873ddadb9
2025-07-19 20:12:45,979 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:46,735 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:47,048 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:50,177 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Revenue Data\n\n- **Q1 2024**: $2,100,000\n- **Q2 2024**: $2,350,000\n- **Q3 2024**: $2,180,000\n- **Q4 2024**: $2,800,000\n\n### Additional Information\n\nThe revenue data reflects the financial performance of the company across four quarters in 2024, indicating a trend of growth, particularly in Q4. The figures suggest a strong financial position moving into 2025. [source: sample_excel.xlsx#5]'
2025-07-19 20:12:50,179 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Revenue Data

- **Q1 2024**: $2,100,000
- **Q2 2024**: $2,350,000
- **Q3 2024**: $2,180,000
- **Q4 2024**: $2,800,000

### Additional Information

The revenue data reflects the financial performance of the company across four quarters in 2024, indicating a trend of growth, particularly in Q4. The figures suggest a strong financial position moving into 2025. [source: sample_excel.xlsx#5]
2025-07-19 20:12:50,180 — INFO — app — [STREAM] Completed streaming. Clean text for history: 386 chars
2025-07-19 20:12:50,182 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'sample_pdf.pdf', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_powerpoint.pptx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:12:50,206 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:50,207 — INFO — app — [API] Received question: Compare TechCorp and DataSys revenue, company_id: 3, bot_id: 1, session_id: cae9f460-ead7-4dd3-a6d8-4a983186515b
2025-07-19 20:12:50,209 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:50,210 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:50,210 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:12:50,210 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:50,333 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:50,785 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:51,347 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:51,658 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:12:52,209 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:52,916 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:12:52,917 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:12:52,918 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:12:52,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:53,418 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:12:53,541 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:12:53,542 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:12:53,542 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:12:53,542 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "source_type": "xlsx",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "company_id": 3,
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "chunk_index": 0,
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header"
}
2025-07-19 20:12:53,546 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:12:53,546 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:53,642 — INFO — app — [MEMORY] Created new history for session cae9f460-ead7-4dd3-a6d8-4a983186515b
2025-07-19 20:12:54,784 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:54,789 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Analyze the financial performance of TechCorp and DataSys in terms of revenue', '2. Contrast the revenue figures of TechCorp and DataSys to determine their financial standing']
2025-07-19 20:12:55,287 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:55,955 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:56,194 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:56,706 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:12:57,059 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:57,245 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:12:57,669 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:12:58,515 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Revenue Comparison\n\n- **TechCorp Annual Revenue:** $5,000,000\n- **DataSys Annual Revenue:** $12,000,000\n\n### Additional Information\n\n**DataSys** has a significantly higher annual revenue compared to **TechCorp**, with a difference of $7,000,000. This indicates that DataSys is performing better in terms of revenue generation within their respective industries.'
2025-07-19 20:12:58,515 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Revenue Comparison

- **TechCorp Annual Revenue:** $5,000,000
- **DataSys Annual Revenue:** $12,000,000

### Additional Information

**DataSys** has a significantly higher annual revenue compared to **TechCorp**, with a difference of $7,000,000. This indicates that DataSys is performing better in terms of revenue generation within their respective industries.
2025-07-19 20:12:58,517 — INFO — app — [STREAM] Completed streaming. Clean text for history: 352 chars
2025-07-19 20:12:58,519 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_excel.xlsx'], Scores: ['N/A', 'N/A']
2025-07-19 20:12:58,538 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:12:58,540 — INFO — app — [API] Received question: What qualifications are in the system?, company_id: 3, bot_id: 1, session_id: 963a4cdc-f700-4b3c-abfe-1d4a1ab62c46
2025-07-19 20:12:58,542 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:12:58,542 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:12:58,543 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:12:58,543 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:12:58,633 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:12:59,088 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:12:59,574 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:12:59,951 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:13:00,563 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:01,418 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:01,420 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:13:01,420 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:13:01,926 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:13:02,114 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:13:02,114 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:13:02,115 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "source_type": "xlsx",
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "total_elements": 1
}
2025-07-19 20:13:02,116 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:13:02,117 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:13:02,216 — INFO — app — [MEMORY] Created new history for session 963a4cdc-f700-4b3c-abfe-1d4a1ab62c46
2025-07-19 20:13:02,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:13:03,272 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:13:03,753 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:13:03,778 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:13:03,779 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:13:03,779 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:13:03,782 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:13:03,804 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:13:03,805 — INFO — app — [API] Received question: What office locations exist?, company_id: 3, bot_id: 1, session_id: d995c5a7-c609-459f-813e-5ac327243de7
2025-07-19 20:13:03,807 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:13:03,808 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:13:03,808 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:13:03,809 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:13:03,919 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:13:04,338 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:13:04,759 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:13:05,103 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:13:05,921 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:06,529 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:06,530 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:13:06,530 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:13:07,118 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:13:07,829 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:13:07,829 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:13:07,830 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "total_elements": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "structural_density": 0.508
}
2025-07-19 20:13:07,831 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:13:07,831 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:13:07,912 — INFO — app — [MEMORY] Created new history for session d995c5a7-c609-459f-813e-5ac327243de7
2025-07-19 20:13:08,790 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:13:09,218 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:13:09,704 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:13:12,566 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n- **Gallatin Office**\n  - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n- **Belle Meade Office**\n  - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n- **Berry Farms Office**\n  - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n- **Brentwood Office**\n  - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n- **Columbia Office**\n  - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n- **Nolensville Office**\n  - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese offices serve various regions in Tennessee, providing accessible locations for patients. Each office is equipped to handle patient needs in their respective areas. [source: Lucas Offices.pdf#0]'
2025-07-19 20:13:12,567 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

- **Gallatin Office**
  - Address: 1710 Nashville Pike, Gallatin, TN 37066

- **Belle Meade Office**
  - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

- **Berry Farms Office**
  - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

- **Brentwood Office**
  - Address: 7004 Moores Ln, Brentwood, TN 37027

- **Columbia Office**
  - Address: 1501 Nashville Hwy, Columbia, TN 38401

- **Nolensville Office**
  - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These offices serve various regions in Tennessee, providing accessible locations for patients. Each office is equipped to handle patient needs in their respective areas. [source: Lucas Offices.pdf#0]
2025-07-19 20:13:12,568 — INFO — app — [STREAM] Completed streaming. Clean text for history: 704 chars
2025-07-19 20:13:12,570 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:13:23,915 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:13:23,916 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 112df947-d541-4f30-84cb-3dabd531a3ef
2025-07-19 20:13:23,917 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:13:23,918 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:13:23,918 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:13:23,918 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:13:24,003 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:13:24,586 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:13:24,995 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:13:25,346 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:13:26,116 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:26,637 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:13:26,645 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:13:26,645 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:13:27,146 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:13:27,392 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:13:27,392 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:13:27,392 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "element_types": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "company_id": 3,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:13:27,395 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:13:27,396 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:13:27,474 — INFO — app — [MEMORY] Created new history for session 112df947-d541-4f30-84cb-3dabd531a3ef
2025-07-19 20:13:27,905 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:13:28,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:13:28,906 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:13:29,565 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:13:29,565 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:13:29,566 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:13:29,568 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:15:45,087 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:15:45,088 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: c24a0201-ab7f-4273-97ca-896e996ff483
2025-07-19 20:15:45,091 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:15:45,091 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:15:45,092 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:15:45,092 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:15:45,209 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:15:46,053 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:15:46,551 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:15:47,040 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:15:47,692 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:15:48,214 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:15:48,215 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:15:48,216 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:15:48,907 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:15:49,005 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:15:49,006 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:15:49,006 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity"
}
2025-07-19 20:15:49,009 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:15:49,009 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:15:49,098 — INFO — app — [MEMORY] Created new history for session c24a0201-ab7f-4273-97ca-896e996ff483
2025-07-19 20:15:50,743 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:15:51,285 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:15:51,650 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:15:52,474 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:15:52,474 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:15:52,475 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:15:52,476 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:15:52,490 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:15:52,492 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: 7fcd0ab6-98b0-4635-97eb-611f01b1c944
2025-07-19 20:15:52,493 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:15:52,493 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:15:52,494 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:15:52,494 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:15:52,575 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:15:53,037 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:15:53,616 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:15:54,026 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:15:54,724 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:15:55,475 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:15:55,476 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:15:55,476 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:15:56,118 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:15:56,236 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:15:56,236 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:15:56,237 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "event_id": 693,
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "file_size": 9767,
  "chunk_type": "direct_extraction"
}
2025-07-19 20:15:56,238 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:15:56,238 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:15:56,320 — INFO — app — [MEMORY] Created new history for session 7fcd0ab6-98b0-4635-97eb-611f01b1c944
2025-07-19 20:15:56,580 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:15:57,017 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:15:57,365 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:15:59,363 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]'
2025-07-19 20:15:59,365 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]
2025-07-19 20:15:59,367 — INFO — app — [STREAM] Completed streaming. Clean text for history: 599 chars
2025-07-19 20:15:59,369 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:17,755 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:17,756 — INFO — app — [API] Received question: What detailed information is available about companies in different industries?, company_id: 3, bot_id: 1, session_id: 39d08818-84a5-4db5-bbcf-5ef2b923a00f
2025-07-19 20:16:17,757 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:17,758 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:17,758 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:17,758 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:17,846 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:18,266 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:18,810 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:19,217 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:19,810 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:20,320 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:20,325 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:20,326 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:20,852 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:21,187 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:21,188 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:21,189 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "source_page": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "chunk_index": 0,
  "event_id": 693,
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:16:21,191 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:21,192 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:21,315 — INFO — app — [MEMORY] Created new history for session 39d08818-84a5-4db5-bbcf-5ef2b923a00f
2025-07-19 20:16:21,825 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:22,411 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:22,735 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:25,463 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Company Information by Industry\n\n- **Technology**\n  - **Company**: TechCorp\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n- **Healthcare**\n  - **Company**: DataSys\n  - **Annual Revenue**: $12,000,000\n  - **Contract Value**: $340,000\n\n- **Finance**\n  - **Company**: CloudCo\n  - **Annual Revenue**: $8,500,000\n  - **Contract Value**: $180,000\n\n- **Manufacturing**\n  - **Company**: InnovateLab\n  - **Annual Revenue**: $3,200,000\n  - **Contract Value**: $95,000\n\n- **Retail**\n  - **Company**: DigitalPro\n  - **Annual Revenue**: $7,800,000\n  - **Contract Value**: $220,000\n\n### Additional Information\n\nThis information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 20:16:25,464 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Company Information by Industry

- **Technology**
  - **Company**: TechCorp
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

- **Healthcare**
  - **Company**: DataSys
  - **Annual Revenue**: $12,000,000
  - **Contract Value**: $340,000

- **Finance**
  - **Company**: CloudCo
  - **Annual Revenue**: $8,500,000
  - **Contract Value**: $180,000

- **Manufacturing**
  - **Company**: InnovateLab
  - **Annual Revenue**: $3,200,000
  - **Contract Value**: $95,000

- **Retail**
  - **Company**: DigitalPro
  - **Annual Revenue**: $7,800,000
  - **Contract Value**: $220,000

### Additional Information

This information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. 

[source: sample_excel.xlsx#3]
2025-07-19 20:16:25,465 — INFO — app — [STREAM] Completed streaming. Clean text for history: 759 chars
2025-07-19 20:16:25,466 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:25,487 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:25,488 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: e3204c46-3141-40ff-9f93-515b60be4f57
2025-07-19 20:16:25,490 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:25,490 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:25,491 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:25,492 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:25,581 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:26,036 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:26,501 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:27,000 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:27,517 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:28,437 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:28,438 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:28,439 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:28,924 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:29,042 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:29,043 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:29,043 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "file_size": 9767,
  "event_id": 693,
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "bot_id": 1
}
2025-07-19 20:16:29,046 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:29,046 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:29,133 — INFO — app — [MEMORY] Created new history for session e3204c46-3141-40ff-9f93-515b60be4f57
2025-07-19 20:16:29,869 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:30,482 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:30,893 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:31,645 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:16:31,646 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:16:31,646 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:16:31,649 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:31,670 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:31,671 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: d088eb9e-4644-47fd-87ad-9db804c7a60f
2025-07-19 20:16:31,673 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:31,673 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:31,673 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:31,674 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:31,773 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:32,212 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:32,650 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:32,992 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:33,552 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:34,240 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:34,242 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:34,243 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:34,721 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:34,849 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:34,850 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:34,850 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "structural_density": 0.508,
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "source_page": 1,
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "content_type": "unstructured_text",
  "llm_enrichment": "disabled",
  "chunk_index": 0
}
2025-07-19 20:16:34,851 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:34,852 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:34,942 — INFO — app — [MEMORY] Created new history for session d088eb9e-4644-47fd-87ad-9db804c7a60f
2025-07-19 20:16:35,339 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:35,928 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:36,358 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:37,910 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]'
2025-07-19 20:16:37,910 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]
2025-07-19 20:16:37,912 — INFO — app — [STREAM] Completed streaming. Clean text for history: 599 chars
2025-07-19 20:16:37,914 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:37,938 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:37,939 — INFO — app — [API] Received question: What industries are in the system?, company_id: 3, bot_id: 1, session_id: 0a7210ad-3a12-400b-8505-d7f9c914e53f
2025-07-19 20:16:37,941 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:37,941 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:37,942 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:37,942 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:38,024 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:38,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:38,901 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:39,504 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:40,389 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:41,012 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:41,014 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:41,014 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:41,513 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:41,641 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:41,641 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:41,641 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "content_type": "unstructured_text",
  "event_id": 693
}
2025-07-19 20:16:41,643 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:41,644 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:41,731 — INFO — app — [MEMORY] Created new history for session 0a7210ad-3a12-400b-8505-d7f9c914e53f
2025-07-19 20:16:41,952 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:42,694 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:43,206 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:43,256 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:16:43,257 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:16:43,258 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:16:43,260 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:43,276 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:43,277 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: c1b48374-5222-4b6d-b30c-603e6786a4b5
2025-07-19 20:16:43,278 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:43,278 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:43,278 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:43,278 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:43,376 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:43,990 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:44,395 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:44,700 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:45,213 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:45,925 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:45,927 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:45,928 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:46,455 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:46,863 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:46,864 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:46,865 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "chunk_index": 0,
  "total_elements": 1,
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030"
}
2025-07-19 20:16:46,868 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:46,868 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:46,990 — INFO — app — [MEMORY] Created new history for session c1b48374-5222-4b6d-b30c-603e6786a4b5
2025-07-19 20:16:47,409 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:47,885 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:48,710 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:50,974 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese locations provide a range of services across different areas, ensuring accessibility for patients in the respective regions. [source: sample_pdf.pdf#0]'
2025-07-19 20:16:50,974 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These locations provide a range of services across different areas, ensuring accessibility for patients in the respective regions. [source: sample_pdf.pdf#0]
2025-07-19 20:16:50,975 — INFO — app — [STREAM] Completed streaming. Clean text for history: 668 chars
2025-07-19 20:16:50,978 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:50,995 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:50,996 — INFO — app — [API] Received question: Which industry has the highest revenue?, company_id: 3, bot_id: 1, session_id: 2ed50723-ec96-4189-9008-800f3bf9c421
2025-07-19 20:16:50,998 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:50,998 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:50,999 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:50,999 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:51,093 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:51,573 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:52,094 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:52,542 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:53,114 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:53,713 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:53,715 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:53,715 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:54,234 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:16:54,337 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:16:54,338 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:16:54,338 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 20:16:54,342 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:16:54,343 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:54,436 — INFO — app — [MEMORY] Created new history for session 2ed50723-ec96-4189-9008-800f3bf9c421
2025-07-19 20:16:54,807 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:16:55,478 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:16:55,874 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:16:57,048 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Highest Revenue Industry\n\n- **Healthcare**: $12,000,000\n\n### Additional Information\n\nThe healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. The other industries and their revenues are as follows:\n\n- Technology: $5,000,000\n- Finance: $8,500,000\n- Manufacturing: $3,200,000\n- Retail: $7,800,000\n\nThis data indicates that the healthcare sector leads in terms of financial performance among the companies listed. [source: sample_excel.xlsx#3]'
2025-07-19 20:16:57,048 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Highest Revenue Industry

- **Healthcare**: $12,000,000

### Additional Information

The healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. The other industries and their revenues are as follows:

- Technology: $5,000,000
- Finance: $8,500,000
- Manufacturing: $3,200,000
- Retail: $7,800,000

This data indicates that the healthcare sector leads in terms of financial performance among the companies listed. [source: sample_excel.xlsx#3]
2025-07-19 20:16:57,049 — INFO — app — [STREAM] Completed streaming. Clean text for history: 484 chars
2025-07-19 20:16:57,050 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:16:57,074 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:16:57,074 — INFO — app — [API] Received question: What companies are available in the system?, company_id: 3, bot_id: 1, session_id: 23c05356-e65f-41e7-a41f-186c151fa6ad
2025-07-19 20:16:57,076 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:16:57,076 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:16:57,077 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:16:57,077 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:16:57,174 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:16:57,558 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:16:57,955 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:16:58,217 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:16:58,824 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:59,429 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:16:59,431 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:16:59,432 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:16:59,972 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:00,072 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:00,073 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:00,073 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structural_density": 0.508,
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 20:17:00,074 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:00,074 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:00,148 — INFO — app — [MEMORY] Created new history for session 23c05356-e65f-41e7-a41f-186c151fa6ad
2025-07-19 20:17:00,406 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:00,997 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:01,845 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:03,096 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Accepted Insurance Providers\n\nThe following insurance providers are accepted:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThis list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of options for clients seeking coverage. The inclusion of both military and civilian plans highlights a broad network of support available. \n\n[source: sample_pdf.pdf#2]'
2025-07-19 20:17:03,096 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Accepted Insurance Providers

The following insurance providers are accepted:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

This list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of options for clients seeking coverage. The inclusion of both military and civilian plans highlights a broad network of support available. 

[source: sample_pdf.pdf#2]
2025-07-19 20:17:03,098 — INFO — app — [STREAM] Completed streaming. Clean text for history: 609 chars
2025-07-19 20:17:03,101 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:03,125 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:03,127 — INFO — app — [API] Received question: What information is available about individual backgrounds or qualifications?, company_id: 3, bot_id: 1, session_id: ef2f2b92-7cb2-467a-b727-517674b0716a
2025-07-19 20:17:03,130 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:03,131 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:03,132 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:03,132 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:03,229 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:03,690 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:04,097 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:04,392 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:05,015 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:05,909 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:05,910 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:05,911 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:06,521 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:06,661 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:06,662 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:06,662 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "content_type": "unstructured_text",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:17:06,666 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:06,666 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:06,785 — INFO — app — [MEMORY] Created new history for session ef2f2b92-7cb2-467a-b727-517674b0716a
2025-07-19 20:17:07,079 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:07,604 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:08,060 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:08,112 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:17:08,112 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:17:08,113 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:17:08,114 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_list.md', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:08,142 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:08,143 — INFO — app — [API] Received question: Provide a comprehensive analysis of all companies, including their industries, revenue information, and key details, company_id: 3, bot_id: 1, session_id: 6665428e-51fd-4a4a-866c-3d6befd8f036
2025-07-19 20:17:08,144 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:08,145 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:08,146 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:08,146 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:08,248 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:08,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:09,191 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:09,597 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:10,415 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:11,012 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:11,013 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:11,014 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:11,646 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:11,838 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:11,838 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:11,839 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "element_types": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "bot_id": 1,
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_size": 9767,
  "event_id": 693,
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream"
}
2025-07-19 20:17:11,840 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:11,841 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:11,942 — INFO — app — [MEMORY] Created new history for session 6665428e-51fd-4a4a-866c-3d6befd8f036
2025-07-19 20:17:12,260 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:12,875 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:13,355 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:13,566 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:17:13,567 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:17:13,567 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:17:13,568 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:13,598 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:13,599 — INFO — app — [API] Received question: Test system operation, company_id: 3, bot_id: 1, session_id: f03f7c9c-8c55-42df-a9e5-68466b7d267d
2025-07-19 20:17:13,601 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:13,602 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:13,602 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:13,602 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:13,690 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:14,078 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:14,484 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:14,748 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:15,536 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:16,545 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:16,547 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:16,547 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:17,007 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:17,273 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:17,274 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:17,274 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "structure_type": "sheet_header",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "event_id": 693
}
2025-07-19 20:17:17,276 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:17,277 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:17,362 — INFO — app — [MEMORY] Created new history for session f03f7c9c-8c55-42df-a9e5-68466b7d267d
2025-07-19 20:17:17,680 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:18,199 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:18,614 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:18,648 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:17:18,649 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:17:18,649 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:17:18,650 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:40,412 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:40,414 — INFO — app — [API] Received question: What detailed information is available about companies in different industries?, company_id: 3, bot_id: 1, session_id: 59b35a1a-92d6-488d-bae6-a6ac18604a06
2025-07-19 20:17:40,415 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:40,415 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:40,416 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:40,416 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:40,502 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:40,921 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:41,288 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:41,596 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:42,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:42,775 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:42,778 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:42,779 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:43,396 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:43,605 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:43,606 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:43,607 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "element_types": "sheet_header",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "created_time": 1752893064.69696
}
2025-07-19 20:17:43,611 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:43,612 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:43,724 — INFO — app — [MEMORY] Created new history for session 59b35a1a-92d6-488d-bae6-a6ac18604a06
2025-07-19 20:17:44,008 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:44,602 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:44,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:48,520 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Company Information by Industry\n\n- **Technology**\n  - **Company**: TechCorp\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n- **Healthcare**\n  - **Company**: DataSys\n  - **Annual Revenue**: $12,000,000\n  - **Contract Value**: $340,000\n\n- **Finance**\n  - **Company**: CloudCo\n  - **Annual Revenue**: $8,500,000\n  - **Contract Value**: $180,000\n\n- **Manufacturing**\n  - **Company**: InnovateLab\n  - **Annual Revenue**: $3,200,000\n  - **Contract Value**: $95,000\n\n- **Retail**\n  - **Company**: DigitalPro\n  - **Annual Revenue**: $7,800,000\n  - **Contract Value**: $220,000\n\n### Additional Information\n\nThis information provides a snapshot of various companies across different industries, highlighting their annual revenue and contract values. The data can be useful for market analysis and understanding industry trends. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 20:17:48,521 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Company Information by Industry

- **Technology**
  - **Company**: TechCorp
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

- **Healthcare**
  - **Company**: DataSys
  - **Annual Revenue**: $12,000,000
  - **Contract Value**: $340,000

- **Finance**
  - **Company**: CloudCo
  - **Annual Revenue**: $8,500,000
  - **Contract Value**: $180,000

- **Manufacturing**
  - **Company**: InnovateLab
  - **Annual Revenue**: $3,200,000
  - **Contract Value**: $95,000

- **Retail**
  - **Company**: DigitalPro
  - **Annual Revenue**: $7,800,000
  - **Contract Value**: $220,000

### Additional Information

This information provides a snapshot of various companies across different industries, highlighting their annual revenue and contract values. The data can be useful for market analysis and understanding industry trends. 

[source: sample_excel.xlsx#3]
2025-07-19 20:17:48,522 — INFO — app — [STREAM] Completed streaming. Clean text for history: 758 chars
2025-07-19 20:17:48,523 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:48,545 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:48,547 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 14cf72c2-b1fb-45de-9427-927b24b1423c
2025-07-19 20:17:48,548 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:48,549 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:48,549 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:48,550 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:48,640 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:49,098 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:49,566 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:49,892 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:50,511 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:51,175 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:51,177 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:51,178 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:51,781 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:51,873 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:51,873 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:51,874 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "source_page": 1,
  "created_time": 1752893064.69696
}
2025-07-19 20:17:51,875 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:51,875 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:51,952 — INFO — app — [MEMORY] Created new history for session 14cf72c2-b1fb-45de-9427-927b24b1423c
2025-07-19 20:17:52,403 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:53,115 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:53,631 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:17:54,433 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:17:54,434 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:17:54,434 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:17:54,435 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:17:54,450 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:17:54,451 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: 2a38b34e-2768-4941-813e-e51e66d01957
2025-07-19 20:17:54,453 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:17:54,454 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:17:54,454 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:17:54,454 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:54,527 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:17:54,977 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:17:55,376 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:17:55,695 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:17:56,412 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:57,109 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:17:57,112 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:17:57,112 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:17:57,608 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:17:57,725 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:17:57,726 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:17:57,727 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "element_types": "sheet_header",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "chunk_type": "direct_extraction",
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696
}
2025-07-19 20:17:57,728 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:17:57,729 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:17:57,805 — INFO — app — [MEMORY] Created new history for session 2a38b34e-2768-4941-813e-e51e66d01957
2025-07-19 20:17:58,346 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:17:58,863 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:17:59,171 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:00,846 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]'
2025-07-19 20:18:00,847 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making purposes. [source: sample_excel.xlsx#3]
2025-07-19 20:18:00,850 — INFO — app — [STREAM] Completed streaming. Clean text for history: 599 chars
2025-07-19 20:18:00,852 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:00,870 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:00,871 — INFO — app — [API] Received question: What industries are in the system?, company_id: 3, bot_id: 1, session_id: cbfc3986-919f-4148-9d1b-38db0050c690
2025-07-19 20:18:00,872 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:00,873 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:00,873 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:00,873 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:00,948 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:01,337 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:01,754 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:02,049 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:02,640 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:03,212 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:03,214 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:03,215 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:03,868 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:03,957 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:03,958 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:03,958 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696
}
2025-07-19 20:18:03,960 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:03,960 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:04,040 — INFO — app — [MEMORY] Created new history for session cbfc3986-919f-4148-9d1b-38db0050c690
2025-07-19 20:18:04,329 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:04,797 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:05,218 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:05,249 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:18:05,249 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:18:05,249 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:18:05,251 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:05,270 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:05,271 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 864f7c68-0a58-461c-b43e-b98bd5daf741
2025-07-19 20:18:05,272 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:05,272 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:05,272 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:05,273 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:05,352 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:05,878 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:06,305 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:06,578 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:07,147 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:07,639 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:07,641 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:07,641 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:08,125 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:08,251 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:08,251 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:08,252 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "source_type": "xlsx",
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "source_page": 1,
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:18:08,253 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:08,253 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:08,335 — INFO — app — [MEMORY] Created new history for session 864f7c68-0a58-461c-b43e-b98bd5daf741
2025-07-19 20:18:08,631 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:09,397 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:09,809 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:11,820 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese locations provide a range of services across different areas, ensuring accessibility for patients in the region. [source: sample_pdf.pdf#0]'
2025-07-19 20:18:11,821 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These locations provide a range of services across different areas, ensuring accessibility for patients in the region. [source: sample_pdf.pdf#0]
2025-07-19 20:18:11,823 — INFO — app — [STREAM] Completed streaming. Clean text for history: 656 chars
2025-07-19 20:18:11,826 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:11,842 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:11,843 — INFO — app — [API] Received question: Which industry has the highest revenue?, company_id: 3, bot_id: 1, session_id: 637c7e25-2d36-4992-b30b-e7d4f2f3044b
2025-07-19 20:18:11,844 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:11,844 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:11,845 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:11,845 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:11,920 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:12,470 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:12,920 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:13,226 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:13,809 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:14,317 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:14,319 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:14,320 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:14,797 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:14,907 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:14,908 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:14,908 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "event_id": 693,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "company_id": 3,
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "created_time": 1752893064.69696,
  "chunk_index": 0
}
2025-07-19 20:18:14,910 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:14,910 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:14,983 — INFO — app — [MEMORY] Created new history for session 637c7e25-2d36-4992-b30b-e7d4f2f3044b
2025-07-19 20:18:15,244 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:15,926 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:16,246 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:16,797 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Highest Revenue Industry\n\n- **Healthcare**: $12,000,000\n\n### Additional Information\n\nThe healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]'
2025-07-19 20:18:16,798 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Highest Revenue Industry

- **Healthcare**: $12,000,000

### Additional Information

The healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]
2025-07-19 20:18:16,798 — INFO — app — [STREAM] Completed streaming. Clean text for history: 217 chars
2025-07-19 20:18:16,800 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:16,826 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:16,828 — INFO — app — [API] Received question: What companies are available in the system?, company_id: 3, bot_id: 1, session_id: 841a8d94-5518-467d-8044-dd380fe11636
2025-07-19 20:18:16,830 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:16,831 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:16,831 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:16,831 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:16,926 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:17,373 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:17,767 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:18,046 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:18,615 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:19,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:19,230 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:19,230 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:19,711 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:19,893 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:19,894 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:19,894 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "element_types": "sheet_header",
  "total_elements": 1,
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:18:19,897 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:19,898 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:19,986 — INFO — app — [MEMORY] Created new history for session 841a8d94-5518-467d-8044-dd380fe11636
2025-07-19 20:18:20,278 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:20,765 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:21,172 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:22,627 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Accepted Insurance Providers\n\nThe following insurance providers are accepted:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThis list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of options for clients seeking coverage. The inclusion of both military and civilian plans highlights a broad network of support available. \n\n[source: sample_pdf.pdf#2]'
2025-07-19 20:18:22,627 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Accepted Insurance Providers

The following insurance providers are accepted:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

This list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of options for clients seeking coverage. The inclusion of both military and civilian plans highlights a broad network of support available. 

[source: sample_pdf.pdf#2]
2025-07-19 20:18:22,628 — INFO — app — [STREAM] Completed streaming. Clean text for history: 609 chars
2025-07-19 20:18:22,630 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:22,652 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:22,653 — INFO — app — [API] Received question: What information is available about individual backgrounds or qualifications?, company_id: 3, bot_id: 1, session_id: 4b4d7b06-5d31-4edf-9a3d-7d514554769e
2025-07-19 20:18:22,655 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:22,655 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:22,656 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:22,657 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:22,742 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:23,343 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:23,941 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:24,211 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:25,372 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:26,211 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:26,214 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:26,214 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:26,829 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:27,059 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:27,059 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:27,060 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "event_id": 693,
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "bot_id": 1
}
2025-07-19 20:18:27,062 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:27,062 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:27,172 — INFO — app — [MEMORY] Created new history for session 4b4d7b06-5d31-4edf-9a3d-7d514554769e
2025-07-19 20:18:27,520 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:28,026 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:28,398 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:28,443 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:18:28,443 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:18:28,443 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:18:28,445 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_list.md', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:28,465 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:28,466 — INFO — app — [API] Received question: Provide a comprehensive analysis of all companies, including their industries, revenue information, and key details, company_id: 3, bot_id: 1, session_id: acbcfb87-1b69-48d9-aefe-d2584162eedc
2025-07-19 20:18:28,468 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:28,468 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:28,469 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:28,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:28,543 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:28,946 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:29,397 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:29,696 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:30,288 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:30,902 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:30,904 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:30,904 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:31,400 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:31,810 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:31,810 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:31,811 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "chunk_index": 0,
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "company_id": 3,
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "element_types": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
}
2025-07-19 20:18:31,814 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:31,814 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:31,894 — INFO — app — [MEMORY] Created new history for session acbcfb87-1b69-48d9-aefe-d2584162eedc
2025-07-19 20:18:32,137 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:32,600 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:32,943 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:32,990 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:18:32,991 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:18:32,991 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:18:32,993 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:33,022 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:33,023 — INFO — app — [API] Received question: Test system operation, company_id: 3, bot_id: 1, session_id: ac36e081-7a91-4737-890c-1c5c77e013c5
2025-07-19 20:18:33,025 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:33,025 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:33,026 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:33,026 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:33,098 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:33,564 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:34,182 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:34,463 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:35,237 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:36,309 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:36,310 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:36,310 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:36,900 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:37,077 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:37,078 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:37,079 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "event_id": 693,
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "company_id": 3,
  "bot_id": 1,
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:18:37,081 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:37,082 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:37,174 — INFO — app — [MEMORY] Created new history for session ac36e081-7a91-4737-890c-1c5c77e013c5
2025-07-19 20:18:37,515 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:38,272 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:38,691 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:38,705 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:18:38,705 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:18:38,705 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:18:38,707 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:41,416 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:41,417 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 35b9cf8f-a607-48e3-a530-895d9a9c2a64
2025-07-19 20:18:41,418 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:41,418 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:41,418 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:41,418 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:41,515 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:42,166 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:42,782 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:43,089 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:43,692 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:44,311 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:44,313 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:44,314 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:44,800 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:44,927 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:44,927 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:44,928 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "chunk_index": 0,
  "event_id": 693,
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "file_size": 9767,
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "content_type": "unstructured_text",
  "company_id": 3,
  "element_types": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1
}
2025-07-19 20:18:44,930 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:44,931 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:45,018 — INFO — app — [MEMORY] Created new history for session 35b9cf8f-a607-48e3-a530-895d9a9c2a64
2025-07-19 20:18:45,347 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:46,117 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:46,566 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:47,288 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:18:47,289 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:18:47,290 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:18:47,291 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:47,313 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:47,314 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 5d61258e-c083-40a1-bf7d-484034bdfe4b
2025-07-19 20:18:47,315 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:47,316 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:47,316 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:47,316 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:47,398 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:47,825 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:48,233 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:48,500 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:49,129 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:49,756 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:49,757 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:49,758 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:50,229 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:50,347 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:50,347 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:50,348 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "element_types": "sheet_header",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication"
}
2025-07-19 20:18:50,349 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:50,350 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:50,436 — INFO — app — [MEMORY] Created new history for session 5d61258e-c083-40a1-bf7d-484034bdfe4b
2025-07-19 20:18:50,706 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:51,391 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:51,792 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:18:52,454 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:18:52,454 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:18:52,455 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 20:18:52,456 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:18:53,475 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:18:53,475 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: d99d6ba7-61d5-4aa4-adb8-c10a3b66c0ac
2025-07-19 20:18:53,476 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:18:53,476 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:18:53,476 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:18:53,476 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:53,551 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:18:53,947 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:18:54,343 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:18:54,647 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:18:55,274 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:56,014 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:18:56,016 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:18:56,016 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:18:56,621 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:18:56,793 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:18:56,793 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:18:56,794 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "chunk_index": 0,
  "file_size": 9767,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "total_elements": 1,
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header"
}
2025-07-19 20:18:56,796 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:18:56,796 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:18:56,884 — INFO — app — [MEMORY] Created new history for session d99d6ba7-61d5-4aa4-adb8-c10a3b66c0ac
2025-07-19 20:18:57,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:18:57,902 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:18:58,543 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:01,129 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n- **Monday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM (Every Other Monday)\n\n- **Tuesday:**\n  - 6:30 AM - 3:30 PM\n  - 7:30 AM - 4:30 PM\n\n- **Wednesday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Thursday:**\n  - 7:00 AM - 4:00 PM\n  - 7:30 AM - 4:30 PM\n\n- **Friday:**\n  - Hours Not Specified\n\n- **Saturday:**\n  - Hours Not Specified\n\n- **Sunday:**\n  - Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:19:01,129 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

- **Monday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM (Every Other Monday)

- **Tuesday:**
  - 6:30 AM - 3:30 PM
  - 7:30 AM - 4:30 PM

- **Wednesday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Thursday:**
  - 7:00 AM - 4:00 PM
  - 7:30 AM - 4:30 PM

- **Friday:**
  - Hours Not Specified

- **Saturday:**
  - Hours Not Specified

- **Sunday:**
  - Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 20:19:01,130 — INFO — app — [STREAM] Completed streaming. Clean text for history: 493 chars
2025-07-19 20:19:01,131 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:01,151 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:01,152 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: a8c6ecd2-cd78-4907-81fa-3c6cb9b87551
2025-07-19 20:19:01,153 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:01,154 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:01,154 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:01,154 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:01,242 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:01,762 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:02,253 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:02,526 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:03,118 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:03,614 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:03,618 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:03,618 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:04,216 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:04,328 — INFO — retriever — [RETRIEVER] Initialized BM25 with 499 documents
2025-07-19 20:19:04,329 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:04,329 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "source_page": 1,
  "source_type": "xlsx",
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "structure_type": "sheet_header"
}
2025-07-19 20:19:04,330 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:04,331 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:04,402 — INFO — app — [MEMORY] Created new history for session a8c6ecd2-cd78-4907-81fa-3c6cb9b87551
2025-07-19 20:19:04,713 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:05,423 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:05,796 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:08,056 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer information provided in the context. [source: sample_excel.xlsx#3]'
2025-07-19 20:19:08,057 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This list includes the industries represented by the companies along with their respective annual revenues and contract values. The data is sourced from the customer information provided in the context. [source: sample_excel.xlsx#3]
2025-07-19 20:19:08,058 — INFO — app — [STREAM] Completed streaming. Clean text for history: 722 chars
2025-07-19 20:19:08,060 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:08,091 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:08,093 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 5d2a8d68-561d-4ff2-a6c6-923f9db44a84
2025-07-19 20:19:08,096 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:08,097 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:08,099 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:08,100 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:08,203 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:08,789 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:09,197 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:09,495 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:10,089 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:10,691 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:10,693 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:10,694 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:11,224 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:11,338 — INFO — retriever — [RETRIEVER] Initialized BM25 with 502 documents
2025-07-19 20:19:11,339 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:11,340 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "source_page": 1,
  "chunk_index": 0,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "llm_enrichment": "disabled",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 20:19:11,341 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:11,341 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:11,430 — INFO — app — [MEMORY] Created new history for session 5d2a8d68-561d-4ff2-a6c6-923f9db44a84
2025-07-19 20:19:11,709 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:12,160 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:12,682 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:13,510 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Customer ID:** CUST-001  \n  **Company:** TechCorp  \n  **Annual Revenue:** $5,000,000  \n  **Contract Value:** $125,000  \n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  \n[source: sample_excel.xlsx#3]'
2025-07-19 20:19:13,512 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Customer ID:** CUST-001  
  **Company:** TechCorp  
  **Annual Revenue:** $5,000,000  
  **Contract Value:** $125,000  

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  
[source: sample_excel.xlsx#3]
2025-07-19 20:19:13,513 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 20:19:13,514 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:13,533 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:13,534 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: 3db36f7b-1bf8-4bf5-b29f-4970e1e7b811
2025-07-19 20:19:13,535 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:13,536 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:13,536 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:13,536 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:13,615 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:14,178 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:14,677 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:14,992 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:16,004 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:16,542 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:16,544 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:16,544 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:17,013 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:17,133 — INFO — retriever — [RETRIEVER] Initialized BM25 with 506 documents
2025-07-19 20:19:17,134 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:17,134 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "company_id": 3,
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx"
}
2025-07-19 20:19:17,136 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:17,137 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:17,227 — INFO — app — [MEMORY] Created new history for session 3db36f7b-1bf8-4bf5-b29f-4970e1e7b811
2025-07-19 20:19:17,495 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:18,045 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:18,622 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:18,630 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:19:18,630 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:19:18,630 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:19:18,631 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:18,654 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:18,655 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: 419e337c-9545-42e1-b83c-0d37aff840a5
2025-07-19 20:19:18,656 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:18,657 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:18,657 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:18,657 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:18,740 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:19,237 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:19,707 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:19,988 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:20,507 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:21,120 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:21,122 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:21,123 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:21,622 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:21,923 — INFO — retriever — [RETRIEVER] Initialized BM25 with 506 documents
2025-07-19 20:19:21,924 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:21,924 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "total_elements": 1,
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 20:19:21,927 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:21,928 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:22,022 — INFO — app — [MEMORY] Created new history for session 419e337c-9545-42e1-b83c-0d37aff840a5
2025-07-19 20:19:22,354 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:22,814 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:23,184 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:23,243 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:19:23,243 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:19:23,243 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:19:23,244 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:23,263 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:23,263 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 560be4bb-880e-46fd-aae3-1a5d09ad80a7
2025-07-19 20:19:23,264 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:23,264 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:23,265 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:23,265 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:23,345 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:23,791 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:24,221 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:24,560 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:25,212 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:26,121 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:26,123 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:26,123 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:26,626 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:26,756 — INFO — retriever — [RETRIEVER] Initialized BM25 with 506 documents
2025-07-19 20:19:26,757 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:26,758 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_size": 9767,
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "mime_type": "application/octet-stream",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:19:26,760 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:26,760 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:26,844 — INFO — app — [MEMORY] Created new history for session 560be4bb-880e-46fd-aae3-1a5d09ad80a7
2025-07-19 20:19:27,308 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:28,043 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:28,397 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:28,451 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:19:28,451 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:19:28,451 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:19:28,452 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:28,470 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:28,471 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: 82fb6acd-e36d-4a4a-9bb7-4b7874e4b883
2025-07-19 20:19:28,473 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:28,474 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:28,474 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:28,475 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:28,549 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:28,980 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:29,475 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:29,885 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:30,502 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:31,105 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:31,107 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:31,107 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:32,548 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:32,649 — INFO — retriever — [RETRIEVER] Initialized BM25 with 506 documents
2025-07-19 20:19:32,650 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:32,650 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "element_types": "sheet_header",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "structure_type": "sheet_header"
}
2025-07-19 20:19:32,651 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:32,651 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:32,723 — INFO — app — [MEMORY] Created new history for session 82fb6acd-e36d-4a4a-9bb7-4b7874e4b883
2025-07-19 20:19:32,977 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:33,607 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:33,962 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:34,055 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:19:34,056 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:19:34,056 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:19:34,058 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:34,079 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:34,081 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: 9c6d0fe0-d9a6-411a-8245-4b35366540cd
2025-07-19 20:19:34,082 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:34,082 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:34,082 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:19:34,083 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:34,162 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:34,569 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:34,962 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:35,240 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:36,015 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:36,640 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:36,642 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:36,643 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:19:36,643 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:37,258 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:37,439 — INFO — retriever — [RETRIEVER] Initialized BM25 with 521 documents
2025-07-19 20:19:37,440 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:19:37,441 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:19:37,442 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "company_id": 3,
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 20:19:37,444 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:37,444 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:37,517 — INFO — app — [MEMORY] Created new history for session 9c6d0fe0-d9a6-411a-8245-4b35366540cd
2025-07-19 20:19:38,315 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:38,319 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 20:19:38,592 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:39,108 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:39,283 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:39,806 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:40,064 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:40,332 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:40,679 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:43,265 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **Company Name:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n### Business Focus Areas\n\n- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.\n\n- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.\n\n- **Sustainable Business Practices**: The company may also be exploring environmentally responsible operations, which is becoming increasingly important in the technology sector.\n\n### Additional Information\n\nThe analysis of TechCorp suggests a commitment to growth through innovation and customer-centric strategies, which are essential for success in the competitive technology industry. \n\nThe focus on sustainable practices indicates a forward-thinking approach that could appeal to environmentally conscious consumers and businesses. \n\nOverall, TechCorp's positioning reflects key trends in the technology sector, emphasizing the importance of adaptability and responsiveness to market demands. \n\n[source: sample_excel.xlsx#3]"
2025-07-19 20:19:43,266 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **Company Name:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

### Business Focus Areas

- **Innovation**: TechCorp is likely focused on enhancing its products and services, aligning with the broader industry trend of continuous improvement and technological advancement.

- **Customer Excellence**: Given the emphasis on customer satisfaction, TechCorp may prioritize customer engagement and support to retain and grow its client base.

- **Sustainable Business Practices**: The company may also be exploring environmentally responsible operations, which is becoming increasingly important in the technology sector.

### Additional Information

The analysis of TechCorp suggests a commitment to growth through innovation and customer-centric strategies, which are essential for success in the competitive technology industry. 

The focus on sustainable practices indicates a forward-thinking approach that could appeal to environmentally conscious consumers and businesses. 

Overall, TechCorp's positioning reflects key trends in the technology sector, emphasizing the importance of adaptability and responsiveness to market demands. 

[source: sample_excel.xlsx#3]
2025-07-19 20:19:43,268 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1256 chars
2025-07-19 20:19:43,269 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:43,292 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:43,293 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: c45d9000-c99e-4718-ace3-1e86b4c1d81f
2025-07-19 20:19:43,295 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:43,295 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:43,296 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:43,296 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:43,382 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:43,803 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:44,483 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:44,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:46,107 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:47,316 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:47,318 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:47,318 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:47,894 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:48,023 — INFO — retriever — [RETRIEVER] Initialized BM25 with 521 documents
2025-07-19 20:19:48,024 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:48,024 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "llm_enrichment": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "event_id": 693,
  "source_page": 1,
  "chunk_index": 0,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:19:48,026 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:48,026 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:48,115 — INFO — app — [MEMORY] Created new history for session c45d9000-c99e-4718-ace3-1e86b4c1d81f
2025-07-19 20:19:48,477 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:49,135 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:49,496 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:50,196 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:19:50,197 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:19:50,198 — INFO — app — [STREAM] Completed streaming. Clean text for history: 293 chars
2025-07-19 20:19:50,200 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.xlsx', 'sample_list.md', 'sample_list.md', 'sample_list.md', 'sample_list.md', 'sample_list.md'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:50,235 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:50,237 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: a3c0782b-681f-43b6-b1ad-52a3077ac77d
2025-07-19 20:19:50,239 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:50,239 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:50,240 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:50,240 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:50,415 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:51,593 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:52,208 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:52,545 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:19:53,215 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:53,823 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:19:53,824 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:19:53,825 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:19:54,514 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:19:54,696 — INFO — retriever — [RETRIEVER] Initialized BM25 with 521 documents
2025-07-19 20:19:54,696 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:19:54,697 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "structural_density": 0.508,
  "chunk_index": 0,
  "total_elements": 1,
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "file_size": 9767
}
2025-07-19 20:19:54,698 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:19:54,699 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:54,784 — INFO — app — [MEMORY] Created new history for session a3c0782b-681f-43b6-b1ad-52a3077ac77d
2025-07-19 20:19:55,102 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:19:55,821 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:19:56,439 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:19:58,617 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n**Monday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM (Every Other Monday)\n\n**Tuesday:**\n- 6:30 AM - 3:30 PM\n- 7:30 AM - 4:30 PM\n\n**Wednesday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Thursday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Friday:**\n- Hours Not Specified\n\n**Saturday:**\n- Hours Not Specified\n\n**Sunday:**\n- Hours Not Specified\n\n### Additional Information\n\nThis structured overview provides a clear summary of the business hours for the various offices. Please note that specific hours may vary by location. [source: Lucas Offices.pdf#1]'
2025-07-19 20:19:58,618 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

**Monday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM (Every Other Monday)

**Tuesday:**
- 6:30 AM - 3:30 PM
- 7:30 AM - 4:30 PM

**Wednesday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Thursday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Friday:**
- Hours Not Specified

**Saturday:**
- Hours Not Specified

**Sunday:**
- Hours Not Specified

### Additional Information

This structured overview provides a clear summary of the business hours for the various offices. Please note that specific hours may vary by location. [source: Lucas Offices.pdf#1]
2025-07-19 20:19:58,619 — INFO — app — [STREAM] Completed streaming. Clean text for history: 534 chars
2025-07-19 20:19:58,619 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:19:58,635 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:19:58,636 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: fd189c7a-7020-434f-8c1e-aabc2c010bf2
2025-07-19 20:19:58,637 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:19:58,637 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:19:58,638 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:19:58,638 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:19:58,720 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:19:59,080 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:19:59,457 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:19:59,987 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:00,707 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:01,424 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:01,426 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:01,426 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:02,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:02,475 — INFO — retriever — [RETRIEVER] Initialized BM25 with 527 documents
2025-07-19 20:20:02,476 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:02,477 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment_mode": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "chunk_index": 0,
  "element_types": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "processing_strategy": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "bot_id": 1
}
2025-07-19 20:20:02,479 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:02,480 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:02,551 — INFO — app — [MEMORY] Created new history for session fd189c7a-7020-434f-8c1e-aabc2c010bf2
2025-07-19 20:20:02,915 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:03,470 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:03,883 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:06,478 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Widgets**\n  - Products: Basic Widget, Premium Widget, Super Widget\n  - Price Range: $9.99 - $29.99\n  - Stock Levels: 1000 (Basic), 500 (Premium), 250 (Super)\n\n- **Gadgets**\n  - Products: Basic Gadget, Premium Gadget, Super Gadget\n  - Price Range: $14.99 - $34.99\n  - Stock Levels: 750 (Basic), 300 (Premium), 150 (Super)\n\n- **Tools**\n  - Products: Basic Tool, Premium Tool, Super Tool\n  - Price Range: $29.99 - $69.99\n  - Stock Levels: 200 (Basic), 100 (Premium), 50 (Super)\n\n- **Accessories**\n  - Products: Basic Accessory\n  - Price: $4.99\n  - Stock Level: 2000\n\n### Additional Information\n\nThe industries listed above include various products with different price points and stock levels, indicating their availability and market positioning. Each industry has a range of products catering to different customer needs and preferences. \n\nFor more detailed information about specific products, please refer to the product index.  \n[source: sample_table.csv#0]'
2025-07-19 20:20:06,479 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Widgets**
  - Products: Basic Widget, Premium Widget, Super Widget
  - Price Range: $9.99 - $29.99
  - Stock Levels: 1000 (Basic), 500 (Premium), 250 (Super)

- **Gadgets**
  - Products: Basic Gadget, Premium Gadget, Super Gadget
  - Price Range: $14.99 - $34.99
  - Stock Levels: 750 (Basic), 300 (Premium), 150 (Super)

- **Tools**
  - Products: Basic Tool, Premium Tool, Super Tool
  - Price Range: $29.99 - $69.99
  - Stock Levels: 200 (Basic), 100 (Premium), 50 (Super)

- **Accessories**
  - Products: Basic Accessory
  - Price: $4.99
  - Stock Level: 2000

### Additional Information

The industries listed above include various products with different price points and stock levels, indicating their availability and market positioning. Each industry has a range of products catering to different customer needs and preferences. 

For more detailed information about specific products, please refer to the product index.  
[source: sample_table.csv#0]
2025-07-19 20:20:06,480 — INFO — app — [STREAM] Completed streaming. Clean text for history: 926 chars
2025-07-19 20:20:06,483 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:20:06,504 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:20:06,506 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: 64abf58c-4a7d-4b0f-91ac-a8aadefe36aa
2025-07-19 20:20:06,508 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:20:06,509 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:20:06,510 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:20:06,510 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:06,596 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:20:07,159 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:20:07,586 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:20:07,869 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:08,996 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:10,015 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:10,021 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:10,022 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:10,553 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:10,672 — INFO — retriever — [RETRIEVER] Initialized BM25 with 533 documents
2025-07-19 20:20:10,672 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:10,673 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "created_time": 1752893064.69696,
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 20:20:10,674 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:10,675 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:10,771 — INFO — app — [MEMORY] Created new history for session 64abf58c-4a7d-4b0f-91ac-a8aadefe36aa
2025-07-19 20:20:11,155 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:11,916 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:12,288 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:12,322 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:20:12,322 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:20:12,322 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:20:12,323 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:20:12,337 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:20:12,338 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: b8eac085-5dd7-4caf-87af-318ec617a0f2
2025-07-19 20:20:12,341 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:20:12,343 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:20:12,344 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:20:12,344 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:12,458 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:20:12,956 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:20:13,505 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:20:13,791 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:14,217 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:14,712 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:14,714 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:14,714 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:15,737 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:15,854 — INFO — retriever — [RETRIEVER] Initialized BM25 with 538 documents
2025-07-19 20:20:15,855 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:15,856 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "event_id": 693,
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "total_elements": 1,
  "chunk_index": 0,
  "file_size": 9767,
  "structural_density": 0.508,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:20:15,858 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:15,858 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:15,929 — INFO — app — [MEMORY] Created new history for session b8eac085-5dd7-4caf-87af-318ec617a0f2
2025-07-19 20:20:16,232 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:16,686 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:17,068 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:17,132 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:20:17,132 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:20:17,132 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:20:17,133 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:20:17,146 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:20:17,147 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: f3c2881f-c613-44ad-9103-b62f19aadbf1
2025-07-19 20:20:17,148 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:20:17,149 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:20:17,149 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:20:17,149 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:17,230 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:20:17,654 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:20:18,053 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:20:18,422 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:19,240 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:19,820 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:19,822 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:19,822 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:20,316 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:20,584 — INFO — retriever — [RETRIEVER] Initialized BM25 with 538 documents
2025-07-19 20:20:20,585 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:20,585 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "bot_id": 1,
  "file_size": 9767,
  "source_page": 1,
  "created_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "company_id": 3,
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:20:20,587 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:20,588 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:20,702 — INFO — app — [MEMORY] Created new history for session f3c2881f-c613-44ad-9103-b62f19aadbf1
2025-07-19 20:20:21,148 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:21,622 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:21,996 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:22,038 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:20:22,039 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:20:22,039 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:20:22,041 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:20:22,066 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:20:22,068 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 199ce599-31fc-4eb6-9ed0-cf569707804f
2025-07-19 20:20:22,069 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:20:22,070 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:20:22,070 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:20:22,070 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:22,183 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:20:22,686 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:20:23,109 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:20:23,399 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:24,151 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:25,114 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:25,116 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:25,116 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:25,823 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:26,000 — INFO — retriever — [RETRIEVER] Initialized BM25 with 538 documents
2025-07-19 20:20:26,001 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:26,001 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_size": 9767,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "event_id": 693,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:20:26,003 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:26,003 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:26,081 — INFO — app — [MEMORY] Created new history for session 199ce599-31fc-4eb6-9ed0-cf569707804f
2025-07-19 20:20:26,351 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:26,778 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:27,230 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:29,962 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Companies Overview\n\nThe following companies are highlighted based on their performance and strategic initiatives:\n\n- **Company Performance**:\n  - **Revenue Growth**: Significant increases in revenue, with a rise from $2.1M in Q3 2024 to $2.8M in Q4 2024.\n  - **Customer Satisfaction**: Improvement in customer satisfaction scores from 4.2/5 to 4.6/5.\n  - **Market Expansion**: Successful entry into new geographic markets, increasing market share from 12% to 15%.\n\n### Strategic Initiatives\n\n- **Digital Transformation**: Implementation of new CRM and analytics platforms to enhance operational efficiency and customer engagement.\n  \n- **Market Expansion**: Plans to enter three new geographic markets to broaden the customer base and increase revenue streams.\n  \n- **Product Development**: Launching two new product lines to meet evolving customer needs and drive sales growth.\n\n### Additional Information\n\nThe companies are committed to **innovation**, **customer excellence**, and **sustainable business practices**, positioning them well for continued growth in the future. Their focus on key performance indicators and strategic initiatives reflects a proactive approach to business development and customer satisfaction. \n\nThis comprehensive overview encapsulates the essential aspects of the companies' performance and strategic direction."
2025-07-19 20:20:29,962 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are highlighted based on their performance and strategic initiatives:

- **Company Performance**:
  - **Revenue Growth**: Significant increases in revenue, with a rise from $2.1M in Q3 2024 to $2.8M in Q4 2024.
  - **Customer Satisfaction**: Improvement in customer satisfaction scores from 4.2/5 to 4.6/5.
  - **Market Expansion**: Successful entry into new geographic markets, increasing market share from 12% to 15%.

### Strategic Initiatives

- **Digital Transformation**: Implementation of new CRM and analytics platforms to enhance operational efficiency and customer engagement.
  
- **Market Expansion**: Plans to enter three new geographic markets to broaden the customer base and increase revenue streams.
  
- **Product Development**: Launching two new product lines to meet evolving customer needs and drive sales growth.

### Additional Information

The companies are committed to **innovation**, **customer excellence**, and **sustainable business practices**, positioning them well for continued growth in the future. Their focus on key performance indicators and strategic initiatives reflects a proactive approach to business development and customer satisfaction. 

This comprehensive overview encapsulates the essential aspects of the companies' performance and strategic direction.
2025-07-19 20:20:29,964 — INFO — app — [STREAM] Completed streaming. Clean text for history: 1287 chars
2025-07-19 20:20:29,965 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:20:29,985 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:20:29,986 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: 266d1a01-300e-454e-a685-8e6f9969f1aa
2025-07-19 20:20:29,988 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:20:29,989 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:20:29,989 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:20:29,990 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:30,081 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:20:30,492 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:20:31,119 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:20:31,416 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:20:31,922 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:32,510 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:20:32,513 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:20:32,513 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:20:33,088 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:20:33,338 — INFO — retriever — [RETRIEVER] Initialized BM25 with 538 documents
2025-07-19 20:20:33,339 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:20:33,339 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source_page": 1,
  "source_type": "xlsx",
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "created_time": 1752893064.69696
}
2025-07-19 20:20:33,341 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:20:33,342 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:20:33,422 — INFO — app — [MEMORY] Created new history for session 266d1a01-300e-454e-a685-8e6f9969f1aa
2025-07-19 20:20:33,850 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:20:34,310 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:20:34,685 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:20:34,726 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:20:34,726 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:20:34,727 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:20:34,728 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:34:54,321 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:34:54,332 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: b6e2bf36-494c-4d5a-a671-f1f0552c68fe
2025-07-19 20:34:54,334 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:34:54,335 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:34:54,335 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:34:54,335 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:34:54,442 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:34:55,008 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:34:55,605 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:34:55,923 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:34:56,705 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:34:57,304 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:34:57,307 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:34:57,308 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:34:57,808 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:34:57,985 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:34:57,986 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:34:57,986 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "source_page": 1,
  "content_type": "unstructured_text",
  "total_elements": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime_type": "application/octet-stream",
  "chunk_index": 0,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "source_type": "xlsx",
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "llm_enrichment": "disabled"
}
2025-07-19 20:34:57,988 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:34:57,988 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:34:58,084 — INFO — app — [MEMORY] Created new history for session b6e2bf36-494c-4d5a-a671-f1f0552c68fe
2025-07-19 20:34:58,644 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:34:59,298 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:00,011 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:00,699 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:35:00,699 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:35:00,700 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:35:00,702 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:00,721 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:00,722 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: 03bd12fa-1f8c-46c7-bd76-e620bb9a5d63
2025-07-19 20:35:00,724 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:00,725 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:00,726 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:00,727 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:00,825 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:01,425 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:01,953 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:02,257 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:02,927 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:03,516 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:03,518 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:03,519 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:04,008 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:04,312 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:04,314 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:04,315 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "event_id": 693,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:35:04,318 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:04,319 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:04,442 — INFO — app — [MEMORY] Created new history for session 03bd12fa-1f8c-46c7-bd76-e620bb9a5d63
2025-07-19 20:35:04,906 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:05,811 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:06,427 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:07,974 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]'
2025-07-19 20:35:07,975 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]
2025-07-19 20:35:07,977 — INFO — app — [STREAM] Completed streaming. Clean text for history: 590 chars
2025-07-19 20:35:07,980 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:25,921 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:25,923 — INFO — app — [API] Received question: What detailed information is available about companies in different industries?, company_id: 3, bot_id: 1, session_id: 94b0731f-502a-455f-b588-c70190d1dc19
2025-07-19 20:35:25,925 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:25,926 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:25,926 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:25,926 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:26,043 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:26,682 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:27,172 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:27,514 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:28,107 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:28,539 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:28,542 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:28,543 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:29,094 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:29,231 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:29,232 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:29,233 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "total_elements": 1,
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "created_time": 1752893064.69696,
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "event_id": 693,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity",
  "mime_type": "application/octet-stream",
  "source_page": 1
}
2025-07-19 20:35:29,235 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:29,235 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:29,348 — INFO — app — [MEMORY] Created new history for session 94b0731f-502a-455f-b588-c70190d1dc19
2025-07-19 20:35:29,937 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:30,375 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:31,003 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:33,397 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Company Information by Industry\n\n- **Technology**\n  - **Company**: TechCorp\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n- **Healthcare**\n  - **Company**: DataSys\n  - **Annual Revenue**: $12,000,000\n  - **Contract Value**: $340,000\n\n- **Finance**\n  - **Company**: CloudCo\n  - **Annual Revenue**: $8,500,000\n  - **Contract Value**: $180,000\n\n- **Manufacturing**\n  - **Company**: InnovateLab\n  - **Annual Revenue**: $3,200,000\n  - **Contract Value**: $95,000\n\n- **Retail**\n  - **Company**: DigitalPro\n  - **Annual Revenue**: $7,800,000\n  - **Contract Value**: $220,000\n\n### Additional Information\n\nThis information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 20:35:33,398 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Company Information by Industry

- **Technology**
  - **Company**: TechCorp
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

- **Healthcare**
  - **Company**: DataSys
  - **Annual Revenue**: $12,000,000
  - **Contract Value**: $340,000

- **Finance**
  - **Company**: CloudCo
  - **Annual Revenue**: $8,500,000
  - **Contract Value**: $180,000

- **Manufacturing**
  - **Company**: InnovateLab
  - **Annual Revenue**: $3,200,000
  - **Contract Value**: $95,000

- **Retail**
  - **Company**: DigitalPro
  - **Annual Revenue**: $7,800,000
  - **Contract Value**: $220,000

### Additional Information

This information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. 

[source: sample_excel.xlsx#3]
2025-07-19 20:35:33,399 — INFO — app — [STREAM] Completed streaming. Clean text for history: 759 chars
2025-07-19 20:35:33,400 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:33,432 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:33,434 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: fbaa61e1-6849-4561-a07b-cec6895853e2
2025-07-19 20:35:33,435 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:33,435 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:33,436 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:33,436 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:33,661 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:34,127 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:34,566 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:34,873 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:35,999 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:36,608 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:36,609 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:36,610 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:37,135 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:37,293 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:37,294 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:37,294 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "chunk_index": 0,
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structure_type": "sheet_header",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled"
}
2025-07-19 20:35:37,297 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:37,297 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:37,397 — INFO — app — [MEMORY] Created new history for session fbaa61e1-6849-4561-a07b-cec6895853e2
2025-07-19 20:35:37,793 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:38,291 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:38,799 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:39,439 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:35:39,440 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:35:39,441 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:35:39,443 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:39,461 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:39,462 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: 33dddff0-9cc8-49f6-bf42-c7da821a727d
2025-07-19 20:35:39,464 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:39,465 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:39,465 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:39,465 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:39,549 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:39,977 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:40,422 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:40,710 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:41,209 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:41,696 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:41,698 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:41,699 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:42,203 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:42,559 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:42,560 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:42,561 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "element_types": "sheet_header",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "company_id": 3,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "mime_type": "application/octet-stream",
  "content_type": "unstructured_text",
  "modified_time": 1752893064.69696,
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "structural_density": 0.508,
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:35:42,567 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:42,567 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:42,694 — INFO — app — [MEMORY] Created new history for session 33dddff0-9cc8-49f6-bf42-c7da821a727d
2025-07-19 20:35:42,973 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:43,752 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:44,192 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:45,559 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]'
2025-07-19 20:35:45,560 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]
2025-07-19 20:35:45,561 — INFO — app — [STREAM] Completed streaming. Clean text for history: 590 chars
2025-07-19 20:35:45,563 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:45,588 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:45,590 — INFO — app — [API] Received question: What industries are in the system?, company_id: 3, bot_id: 1, session_id: fd856992-3e03-4bae-8d32-2830c4f72418
2025-07-19 20:35:45,591 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:45,592 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:45,592 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:45,592 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:45,697 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:46,159 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:46,596 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:46,912 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:47,497 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:48,096 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:48,104 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:48,105 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:48,647 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:48,880 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:48,880 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:48,881 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction",
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx"
}
2025-07-19 20:35:48,883 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:48,884 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:49,006 — INFO — app — [MEMORY] Created new history for session fd856992-3e03-4bae-8d32-2830c4f72418
2025-07-19 20:35:49,371 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:49,911 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:50,422 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:35:50,478 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:35:50,479 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:35:50,479 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:35:50,480 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:35:50,575 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:35:50,577 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 36785739-14dc-44c6-ba1a-ae805f69c631
2025-07-19 20:35:50,579 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:35:50,579 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:35:50,579 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:35:50,580 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:50,695 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:35:51,133 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:35:51,541 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:35:51,827 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:35:52,300 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:52,900 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:35:52,902 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:35:52,903 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:35:53,581 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:35:53,744 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:35:53,744 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:35:53,745 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_type": "xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "element_types": "sheet_header"
}
2025-07-19 20:35:53,747 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:35:53,747 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:35:53,850 — INFO — app — [MEMORY] Created new history for session 36785739-14dc-44c6-ba1a-ae805f69c631
2025-07-19 20:35:54,356 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:35:55,032 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:35:55,536 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:00,717 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese locations provide services across various areas, ensuring accessibility for patients in the region. Each office is equipped to handle both new and existing patients. \n\n[source: sample_pdf.pdf#0]'
2025-07-19 20:36:00,718 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These locations provide services across various areas, ensuring accessibility for patients in the region. Each office is equipped to handle both new and existing patients. 

[source: sample_pdf.pdf#0]
2025-07-19 20:36:00,720 — INFO — app — [STREAM] Completed streaming. Clean text for history: 709 chars
2025-07-19 20:36:00,722 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:36:00,740 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:36:00,742 — INFO — app — [API] Received question: Which industry has the highest revenue?, company_id: 3, bot_id: 1, session_id: f173777e-0f6f-4e68-b890-ff567e9ff4ca
2025-07-19 20:36:00,743 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:36:00,743 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:36:00,744 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:36:00,744 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:00,826 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:36:01,207 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:36:01,596 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:36:01,916 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:36:02,695 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:03,199 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:03,201 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:36:03,201 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:36:03,713 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:36:04,021 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:36:04,023 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:36:04,023 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "event_id": 693,
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1
}
2025-07-19 20:36:04,026 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:36:04,027 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:04,165 — INFO — app — [MEMORY] Created new history for session f173777e-0f6f-4e68-b890-ff567e9ff4ca
2025-07-19 20:36:04,501 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:36:05,029 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:36:05,557 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:06,120 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industry with Highest Revenue\n\n- **Healthcare**: $12,000,000\n\n### Additional Information\n\nThe healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]'
2025-07-19 20:36:06,121 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industry with Highest Revenue

- **Healthcare**: $12,000,000

### Additional Information

The healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]
2025-07-19 20:36:06,122 — INFO — app — [STREAM] Completed streaming. Clean text for history: 222 chars
2025-07-19 20:36:06,125 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:36:06,151 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:36:06,152 — INFO — app — [API] Received question: What companies are available in the system?, company_id: 3, bot_id: 1, session_id: 87501269-ef3a-4df8-a0c1-a338bacca3a8
2025-07-19 20:36:06,153 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:36:06,154 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:36:06,154 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:36:06,155 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:06,273 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:36:06,735 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:36:07,247 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:36:07,523 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:36:08,104 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:08,817 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:08,820 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:36:08,821 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:36:09,481 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:36:09,609 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:36:09,610 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:36:09,610 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity"
}
2025-07-19 20:36:09,612 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:36:09,612 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:09,698 — INFO — app — [MEMORY] Created new history for session 87501269-ef3a-4df8-a0c1-a338bacca3a8
2025-07-19 20:36:10,010 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:36:10,481 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:36:11,516 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:13,079 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Accepted Insurance Providers\n\nThe following insurance providers are accepted:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThis list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of coverage options for clients, including military personnel and their families. The repeated mention of these providers emphasizes their importance in the context of the document. \n\n[source: sample_pdf.pdf#2]'
2025-07-19 20:36:13,082 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Accepted Insurance Providers

The following insurance providers are accepted:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

This list indicates a comprehensive acceptance of these insurance providers for services, ensuring a variety of coverage options for clients, including military personnel and their families. The repeated mention of these providers emphasizes their importance in the context of the document. 

[source: sample_pdf.pdf#2]
2025-07-19 20:36:13,084 — INFO — app — [STREAM] Completed streaming. Clean text for history: 651 chars
2025-07-19 20:36:13,086 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:36:13,126 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:36:13,127 — INFO — app — [API] Received question: What information is available about individual backgrounds or qualifications?, company_id: 3, bot_id: 1, session_id: 72778a16-6a22-4b59-a5cd-67a17057af44
2025-07-19 20:36:13,135 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:36:13,135 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:36:13,136 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:36:13,136 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:13,253 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:36:13,681 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:36:14,111 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:36:14,364 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:36:14,933 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:15,895 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:15,898 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:36:15,898 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:36:16,473 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:36:16,626 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:36:16,627 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:36:16,627 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "structural_density": 0.508,
  "total_elements": 1,
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0
}
2025-07-19 20:36:16,630 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:36:16,630 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:16,763 — INFO — app — [MEMORY] Created new history for session 72778a16-6a22-4b59-a5cd-67a17057af44
2025-07-19 20:36:17,237 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:36:17,718 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:36:18,638 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:18,654 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:36:18,655 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:36:18,656 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:36:18,658 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:36:18,696 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:36:18,697 — INFO — app — [API] Received question: Provide a comprehensive analysis of all companies, including their industries, revenue information, and key details, company_id: 3, bot_id: 1, session_id: ca6abbf6-b769-4729-b26e-bf73956be17f
2025-07-19 20:36:18,698 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:36:18,699 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:36:18,699 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:36:18,700 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:18,829 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:36:19,266 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:36:19,751 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:36:20,041 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:36:20,498 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:20,906 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:20,908 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:36:20,910 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:36:21,428 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:36:21,748 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:36:21,748 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:36:21,748 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "file_size": 9767,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime_type": "application/octet-stream",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "modified_time": 1752893064.69696,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "llm_enrichment_mode": "disabled",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "structural_density": 0.508
}
2025-07-19 20:36:21,752 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:36:21,752 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:21,878 — INFO — app — [MEMORY] Created new history for session ca6abbf6-b769-4729-b26e-bf73956be17f
2025-07-19 20:36:22,251 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:36:22,732 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:36:23,292 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:23,335 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:36:23,336 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:36:23,336 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:36:23,337 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:36:23,372 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:36:23,373 — INFO — app — [API] Received question: Test system operation, company_id: 3, bot_id: 1, session_id: c39582c4-233a-4a53-833c-75c3a7b0d0be
2025-07-19 20:36:23,375 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:36:23,375 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:36:23,375 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:36:23,375 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:23,475 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:36:23,891 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:36:24,308 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:36:24,646 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:36:25,199 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:25,923 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:36:25,925 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:36:25,926 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:36:26,406 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:36:26,715 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:36:26,716 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:36:26,717 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "structural_density": 0.508,
  "llm_enrichment": "disabled",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "source_page": 1,
  "bot_id": 1,
  "processing_strategy": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "company_id": 3,
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:36:26,723 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:36:26,724 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:36:26,964 — INFO — app — [MEMORY] Created new history for session c39582c4-233a-4a53-833c-75c3a7b0d0be
2025-07-19 20:36:27,334 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:36:27,926 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:36:28,417 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:36:28,647 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:36:28,648 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:36:28,648 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:36:28,650 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:39:41,634 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:39:41,635 — INFO — app — [API] Received question: What detailed information is available about companies in different industries?, company_id: 3, bot_id: 1, session_id: 05435bd9-8516-413f-b06d-b2af961e68b3
2025-07-19 20:39:41,635 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:39:41,636 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:39:41,636 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:39:41,636 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:41,701 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:39:42,185 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:39:42,751 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:39:43,070 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:39:43,602 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:44,196 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:44,197 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:39:44,197 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:39:44,831 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:39:45,088 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:39:45,089 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:39:45,090 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_index": 0,
  "source_type": "xlsx",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "element_types": "sheet_header",
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "event_id": 693
}
2025-07-19 20:39:45,093 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:39:45,093 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:45,155 — INFO — app — [MEMORY] Created new history for session 05435bd9-8516-413f-b06d-b2af961e68b3
2025-07-19 20:39:45,895 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:39:46,501 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:39:46,958 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:39:49,450 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Company Information by Industry\n\n- **Technology**\n  - **Company**: TechCorp\n  - **Annual Revenue**: $5,000,000\n  - **Contract Value**: $125,000\n\n- **Healthcare**\n  - **Company**: DataSys\n  - **Annual Revenue**: $12,000,000\n  - **Contract Value**: $340,000\n\n- **Finance**\n  - **Company**: CloudCo\n  - **Annual Revenue**: $8,500,000\n  - **Contract Value**: $180,000\n\n- **Manufacturing**\n  - **Company**: InnovateLab\n  - **Annual Revenue**: $3,200,000\n  - **Contract Value**: $95,000\n\n- **Retail**\n  - **Company**: DigitalPro\n  - **Annual Revenue**: $7,800,000\n  - **Contract Value**: $220,000\n\n### Additional Information\n\nThis information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. \n\n[source: sample_excel.xlsx#3]'
2025-07-19 20:39:49,450 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Company Information by Industry

- **Technology**
  - **Company**: TechCorp
  - **Annual Revenue**: $5,000,000
  - **Contract Value**: $125,000

- **Healthcare**
  - **Company**: DataSys
  - **Annual Revenue**: $12,000,000
  - **Contract Value**: $340,000

- **Finance**
  - **Company**: CloudCo
  - **Annual Revenue**: $8,500,000
  - **Contract Value**: $180,000

- **Manufacturing**
  - **Company**: InnovateLab
  - **Annual Revenue**: $3,200,000
  - **Contract Value**: $95,000

- **Retail**
  - **Company**: DigitalPro
  - **Annual Revenue**: $7,800,000
  - **Contract Value**: $220,000

### Additional Information

This information provides a snapshot of various companies across different industries, highlighting their annual revenues and contract values. The data can be useful for market analysis and understanding industry trends. 

[source: sample_excel.xlsx#3]
2025-07-19 20:39:49,452 — INFO — app — [STREAM] Completed streaming. Clean text for history: 759 chars
2025-07-19 20:39:49,453 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:39:49,477 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:39:49,477 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: bbda233b-7342-451d-b344-52b022bd1da3
2025-07-19 20:39:49,479 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:39:49,479 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:39:49,479 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:39:49,480 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:49,558 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:39:50,013 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:39:50,402 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:39:50,685 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:39:51,293 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:51,705 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:51,707 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:39:51,708 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:39:52,321 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:39:52,466 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:39:52,467 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:39:52,467 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "event_id": 693,
  "modified_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structural_density": 0.508
}
2025-07-19 20:39:52,469 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:39:52,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:52,529 — INFO — app — [MEMORY] Created new history for session bbda233b-7342-451d-b344-52b022bd1da3
2025-07-19 20:39:53,171 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:39:53,715 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:39:54,165 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:39:54,812 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:39:54,812 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:39:54,813 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:39:54,814 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:39:54,830 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:39:54,831 — INFO — app — [API] Received question: List companies with their industry and revenue information, company_id: 3, bot_id: 1, session_id: 1530221b-d496-4e3b-bd20-e80f2d8ee173
2025-07-19 20:39:54,832 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:39:54,832 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:39:54,833 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:39:54,833 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:54,884 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:39:55,347 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:39:55,787 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:39:56,159 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:39:56,896 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:57,409 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:39:57,411 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:39:57,411 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:39:57,907 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:39:58,026 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:39:58,026 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:39:58,026 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "llm_processing": "llm_disabled_for_data_integrity",
  "company_id": 3,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_type": "xlsx",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "element_types": "sheet_header",
  "source_page": 1
}
2025-07-19 20:39:58,028 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:39:58,028 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:39:58,080 — INFO — app — [MEMORY] Created new history for session 1530221b-d496-4e3b-bd20-e80f2d8ee173
2025-07-19 20:39:58,577 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:39:59,130 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:39:59,705 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:01,299 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies with Industry and Revenue Information\n\n- **TechCorp**\n  - Industry: Technology\n  - Annual Revenue: $5,000,000\n\n- **DataSys**\n  - Industry: Healthcare\n  - Annual Revenue: $12,000,000\n\n- **CloudCo**\n  - Industry: Finance\n  - Annual Revenue: $8,500,000\n\n- **InnovateLab**\n  - Industry: Manufacturing\n  - Annual Revenue: $3,200,000\n\n- **DigitalPro**\n  - Industry: Retail\n  - Annual Revenue: $7,800,000\n\n### Additional Information\n\nThis list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]'
2025-07-19 20:40:01,299 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies with Industry and Revenue Information

- **TechCorp**
  - Industry: Technology
  - Annual Revenue: $5,000,000

- **DataSys**
  - Industry: Healthcare
  - Annual Revenue: $12,000,000

- **CloudCo**
  - Industry: Finance
  - Annual Revenue: $8,500,000

- **InnovateLab**
  - Industry: Manufacturing
  - Annual Revenue: $3,200,000

- **DigitalPro**
  - Industry: Retail
  - Annual Revenue: $7,800,000

### Additional Information

This list provides a clear overview of the companies, their respective industries, and annual revenue figures, which can be useful for analysis and decision-making. [source: sample_excel.xlsx#3]
2025-07-19 20:40:01,300 — INFO — app — [STREAM] Completed streaming. Clean text for history: 590 chars
2025-07-19 20:40:01,301 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_powerpoint.pptx', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:01,319 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:01,319 — INFO — app — [API] Received question: What industries are in the system?, company_id: 3, bot_id: 1, session_id: 14359417-59a9-4132-a91c-78836a7ba34d
2025-07-19 20:40:01,320 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:01,320 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:01,321 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:01,321 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:01,382 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:01,769 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:02,163 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:02,458 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:03,002 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:03,414 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:03,416 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:03,417 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:03,902 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:04,132 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:04,133 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:04,133 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "element_types": "sheet_header",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment": "disabled",
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "event_id": 693,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:40:04,134 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:04,134 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:04,192 — INFO — app — [MEMORY] Created new history for session 14359417-59a9-4132-a91c-78836a7ba34d
2025-07-19 20:40:04,712 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:05,300 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:05,865 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:05,924 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:40:05,925 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:40:05,925 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:40:05,927 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:05,935 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:05,935 — INFO — app — [API] Received question: What office locations are available?, company_id: 3, bot_id: 1, session_id: 1b53fe17-835e-4326-a0f5-f3f0c2e7890d
2025-07-19 20:40:05,936 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:05,936 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:05,936 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:05,936 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:05,986 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:06,350 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:06,746 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:07,122 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:08,099 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:09,320 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:09,323 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:09,323 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:09,845 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:10,025 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:10,025 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:10,026 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_processing": "llm_disabled_for_data_integrity",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "structure_type": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "total_elements": 1,
  "company_id": 3,
  "timestamp": "2025-07-19T02:44:25.142030",
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "llm_enrichment_mode": "disabled",
  "structural_density": 0.508,
  "bot_id": 1,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:40:10,029 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:10,029 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:10,118 — INFO — app — [MEMORY] Created new history for session 1b53fe17-835e-4326-a0f5-f3f0c2e7890d
2025-07-19 20:40:10,585 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:11,139 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:11,880 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:14,154 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Locations\n\n1. **Gallatin Office**\n   - Address: 1710 Nashville Pike, Gallatin, TN 37066\n\n2. **Belle Meade Office**\n   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205\n\n3. **Berry Farms Office**\n   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064\n\n4. **Brentwood Office**\n   - Address: 7004 Moores Ln, Brentwood, TN 37027\n\n5. **Columbia Office**\n   - Address: 1501 Nashville Hwy, Columbia, TN 38401\n\n6. **Nolensville Office**\n   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135\n\n### Additional Information\n\nThese locations provide services across various areas, ensuring accessibility for patients in the region. Each office is equipped to handle both new and existing patients. \n\n[source: sample_pdf.pdf#0]'
2025-07-19 20:40:14,154 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Locations

1. **Gallatin Office**
   - Address: 1710 Nashville Pike, Gallatin, TN 37066

2. **Belle Meade Office**
   - Address: 4525 Harding Pike, Suite 110, Nashville, TN 37205

3. **Berry Farms Office**
   - Address: 7020 Berry Farms Crossing, Suite 200, Franklin, TN 37064

4. **Brentwood Office**
   - Address: 7004 Moores Ln, Brentwood, TN 37027

5. **Columbia Office**
   - Address: 1501 Nashville Hwy, Columbia, TN 38401

6. **Nolensville Office**
   - Address: 7146 Nolensville Rd, Suite 101, Nolensville, TN 37135

### Additional Information

These locations provide services across various areas, ensuring accessibility for patients in the region. Each office is equipped to handle both new and existing patients. 

[source: sample_pdf.pdf#0]
2025-07-19 20:40:14,156 — INFO — app — [STREAM] Completed streaming. Clean text for history: 709 chars
2025-07-19 20:40:14,158 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:14,179 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:14,180 — INFO — app — [API] Received question: Which industry has the highest revenue?, company_id: 3, bot_id: 1, session_id: f7cd2fdc-61cf-465f-b172-c728ca63dfa1
2025-07-19 20:40:14,181 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:14,182 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:14,182 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:14,182 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:14,272 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:14,730 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:15,138 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:15,416 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:16,302 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:16,742 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:16,746 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:16,747 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:17,207 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:17,332 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:17,332 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:17,333 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structural_density": 0.508,
  "file_size": 9767,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "preservation_reason": "structured_data_integrity",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "element_types": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "created_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structure_type": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "event_id": 693
}
2025-07-19 20:40:17,334 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:17,334 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:17,401 — INFO — app — [MEMORY] Created new history for session f7cd2fdc-61cf-465f-b172-c728ca63dfa1
2025-07-19 20:40:17,921 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:18,432 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:18,919 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:19,530 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industry with Highest Revenue\n\n- **Healthcare**: $12,000,000\n\n### Additional Information\n\nThe healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]'
2025-07-19 20:40:19,531 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industry with Highest Revenue

- **Healthcare**: $12,000,000

### Additional Information

The healthcare industry, represented by DataSys, has the highest annual revenue among the listed companies. [source: sample_excel.xlsx#3]
2025-07-19 20:40:19,531 — INFO — app — [STREAM] Completed streaming. Clean text for history: 222 chars
2025-07-19 20:40:19,533 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:19,562 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:19,563 — INFO — app — [API] Received question: What companies are available in the system?, company_id: 3, bot_id: 1, session_id: eb901923-4de6-408b-8b2c-dc994a49f8d6
2025-07-19 20:40:19,565 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:19,565 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:19,566 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:19,566 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:19,646 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:20,050 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:20,430 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:20,858 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:21,401 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:21,994 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:21,996 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:21,997 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:22,500 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:22,635 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:22,635 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:22,636 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "file_size": 9767,
  "structural_density": 0.508,
  "source_page": 1,
  "llm_processing": "llm_disabled_for_data_integrity",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "company_id": 3,
  "element_types": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "total_elements": 1
}
2025-07-19 20:40:22,638 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:22,639 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:22,723 — INFO — app — [MEMORY] Created new history for session eb901923-4de6-408b-8b2c-dc994a49f8d6
2025-07-19 20:40:23,054 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:23,551 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:24,042 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:25,356 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Accepted Insurance Providers\n\nThe following insurance providers are accepted:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThis list indicates a comprehensive acceptance of these insurance providers for services, ensuring a wide range of options for clients seeking coverage. The inclusion of both military and civilian healthcare plans highlights the focus on serving diverse needs. \n\n[source: sample_pdf.pdf#2]'
2025-07-19 20:40:25,356 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Accepted Insurance Providers

The following insurance providers are accepted:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

This list indicates a comprehensive acceptance of these insurance providers for services, ensuring a wide range of options for clients seeking coverage. The inclusion of both military and civilian healthcare plans highlights the focus on serving diverse needs. 

[source: sample_pdf.pdf#2]
2025-07-19 20:40:25,358 — INFO — app — [STREAM] Completed streaming. Clean text for history: 621 chars
2025-07-19 20:40:25,360 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:25,392 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:25,395 — INFO — app — [API] Received question: What information is available about individual backgrounds or qualifications?, company_id: 3, bot_id: 1, session_id: 8a262dab-7f0d-40a5-8544-5cc735e802c2
2025-07-19 20:40:25,396 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:25,396 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:25,397 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:25,397 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:25,490 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:25,955 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:26,360 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:26,727 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:27,344 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:27,806 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:27,809 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:27,810 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:28,363 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:28,493 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:28,494 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:28,495 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "source_type": "xlsx",
  "file_name": "Lucas Offices.xlsx",
  "company_id": 3,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "element_types": "sheet_header",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "event_id": 693,
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "llm_enrichment_mode": "disabled",
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "total_elements": 1,
  "file_size": 9767,
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity"
}
2025-07-19 20:40:28,496 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:28,496 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:28,586 — INFO — app — [MEMORY] Created new history for session 8a262dab-7f0d-40a5-8544-5cc735e802c2
2025-07-19 20:40:28,947 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:29,598 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:30,176 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:30,209 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:40:30,210 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:40:30,210 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:40:30,211 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'School Schedule.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:30,234 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:30,235 — INFO — app — [API] Received question: Provide a comprehensive analysis of all companies, including their industries, revenue information, and key details, company_id: 3, bot_id: 1, session_id: b90fa940-20ab-4c05-b99a-c83fcb47d6a7
2025-07-19 20:40:30,236 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:30,236 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:30,236 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:30,236 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:30,305 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:30,822 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:31,235 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:31,529 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:32,101 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:32,691 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:32,694 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:32,694 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:33,280 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:33,384 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:33,385 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:33,385 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "file_size": 9767,
  "llm_processing": "llm_disabled_for_data_integrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "llm_enrichment": "disabled",
  "content_type": "unstructured_text",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_type": "direct_extraction",
  "file_name": "Lucas Offices.xlsx",
  "structure_type": "sheet_header",
  "processing_strategy": "direct_extraction",
  "total_elements": 1,
  "source_type": "xlsx",
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "mime_type": "application/octet-stream",
  "structural_density": 0.508,
  "event_id": 693,
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696
}
2025-07-19 20:40:33,387 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:33,387 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:33,470 — INFO — app — [MEMORY] Created new history for session b90fa940-20ab-4c05-b99a-c83fcb47d6a7
2025-07-19 20:40:33,896 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:34,427 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:34,875 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:34,927 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:40:34,928 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:40:34,928 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:40:34,929 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_powerpoint.pptx', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:34,952 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:34,952 — INFO — app — [API] Received question: Test system operation, company_id: 3, bot_id: 1, session_id: bfc0d29a-7f1c-4b1f-b43c-0b2b3f44e92c
2025-07-19 20:40:34,953 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:34,954 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:34,954 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:34,954 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:35,025 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:35,517 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:36,163 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:36,444 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:36,997 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:37,605 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:37,606 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:37,607 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:38,199 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:38,340 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:38,341 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:38,341 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_index": 0,
  "bot_id": 1,
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime_type": "application/octet-stream",
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "event_id": 693,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "element_types": "sheet_header",
  "modified_time": 1752893064.69696,
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "file_name": "Lucas Offices.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "preservation_reason": "structured_data_integrity",
  "file_size": 9767,
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:40:38,342 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:38,343 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:38,418 — INFO — app — [MEMORY] Created new history for session bfc0d29a-7f1c-4b1f-b43c-0b2b3f44e92c
2025-07-19 20:40:38,814 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:39,392 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:40,024 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:40,063 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:40:40,063 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:40:40,064 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:40:40,065 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:41,652 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:41,653 — INFO — app — [API] Received question: What are the different industries represented?, company_id: 3, bot_id: 1, session_id: 401df996-71fc-4860-8dde-d3e436048928
2025-07-19 20:40:41,655 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:41,656 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:41,656 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:41,656 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:41,763 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:42,226 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:42,775 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:43,113 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:43,593 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:44,198 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:44,199 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:44,199 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:44,709 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:44,836 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:44,837 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:44,837 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "modified_time": 1752893064.69696,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "mime_type": "application/octet-stream",
  "structure_type": "sheet_header",
  "event_id": 693,
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1,
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "company_id": 3,
  "element_types": "sheet_header",
  "content_type": "unstructured_text",
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "chunk_type": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696,
  "llm_enrichment_mode": "disabled",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:40:44,838 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:44,838 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:44,900 — INFO — app — [MEMORY] Created new history for session 401df996-71fc-4860-8dde-d3e436048928
2025-07-19 20:40:45,366 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:45,948 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:46,377 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:47,211 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries Represented\n\n- **Technology**\n- **Healthcare**\n- **Finance**\n- **Manufacturing**\n- **Retail**\n\n### Additional Information\n\nThese industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]'
2025-07-19 20:40:47,211 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries Represented

- **Technology**
- **Healthcare**
- **Finance**
- **Manufacturing**
- **Retail**

### Additional Information

These industries are associated with the respective companies listed in the customer data. Each industry reflects a different sector of the economy, showcasing a diverse range of business activities. [source: sample_excel.xlsx#3]
2025-07-19 20:40:47,212 — INFO — app — [STREAM] Completed streaming. Clean text for history: 341 chars
2025-07-19 20:40:47,214 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_pdf.pdf', 'sample_mixed.html', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:47,237 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:47,238 — INFO — app — [API] Received question: What companies are in the database?, company_id: 3, bot_id: 1, session_id: 67c68d2f-fea0-4317-b3b4-c8021c6acb4b
2025-07-19 20:40:47,240 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:47,240 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:47,240 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:47,240 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:47,312 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:47,748 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:48,139 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:48,392 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:49,052 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:49,715 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:49,717 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:49,717 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:50,278 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:50,384 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:50,385 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:50,385 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "total_elements": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "llm_processing": "llm_disabled_for_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "event_id": 693,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "created_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structural_density": 0.508,
  "file_size": 9767,
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "content_type": "unstructured_text",
  "element_types": "sheet_header"
}
2025-07-19 20:40:50,388 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:50,389 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:50,469 — INFO — app — [MEMORY] Created new history for session 67c68d2f-fea0-4317-b3b4-c8021c6acb4b
2025-07-19 20:40:50,740 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:51,310 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:51,840 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:40:52,508 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies in the Database\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:40:52,509 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies in the Database

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with differing annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:40:52,509 — INFO — app — [STREAM] Completed streaming. Clean text for history: 309 chars
2025-07-19 20:40:52,510 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'Lucas Offices.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_pdf.pdf', 'School Schedule.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:40:53,528 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:40:53,530 — INFO — app — [API] Received question: What are the office hours?, company_id: 3, bot_id: 1, session_id: 3d47aa20-6dff-4137-8e65-30b981637ef2
2025-07-19 20:40:53,533 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:40:53,534 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:40:53,536 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:40:53,537 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:53,638 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:40:54,173 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:40:54,586 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:40:54,889 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:40:55,627 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:56,399 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:40:56,401 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:40:56,402 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:40:56,894 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:40:56,995 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:40:56,995 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:40:56,996 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "company_id": 3,
  "content_type": "unstructured_text",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment": "disabled",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "total_elements": 1,
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_strategy": "direct_extraction",
  "source_type": "xlsx",
  "llm_enrichment_mode": "disabled",
  "file_size": 9767,
  "modified_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "created_time": 1752893064.69696,
  "source_page": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "bot_id": 1,
  "structural_density": 0.508,
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "event_id": 693
}
2025-07-19 20:40:56,997 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:40:56,997 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:40:57,063 — INFO — app — [MEMORY] Created new history for session 3d47aa20-6dff-4137-8e65-30b981637ef2
2025-07-19 20:40:57,496 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:40:57,934 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:40:58,413 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:00,156 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Office Hours\n\n**Monday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM (Every Other Monday)\n\n**Tuesday:**\n- 6:30 AM - 3:30 PM\n- 7:30 AM - 4:30 PM\n\n**Wednesday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Thursday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Friday:**\n- Hours Not Specified\n\n**Saturday:**\n- Hours Not Specified\n\n**Sunday:**\n- Hours Not Specified\n\n### Additional Information\n\nThe hours listed may vary by location; please confirm with the specific office for accurate timings. \n[source: sample_pdf.pdf#1]'
2025-07-19 20:41:00,157 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Office Hours

**Monday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM (Every Other Monday)

**Tuesday:**
- 6:30 AM - 3:30 PM
- 7:30 AM - 4:30 PM

**Wednesday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Thursday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Friday:**
- Hours Not Specified

**Saturday:**
- Hours Not Specified

**Sunday:**
- Hours Not Specified

### Additional Information

The hours listed may vary by location; please confirm with the specific office for accurate timings. 
[source: sample_pdf.pdf#1]
2025-07-19 20:41:00,158 — INFO — app — [STREAM] Completed streaming. Clean text for history: 479 chars
2025-07-19 20:41:00,162 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:00,186 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:00,187 — INFO — app — [API] Received question: List all industries with detailed information, company_id: 3, bot_id: 1, session_id: 51a65529-f43b-4d79-abf9-577baf9e08e7
2025-07-19 20:41:00,189 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:00,189 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:00,190 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:00,190 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:00,266 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:00,726 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:01,339 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:01,647 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:02,308 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:02,813 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:02,816 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:02,816 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:03,295 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:03,556 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:03,556 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:03,557 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "created_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "structure_type": "sheet_header",
  "timestamp": "2025-07-19T02:44:25.142030",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "total_elements": 1,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "mime_type": "application/octet-stream",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "structural_density": 0.508,
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "preservation_reason": "structured_data_integrity",
  "chunk_index": 0,
  "chunk_type": "direct_extraction",
  "source_page": 1,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:41:03,559 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:03,559 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:03,630 — INFO — app — [MEMORY] Created new history for session 51a65529-f43b-4d79-abf9-577baf9e08e7
2025-07-19 20:41:03,898 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:04,413 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:04,715 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:09,469 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Industries\n\n- **Technology**\n  - **Company:** TechCorp\n  - **Annual Revenue:** $5,000,000\n  - **Contract Value:** $125,000\n\n- **Healthcare**\n  - **Company:** DataSys\n  - **Annual Revenue:** $12,000,000\n  - **Contract Value:** $340,000\n\n- **Finance**\n  - **Company:** CloudCo\n  - **Annual Revenue:** $8,500,000\n  - **Contract Value:** $180,000\n\n- **Manufacturing**\n  - **Company:** InnovateLab\n  - **Annual Revenue:** $3,200,000\n  - **Contract Value:** $95,000\n\n- **Retail**\n  - **Company:** DigitalPro\n  - **Annual Revenue:** $7,800,000\n  - **Contract Value:** $220,000\n\n### Additional Information\n\nThis information summarizes the industries represented by the companies listed, along with their respective annual revenues and contract values. Each entry provides a clear view of the financial standing of the companies within their industries. [source: sample_excel.xlsx#3]'
2025-07-19 20:41:09,470 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Industries

- **Technology**
  - **Company:** TechCorp
  - **Annual Revenue:** $5,000,000
  - **Contract Value:** $125,000

- **Healthcare**
  - **Company:** DataSys
  - **Annual Revenue:** $12,000,000
  - **Contract Value:** $340,000

- **Finance**
  - **Company:** CloudCo
  - **Annual Revenue:** $8,500,000
  - **Contract Value:** $180,000

- **Manufacturing**
  - **Company:** InnovateLab
  - **Annual Revenue:** $3,200,000
  - **Contract Value:** $95,000

- **Retail**
  - **Company:** DigitalPro
  - **Annual Revenue:** $7,800,000
  - **Contract Value:** $220,000

### Additional Information

This information summarizes the industries represented by the companies listed, along with their respective annual revenues and contract values. Each entry provides a clear view of the financial standing of the companies within their industries. [source: sample_excel.xlsx#3]
2025-07-19 20:41:09,471 — INFO — app — [STREAM] Completed streaming. Clean text for history: 765 chars
2025-07-19 20:41:09,472 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'sample_text.txt', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:09,494 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:09,495 — INFO — app — [API] Received question: What companies are in the Technology industry and what are their details?, company_id: 3, bot_id: 1, session_id: 190b8087-2a9c-45d8-b36e-77236c0a29e7
2025-07-19 20:41:09,496 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:09,496 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:09,496 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:09,497 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:09,575 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:09,983 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:10,554 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:10,849 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:11,360 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:11,895 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:11,897 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:11,898 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:12,414 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:12,654 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:12,657 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:12,657 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "file_name": "Lucas Offices.xlsx",
  "source_type": "xlsx",
  "total_elements": 1,
  "source_page": 1,
  "modified_time": 1752893064.69696,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "structural_density": 0.508,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "timestamp": "2025-07-19T02:44:25.142030",
  "element_types": "sheet_header",
  "file_size": 9767
}
2025-07-19 20:41:12,659 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:12,660 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:12,743 — INFO — app — [MEMORY] Created new history for session 190b8087-2a9c-45d8-b36e-77236c0a29e7
2025-07-19 20:41:13,096 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:13,588 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:13,935 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:14,899 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Technology Industry Companies\n\n- **Customer ID:** CUST-001  \n  **Company:** TechCorp  \n  **Annual Revenue:** $5,000,000  \n  **Contract Value:** $125,000  \n\n### Additional Information\n\nTechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  \n[source: sample_excel.xlsx#3]'
2025-07-19 20:41:14,899 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Industry Companies

- **Customer ID:** CUST-001  
  **Company:** TechCorp  
  **Annual Revenue:** $5,000,000  
  **Contract Value:** $125,000  

### Additional Information

TechCorp is the only company listed in the Technology industry within the provided context. Its annual revenue and contract value indicate its operational scale and financial engagement.  
[source: sample_excel.xlsx#3]
2025-07-19 20:41:14,900 — INFO — app — [STREAM] Completed streaming. Clean text for history: 370 chars
2025-07-19 20:41:14,901 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_pdf.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'sample_mixed.html', 'sample_pdf.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:14,916 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:14,917 — INFO — app — [API] Received question: Which company specializes in healthcare technology?, company_id: 3, bot_id: 1, session_id: 799ed6b1-90f7-45ce-9cff-dda43eba4f1c
2025-07-19 20:41:14,920 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:14,920 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:14,920 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:14,921 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:14,997 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:15,495 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:15,915 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:16,197 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:16,695 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:17,296 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:17,300 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:17,301 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:17,890 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:18,050 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:18,051 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:18,051 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_processing": "llm_disabled_for_data_integrity",
  "file_name": "Lucas Offices.xlsx",
  "structural_density": 0.508,
  "source_type": "xlsx",
  "llm_enrichment": "disabled",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "structure_type": "sheet_header",
  "chunk_index": 0,
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "created_time": 1752893064.69696,
  "chunk_type": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "mime_type": "application/octet-stream",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "preservation_reason": "structured_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_size": 9767,
  "total_elements": 1,
  "content_type": "unstructured_text",
  "element_types": "sheet_header"
}
2025-07-19 20:41:18,054 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:18,054 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:18,124 — INFO — app — [MEMORY] Created new history for session 799ed6b1-90f7-45ce-9cff-dda43eba4f1c
2025-07-19 20:41:18,473 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:18,942 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:19,380 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:19,436 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:41:19,437 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:41:19,438 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:41:19,439 — INFO — app — [RETRIEVAL] Sources: ['sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:19,465 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:19,466 — INFO — app — [API] Received question: What is the future of artificial intelligence?, company_id: 3, bot_id: 1, session_id: cb976b71-9b50-4356-aaca-1bd084311542
2025-07-19 20:41:19,468 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:19,468 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:19,468 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:19,469 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:19,563 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:19,991 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:20,427 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:20,694 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:21,099 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:21,701 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:21,702 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:21,702 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:22,228 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:23,284 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:23,284 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:23,284 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "timestamp": "2025-07-19T02:44:25.142030",
  "modified_time": 1752893064.69696,
  "llm_enrichment": "disabled",
  "preservation_reason": "structured_data_integrity",
  "source_page": 1,
  "file_size": 9767,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "created_time": 1752893064.69696,
  "source_type": "xlsx",
  "processing_strategy": "direct_extraction",
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "llm_processing": "llm_disabled_for_data_integrity",
  "element_types": "sheet_header",
  "company_id": 3,
  "event_id": 693,
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "total_elements": 1,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "content_type": "unstructured_text",
  "file_name": "Lucas Offices.xlsx"
}
2025-07-19 20:41:23,285 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:23,286 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:23,467 — INFO — app — [MEMORY] Created new history for session cb976b71-9b50-4356-aaca-1bd084311542
2025-07-19 20:41:23,990 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:24,707 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:25,017 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:25,082 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:41:25,082 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:41:25,083 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:41:25,084 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:25,109 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:25,110 — INFO — app — [API] Received question: Describe the different companies and their business sectors, company_id: 3, bot_id: 1, session_id: 27fe97ed-8131-45e0-a775-8369f5839a07
2025-07-19 20:41:25,112 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:25,113 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:25,113 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:25,113 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:25,206 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:25,651 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:26,066 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:26,329 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:26,895 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:27,496 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:27,498 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:27,499 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:27,988 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:28,153 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:28,154 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:28,154 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment_mode": "disabled",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_size": 9767,
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "chunk_type": "direct_extraction",
  "processing_strategy": "direct_extraction",
  "content_type": "unstructured_text",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "event_id": 693,
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "bot_id": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "company_id": 3,
  "structure_type": "sheet_header",
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx"
}
2025-07-19 20:41:28,157 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:28,157 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:28,248 — INFO — app — [MEMORY] Created new history for session 27fe97ed-8131-45e0-a775-8369f5839a07
2025-07-19 20:41:28,802 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:29,302 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:29,761 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:29,832 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:41:29,832 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:41:29,832 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:41:29,833 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_pdf.pdf', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:29,861 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:29,862 — INFO — app — [API] Received question: What detailed information is available about TechCorp?, company_id: 3, bot_id: 1, session_id: e234f3fa-1480-4bb9-8984-2c702c0978b1
2025-07-19 20:41:29,864 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:29,864 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:29,865 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:29,865 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:29,947 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:30,364 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:30,830 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:31,118 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:31,698 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:32,425 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:32,428 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:32,428 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:32,893 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:33,038 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:33,039 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:33,039 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "chunk_index": 0,
  "company_id": 3,
  "source_type": "xlsx",
  "modified_time": 1752893064.69696,
  "processing_strategy": "direct_extraction",
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "llm_enrichment": "disabled",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "total_elements": 1,
  "llm_enrichment_mode": "disabled",
  "content_type": "unstructured_text",
  "event_id": 693,
  "structural_density": 0.508,
  "element_types": "sheet_header"
}
2025-07-19 20:41:33,040 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:33,041 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:33,117 — INFO — app — [MEMORY] Created new history for session e234f3fa-1480-4bb9-8984-2c702c0978b1
2025-07-19 20:41:33,386 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:34,210 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:34,616 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:34,680 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:41:34,680 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:41:34,680 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:41:34,682 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'Adobe Scan Jun 11, 2025.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:34,702 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:34,703 — INFO — app — [API] Received question: Analyze the technology companies in the database and their business focus areas, company_id: 3, bot_id: 1, session_id: e92bae9b-06a0-42ff-80e3-925c3da7f639
2025-07-19 20:41:34,704 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:34,704 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:34,704 — INFO — app — [BOT] Smart Complex → MultiQuery (comparative analysis detected)
2025-07-19 20:41:34,704 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:34,779 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:35,238 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:35,628 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:35,917 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:36,519 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:37,019 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:37,020 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:37,021 — INFO — retriever — [RETRIEVER] Using optimized MultiQueryRetriever for enhanced coverage
2025-07-19 20:41:37,021 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:37,610 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:37,734 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:37,735 — INFO — retriever — [RETRIEVER DEBUG] EmbeddingsFilter threshold set to 0.06999999999999999 (relaxed for complex queries)
2025-07-19 20:41:37,736 — INFO — retriever — [RETRIEVER] Full hybrid retriever with compression — k=6, threshold=0.1
2025-07-19 20:41:37,736 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "created_time": 1752893064.69696,
  "chunk_index": 0,
  "content_type": "unstructured_text",
  "structure_type": "sheet_header",
  "file_name": "Lucas Offices.xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "bot_id": 1,
  "element_types": "sheet_header",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "processing_strategy": "direct_extraction",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "modified_time": 1752893064.69696,
  "total_elements": 1,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "source_page": 1,
  "company_id": 3,
  "preservation_reason": "structured_data_integrity",
  "llm_enrichment": "disabled",
  "mime_type": "application/octet-stream",
  "file_size": 9767,
  "event_id": 693
}
2025-07-19 20:41:37,739 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:37,739 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:37,838 — INFO — app — [MEMORY] Created new history for session e92bae9b-06a0-42ff-80e3-925c3da7f639
2025-07-19 20:41:38,664 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:38,669 — INFO — langchain.retrievers.multi_query — Generated queries: ['1. Explore the database for technology companies and their primary areas of business specialization', '2. Investigate the business sectors of technology companies listed in the database']
2025-07-19 20:41:39,032 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:39,599 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:39,789 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:40,292 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:40,789 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:41,144 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:41,560 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:43,692 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"### Technology Companies Analysis\n\nThe database includes the following technology company:\n\n- **Company Name:** TechCorp\n- **Annual Revenue:** $5,000,000\n- **Contract Value:** $125,000\n\n### Business Focus Areas\n\n- **Industry:** Technology\n- **Key Offerings:** Likely involves software, hardware, or IT services, although specific products or services are not detailed in the provided context.\n\n### Additional Information\n\nTechCorp's position in the technology sector suggests a focus on innovation and customer engagement, aligning with the company's strategic initiatives for digital transformation and product development. However, further details on specific technologies or services offered by TechCorp are not available in the current context. \n\nI'm not sure."
2025-07-19 20:41:43,693 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Technology Companies Analysis

The database includes the following technology company:

- **Company Name:** TechCorp
- **Annual Revenue:** $5,000,000
- **Contract Value:** $125,000

### Business Focus Areas

- **Industry:** Technology
- **Key Offerings:** Likely involves software, hardware, or IT services, although specific products or services are not detailed in the provided context.

### Additional Information

TechCorp's position in the technology sector suggests a focus on innovation and customer engagement, aligning with the company's strategic initiatives for digital transformation and product development. However, further details on specific technologies or services offered by TechCorp are not available in the current context. 

I'm not sure.
2025-07-19 20:41:43,699 — INFO — app — [STREAM] Completed streaming. Clean text for history: 742 chars
2025-07-19 20:41:43,703 — INFO — app — [RETRIEVAL] Sources: ['sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_excel.xlsx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:43,734 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:43,734 — INFO — app — [API] Received question: What companies exist?, company_id: 3, bot_id: 1, session_id: 5484111b-3886-48ed-940b-05284d8e9114
2025-07-19 20:41:43,735 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:43,736 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:43,736 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:43,736 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:43,862 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:44,268 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:44,836 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:45,117 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:45,904 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:46,553 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:46,556 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:46,557 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:46,991 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:47,145 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:47,147 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:47,147 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "source_type": "xlsx",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "file_name": "Lucas Offices.xlsx",
  "content_type": "unstructured_text",
  "chunk_type": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "structure_type": "sheet_header",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "processing_strategy": "direct_extraction",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "chunk_index": 0,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "structural_density": 0.508,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "file_size": 9767,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542"
}
2025-07-19 20:41:47,151 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:47,152 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:47,240 — INFO — app — [MEMORY] Created new history for session 5484111b-3886-48ed-940b-05284d8e9114
2025-07-19 20:41:47,592 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:48,102 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:48,473 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:49,368 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies\n\n- **TechCorp**\n- **DataSys**\n- **CloudCo**\n- **InnovateLab**\n- **DigitalPro**\n\n### Additional Information\n\nThese companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]'
2025-07-19 20:41:49,368 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies

- **TechCorp**
- **DataSys**
- **CloudCo**
- **InnovateLab**
- **DigitalPro**

### Additional Information

These companies span various industries, including technology, healthcare, finance, manufacturing, and retail, with varying annual revenues and contract values. [source: sample_excel.xlsx#3]
2025-07-19 20:41:49,369 — INFO — app — [STREAM] Completed streaming. Clean text for history: 291 chars
2025-07-19 20:41:49,370 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'Lucas Offices.pdf', 'sample_mixed.html', 'sample_text.txt', 'sample_text.txt', 'sample_mixed.html', 'Lucas Offices.xlsx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:49,387 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:49,388 — INFO — app — [API] Received question: What are the business hours?, company_id: 3, bot_id: 1, session_id: 536f675c-fb49-4307-aeed-9cafa81dac38
2025-07-19 20:41:49,390 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:49,390 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:49,391 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:49,391 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:49,478 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:49,914 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:50,324 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:50,639 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:51,309 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:51,801 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:51,804 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:51,805 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:52,359 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:52,505 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:52,505 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:52,506 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "chunk_type": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "file_name": "Lucas Offices.xlsx",
  "bot_id": 1,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_enrichment": "disabled",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "event_id": 693,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "company_id": 3,
  "content_type": "unstructured_text",
  "file_size": 9767,
  "llm_enrichment_mode": "disabled",
  "modified_time": 1752893064.69696,
  "chunk_index": 0,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "source_page": 1,
  "total_elements": 1,
  "created_time": 1752893064.69696,
  "llm_processing": "llm_disabled_for_data_integrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:41:52,507 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:52,507 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:52,607 — INFO — app — [MEMORY] Created new history for session 536f675c-fb49-4307-aeed-9cafa81dac38
2025-07-19 20:41:52,946 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:41:53,421 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:41:54,097 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:41:56,543 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Business Hours\n\n**Monday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM (Every Other Monday)\n\n**Tuesday:**\n- 6:30 AM - 3:30 PM\n- 7:30 AM - 4:30 PM\n\n**Wednesday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Thursday:**\n- 7:00 AM - 4:00 PM\n- 7:30 AM - 4:30 PM\n\n**Friday:**\n- Hours Not Specified\n\n**Saturday:**\n- Hours Not Specified\n\n**Sunday:**\n- Hours Not Specified\n\n### Additional Information\n\nThis structured overview provides a clear understanding of the business hours for the various offices. Please note that specific hours may vary by location. [source: Lucas Offices.pdf#1]'
2025-07-19 20:41:56,543 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Business Hours

**Monday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM (Every Other Monday)

**Tuesday:**
- 6:30 AM - 3:30 PM
- 7:30 AM - 4:30 PM

**Wednesday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Thursday:**
- 7:00 AM - 4:00 PM
- 7:30 AM - 4:30 PM

**Friday:**
- Hours Not Specified

**Saturday:**
- Hours Not Specified

**Sunday:**
- Hours Not Specified

### Additional Information

This structured overview provides a clear understanding of the business hours for the various offices. Please note that specific hours may vary by location. [source: Lucas Offices.pdf#1]
2025-07-19 20:41:56,544 — INFO — app — [STREAM] Completed streaming. Clean text for history: 540 chars
2025-07-19 20:41:56,545 — INFO — app — [RETRIEVAL] Sources: ['Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'Lucas Offices.pdf', 'sample_pdf.pdf', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:41:56,555 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:41:56,555 — INFO — app — [API] Received question: List industries with details, company_id: 3, bot_id: 1, session_id: bc4a953c-dfff-4b75-a135-84a0b1544c23
2025-07-19 20:41:56,556 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:41:56,556 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:41:56,557 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:41:56,557 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:56,627 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:41:57,042 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:41:57,463 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:41:57,733 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:41:58,307 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:58,894 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:41:58,901 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:41:58,903 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:41:59,411 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:41:59,541 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:41:59,541 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:41:59,542 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "llm_enrichment": "disabled",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "element_types": "sheet_header",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "company_id": 3,
  "modified_time": 1752893064.69696,
  "source_type": "xlsx",
  "chunk_index": 0,
  "preservation_reason": "structured_data_integrity",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "structure_type": "sheet_header",
  "event_id": 693,
  "structural_density": 0.508,
  "content_type": "unstructured_text",
  "created_time": 1752893064.69696,
  "mime_type": "application/octet-stream",
  "processing_strategy": "direct_extraction",
  "llm_enrichment_mode": "disabled",
  "total_elements": 1,
  "file_size": 9767,
  "timestamp": "2025-07-19T02:44:25.142030",
  "llm_processing": "llm_disabled_for_data_integrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "bot_id": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_type": "direct_extraction",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "file_name": "Lucas Offices.xlsx",
  "source_page": 1
}
2025-07-19 20:41:59,544 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:41:59,544 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:41:59,616 — INFO — app — [MEMORY] Created new history for session bc4a953c-dfff-4b75-a135-84a0b1544c23
2025-07-19 20:41:59,907 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:00,490 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:00,910 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:00,988 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:42:00,988 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:42:00,989 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:42:00,990 — INFO — app — [RETRIEVAL] Sources: ['sample_table.csv', 'sample_mixed.html', 'School Schedule.pdf', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:42:01,004 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:42:01,005 — INFO — app — [API] Received question: Who has software development expertise?, company_id: 3, bot_id: 1, session_id: b016298a-797c-4327-9cff-ee07a4c9d696
2025-07-19 20:42:01,006 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:42:01,006 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:42:01,007 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:42:01,007 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:01,086 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:42:01,561 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:42:01,996 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:42:02,267 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:42:02,895 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:03,494 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:03,495 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:42:03,495 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:42:03,922 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:42:04,047 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:42:04,048 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:42:04,048 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_processing": "llm_disabled_for_data_integrity",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "company_id": 3,
  "chunk_type": "direct_extraction",
  "event_id": 693,
  "created_time": 1752893064.69696,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment_mode": "disabled",
  "source_type": "xlsx",
  "structure_type": "sheet_header",
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "content_type": "unstructured_text",
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "modified_time": 1752893064.69696,
  "file_size": 9767,
  "mime_type": "application/octet-stream",
  "element_types": "sheet_header",
  "structural_density": 0.508,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "file_name": "Lucas Offices.xlsx",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_index": 0,
  "source_page": 1,
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction"
}
2025-07-19 20:42:04,050 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:42:04,050 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:04,124 — INFO — app — [MEMORY] Created new history for session b016298a-797c-4327-9cff-ee07a4c9d696
2025-07-19 20:42:04,386 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:05,005 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:06,035 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:06,178 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:42:06,178 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:42:06,179 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:42:06,181 — INFO — app — [RETRIEVAL] Sources: ['sample_list.md', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_word.docx', 'sample_word.docx'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:42:06,203 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:42:06,205 — INFO — app — [API] Received question: Which person works at TechCorp?, company_id: 3, bot_id: 1, session_id: 1d415971-6017-43c6-98ec-f943a06fdf77
2025-07-19 20:42:06,206 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:42:06,206 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:42:06,206 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:42:06,206 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:06,286 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:42:06,919 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:42:07,445 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:42:07,754 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:42:08,411 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:09,095 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:09,098 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:42:09,100 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:42:09,741 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:42:09,969 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:42:09,969 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:42:09,969 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "event_id": 693,
  "processing_strategy": "direct_extraction",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "llm_enrichment_mode": "disabled",
  "company_id": 3,
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "timestamp": "2025-07-19T02:44:25.142030",
  "chunk_type": "direct_extraction",
  "modified_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "source_page": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "preservation_reason": "structured_data_integrity",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "chunk_index": 0,
  "structural_density": 0.508,
  "file_size": 9767,
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "mime_type": "application/octet-stream",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "created_time": 1752893064.69696
}
2025-07-19 20:42:09,971 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:42:09,972 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:10,053 — INFO — app — [MEMORY] Created new history for session 1d415971-6017-43c6-98ec-f943a06fdf77
2025-07-19 20:42:10,460 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:10,952 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:11,379 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:11,426 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:42:11,426 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:42:11,427 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:42:11,428 — INFO — app — [RETRIEVAL] Sources: ['sample_excel.xlsx', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf', 'Lucas Offices.pdf', 'School Schedule.pdf', 'Lucas Offices.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:42:11,444 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:42:11,445 — INFO — app — [API] Received question: What will happen tomorrow?, company_id: 3, bot_id: 1, session_id: 0648bf59-3821-4d57-b6ac-43c4497da68d
2025-07-19 20:42:11,446 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:42:11,447 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:42:11,447 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:42:11,447 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:11,534 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:42:11,931 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:42:12,328 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:42:12,598 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:42:13,099 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:13,708 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:13,710 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:42:13,710 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:42:14,214 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:42:14,558 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:42:14,560 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:42:14,560 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "mime_type": "application/octet-stream",
  "bot_id": 1,
  "element_types": "sheet_header",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "source_page": 1,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "timestamp": "2025-07-19T02:44:25.142030",
  "created_time": 1752893064.69696,
  "company_id": 3,
  "llm_enrichment_mode": "disabled",
  "chunk_type": "direct_extraction",
  "source_type": "xlsx",
  "file_size": 9767,
  "preservation_reason": "structured_data_integrity",
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_index": 0,
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "structure_type": "sheet_header",
  "content_type": "unstructured_text",
  "total_elements": 1,
  "file_name": "Lucas Offices.xlsx",
  "event_id": 693,
  "modified_time": 1752893064.69696
}
2025-07-19 20:42:14,563 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:42:14,564 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:14,648 — INFO — app — [MEMORY] Created new history for session 0648bf59-3821-4d57-b6ac-43c4497da68d
2025-07-19 20:42:14,965 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:15,885 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:16,394 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:16,448 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:42:16,449 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:42:16,450 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:42:16,452 — INFO — app — [RETRIEVAL] Sources: ['Adobe Scan Jun 11, 2025.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'School Schedule.pdf', 'sample_word.docx', 'Adobe Scan Jun 11, 2025.pdf', 'Adobe Scan Jun 11, 2025.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:42:16,472 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:42:16,473 — INFO — app — [API] Received question: Describe all companies comprehensively, company_id: 3, bot_id: 1, session_id: 8f14f31f-5c1b-41f5-81d5-46bd56aa31f3
2025-07-19 20:42:16,474 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:42:16,475 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:42:16,475 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:42:16,475 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:16,566 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:42:16,960 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:42:17,680 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:42:17,978 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:42:18,504 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:19,164 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:19,166 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:42:19,167 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:42:19,614 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:42:19,791 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:42:19,792 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:42:19,792 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "structure_type": "sheet_header",
  "created_time": 1752893064.69696,
  "element_types": "sheet_header",
  "source_page": 1,
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "llm_enrichment_mode": "disabled",
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "chunk_type": "direct_extraction",
  "content_type": "unstructured_text",
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "timestamp": "2025-07-19T02:44:25.142030",
  "total_elements": 1,
  "preservation_reason": "structured_data_integrity",
  "event_id": 693,
  "llm_processing": "llm_disabled_for_data_integrity",
  "structural_density": 0.508,
  "file_name": "Lucas Offices.xlsx",
  "chunk_index": 0,
  "source_type": "xlsx",
  "file_size": 9767,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "bot_id": 1,
  "llm_enrichment": "disabled",
  "processing_strategy": "direct_extraction",
  "company_id": 3,
  "mime_type": "application/octet-stream"
}
2025-07-19 20:42:19,794 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:42:19,795 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:19,863 — INFO — app — [MEMORY] Created new history for session 8f14f31f-5c1b-41f5-81d5-46bd56aa31f3
2025-07-19 20:42:20,396 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:20,879 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:21,235 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:23,532 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
'### Companies Overview\n\nThe following companies are highlighted in the context provided:\n\n- **Aetna**\n- **Ameritas**\n- **Blue Cross/Blue Shield of Tennessee**\n- **Cigna**\n- **Delta Dental of Tennessee**\n- **Guardian**\n- **Humana**\n- **Metlife**\n- **Principal**\n- **Tricare Active Reservists**\n- **Tricare Retired Military**\n- **United Concordia**\n- **United Healthcare**\n\n### Additional Information\n\nThese companies represent a broad network of insurance providers accepted for services, indicating a comprehensive range of coverage options for clients. The inclusion of both active and retired military insurance options (Tricare Active Reservists and Tricare Retired Military) suggests a commitment to serving military personnel and their families. The presence of well-known insurance companies reflects a strong focus on customer service and accessibility in healthcare coverage. \n\nThis list appears consistent across multiple mentions, emphasizing the importance of these providers in the services offered. [source: Lucas Offices.pdf#2]'
2025-07-19 20:42:23,532 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
### Companies Overview

The following companies are highlighted in the context provided:

- **Aetna**
- **Ameritas**
- **Blue Cross/Blue Shield of Tennessee**
- **Cigna**
- **Delta Dental of Tennessee**
- **Guardian**
- **Humana**
- **Metlife**
- **Principal**
- **Tricare Active Reservists**
- **Tricare Retired Military**
- **United Concordia**
- **United Healthcare**

### Additional Information

These companies represent a broad network of insurance providers accepted for services, indicating a comprehensive range of coverage options for clients. The inclusion of both active and retired military insurance options (Tricare Active Reservists and Tricare Retired Military) suggests a commitment to serving military personnel and their families. The presence of well-known insurance companies reflects a strong focus on customer service and accessibility in healthcare coverage. 

This list appears consistent across multiple mentions, emphasizing the importance of these providers in the services offered. [source: Lucas Offices.pdf#2]
2025-07-19 20:42:23,534 — INFO — app — [STREAM] Completed streaming. Clean text for history: 980 chars
2025-07-19 20:42:23,535 — INFO — app — [RETRIEVAL] Sources: ['sample_text.txt', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'sample_word.docx', 'Lucas Offices.pdf', 'School Schedule.pdf'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
2025-07-19 20:42:23,552 — INFO — jwt_handler — [JWT] Successfully decoded minimal token for company_id=3, bot_id=1
2025-07-19 20:42:23,553 — INFO — app — [API] Received question: What quality information exists about DataSys?, company_id: 3, bot_id: 1, session_id: c1f19854-b994-480f-9e7d-41230fdcf67d
2025-07-19 20:42:23,553 — INFO — app — [BOT] Using mode: qa
2025-07-19 20:42:23,554 — INFO — app — [BOT] Smart Complex Mode enabled for ALL queries
2025-07-19 20:42:23,554 — INFO — app — [BOT] Smart Complex → Fast Comprehensive (comprehensive coverage)
2025-07-19 20:42:23,554 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:23,623 — INFO — retriever — [RETRIEVER] Initialized RetrieverService
2025-07-19 20:42:23,999 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-19 20:42:24,395 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-19 20:42:24,692 — INFO — httpx — HTTP Request: GET https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-19 20:42:25,296 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:26,108 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-19 20:42:26,110 — INFO — retriever — [RETRIEVER] Connected to Chroma collection: global
2025-07-19 20:42:26,110 — INFO — retriever — [RETRIEVER] Using direct vector retriever for maximum speed
2025-07-19 20:42:26,612 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/get "HTTP/1.1 200 OK"
2025-07-19 20:42:26,867 — INFO — retriever — [RETRIEVER] Initialized BM25 with 566 documents
2025-07-19 20:42:26,867 — INFO — retriever — [RETRIEVER] Fast comprehensive hybrid retriever — k=8 (BM25+Vector)
2025-07-19 20:42:26,867 — INFO — retriever — [RETRIEVER DEBUG] Sample document metadata: {
  "document_id": "nc7jpk6a2k0lwgo588cxrity",
  "company_id": 3,
  "llm_enrichment": "disabled",
  "total_elements": 1,
  "chunk_type": "direct_extraction",
  "structural_density": 0.508,
  "ingestion_timestamp": "2025-07-19T02:44:24.699542",
  "modified_time": 1752893064.69696,
  "file_name": "Lucas Offices.xlsx",
  "file_size": 9767,
  "event_id": 693,
  "source_page": 1,
  "mime_type": "application/octet-stream",
  "preservation_reason": "structured_data_integrity",
  "processing_strategy": "direct_extraction",
  "bot_id": 1,
  "source": "Lucas_Offices_bff8e5d9ef.xlsx",
  "processing_method": "hybrid_5_stage_created_with_deduplication",
  "timestamp": "2025-07-19T02:44:25.142030",
  "structure_type": "sheet_header",
  "source_type": "xlsx",
  "storage_key": "Lucas_Offices_bff8e5d9ef.xlsx",
  "created_time": 1752893064.69696,
  "content_type": "unstructured_text",
  "element_types": "sheet_header",
  "llm_processing": "llm_disabled_for_data_integrity",
  "chunk_index": 0,
  "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "llm_enrichment_mode": "disabled"
}
2025-07-19 20:42:26,869 — INFO — app — [BOT] Using gpt-4o-mini for Smart Complex query optimization
2025-07-19 20:42:26,869 — INFO — bot_config — [CONFIG] Successfully loaded OPENAI_API_KEY
2025-07-19 20:42:26,964 — INFO — app — [MEMORY] Created new history for session c1f19854-b994-480f-9e7d-41230fdcf67d
2025-07-19 20:42:27,394 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-19 20:42:27,902 — INFO — httpx — HTTP Request: POST https://chroma-load-balancer.onrender.com/api/v2/tenants/default_tenant/databases/default_database/collections/b5b1d40a-1830-4b88-bb4b-6e5b1b5baa12/query "HTTP/1.1 200 OK"
2025-07-19 20:42:28,280 — INFO — httpx — HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-19 20:42:28,390 — INFO — app — [RAW LLM OUTPUT] Raw response from LLM:
"I'm not sure."
2025-07-19 20:42:28,390 — INFO — app — [RAW LLM OUTPUT] Raw response formatted:
I'm not sure.
2025-07-19 20:42:28,391 — INFO — app — [STREAM] Completed streaming. Clean text for history: 13 chars
2025-07-19 20:42:28,393 — INFO — app — [RETRIEVAL] Sources: ['sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_mixed.html', 'sample_word.docx', 'sample_mixed.html', 'sample_mixed.html'], Scores: ['N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A']
